window.getUrlParameter=e=>{var t=window.location.search||window.location.hash,n=decodeURIComponent((new RegExp(`[?|&]${e}=([^&;]+?)(&|#|;|$)`).exec(t)||["",""])[1].replace(/\+/g,"%20"))||null;return n&&(n=n.trim()),n},function(e,t){"use strict";var n=!1,r=!1,o="data-lazyload-mobile-src",i="data-lazyload-mobile-class",a="data-lazyload-desktop-src",s="data-lazyload-desktop-class",l="data-lazyload-mobile-desktop-src",u="data-lazyload-mobile-desktop-class",c={mobile:{show:!1,image:[].slice.call(t.querySelectorAll("["+o+"]")),bgImage:[].slice.call(t.querySelectorAll("["+i+"]"))},desktop:{show:!1,image:[].slice.call(t.querySelectorAll("["+a+"]")),bgImage:[].slice.call(t.querySelectorAll("["+s+"]"))},mobileDesktop:{show:!1,image:[].slice.call(t.querySelectorAll("["+l+"]")),bgImage:[].slice.call(t.querySelectorAll("["+u+"]"))}};function d(t,n){for(var r=0;r<c[t].image.length;){var o=c[t].image[r];"none"===getComputedStyle(o).display&&(o.style.display="inline"),o.getBoundingClientRect().top<=e.innerHeight&&o.getBoundingClientRect().bottom>0?(o.setAttribute("src",o.getAttribute(n)),c[t].image.splice(r,1)):r++}}function p(t,n){for(var r=0;r<c[t].bgImage.length;){var o=c[t].bgImage[r];o.getBoundingClientRect().top<=e.innerHeight&&o.getBoundingClientRect().bottom>0?(o.className+=" "+o.getAttribute(n),c[t].bgImage.splice(r,1)):r++}}function m(){n||(n=!0,setTimeout((function(){t.documentElement.clientWidth<=767?c.mobile.show||(d("mobile",o),p("mobile",i),0===c.mobile.image.length&&0===c.mobile.bgImage.length&&(c.mobile.show=!0)):c.desktop.show||(d("desktop",a),p("desktop",s),0===c.desktop.image.length&&0===c.desktop.bgImage.length&&(c.desktop.show=!0)),c.mobileDesktop.show||(d("mobileDesktop",l),p("mobileDesktop",u),0===c.mobileDesktop.image.length&&0===c.mobileDesktop.bgImage.length&&(c.mobileDesktop.show=!0));var v=t.documentElement.clientWidth<=767&&c.mobile.show||t.documentElement.clientWidth>767&&c.desktop.show;v&&c.mobileDesktop.show&&(e.removeEventListener("scroll",m),r=!0),!v&&r&&(e.addEventListener("scroll",m),r=!1),c.mobile.show&&c.desktop.show&&c.mobileDesktop.show&&e.removeEventListener("resize",m),n=!1}),200))}e.addEventListener("scroll",m),e.addEventListener("resize",m),e.addEventListener("load",m)}(window,document);"use strict";var CloudPayIn={CC:"CreditCard",DC:"DebitCard",AC:"ACH",EB:"WUPay",IA:"iACH",CA:"AG",SF:"Sofort",AP:"AP",TR:"Trustly",SD:"IDEAL",PL:"POLI",PC:"Paramount",TG:"TapNGo",FP:"FPX",PF:"PartnerFunds",BA:"BankAccount",GP:"GooglePay",DI:"DebitCardInterChange",PA:"Plaid",PN:"PayNow"},CloudPayInNames={CC:"Credit Card",DC:"Debit Card",AC:"ACH",EB:"WUPay",IA:"iACH",CA:"AG",SF:"Sofort",AP:"AP",TR:"Trustly",SD:"IDEAL",PL:"POLI",PC:"Paramount",TG:"TapNGo",FP:"FPX",PF:"Partner Funds",BA:"Bank Account",GP:"Google Pay",DI:"Debit Card InterChange",PA:"Plaid",PN:"Pay Now"},CloudPayOut={MM:"AG",DB:"BA",ND:"ND",MB:"MT",DC:"WA",D2:"D2C",AG:"AG"},CloudPayOutNames={MM:"AG",DB:"BA",ND:"ND",MB:"MT",DC:"WA",D2:"D2C",AG:"AG"},CloudPayOutCodeMapping={MM:"000",DB:"500",ND:"ND",MB:"600",DC:"800",DC_1:"801",D2:"200",D2_1:"201",D2_2:"202",AG:"000",HD:"700",AGMexico:"400"},AmerigoPayOut={DB:"bank_transfer",MM:"cash",DC:"mobile_money"},AmerigoPayIn={AG:"stage_and_pay",DC:"direct_debit",CC:"credit_card",CA:"stage_and_pay"},ChangeCountryCurrency={BA:"BAM",RU:"RUB",UY:"UYP",VE:"VEF",ST:"STD"},PayOutCodeNames={"000":"AG",600:"MT",500:"BA",800:"WA",200:"D2C","041":"AG",400:"AG",M10:"AG",M11:"AG",M12:"AG",M13:"AG",M14:"AG",M15:"AG",M16:"AG",M17:"AG",M18:"AG"},USAStates={AA:"Aa-US Military",AE:"Ae-US Military",AK:"Alaska",AL:"Alabama",AP:"Ap-US Military",AR:"Arkansas",AZ:"Arizona",CA:"California",CO:"Colorado",CT:"Connecticut",DC:"Dist Of Col",DE:"Delaware",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",IA:"Iowa",ID:"Idaho",IL:"Illinois",IN:"Indiana",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",MA:"Massachusetts",MD:"Maryland",ME:"Maine",MI:"Michigan",MN:"Minnesota",MO:"Missouri",MP:"Northern Mariana Islands",MS:"Mississippi",MT:"Montana",NC:"North Carolina",ND:"North Dakota",NE:"Nebraska",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NV:"Nevada",NY:"New York",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VA:"Virginia",VI:"Virgin Islands",VT:"Vermont",WA:"Washington",WI:"Wisconsin",WV:"West Virginia",WY:"Wyoming"},CanadaStates={AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland and Labrador",NS:"Nova Scotia",NT:"Northwest Territories",NU:"Nunavut",ON:"Ontario",PE:"Prince Edward Island",QC:"Quebec",SK:"Saskatchewan",YT:"Yukon"},MexicoStates=[{name:"Distrito Federal",code:"IF"},{name:"Aguascalientes",code:"GU"},{name:"Baja California",code:"CN"},{name:"Baja California Sur",code:"CS"},{name:"Campeche",code:"AM"},{name:"Chiapas",code:"HP"},{name:"Chihuahua",code:"HH"},{name:"Coahuila",code:"OA"},{name:"Colima",code:"OL"},{name:"Durango",code:"UR"},{name:"Guanajuato",code:"UA"},{name:"Guerrero",code:"RO"},{name:"Hidalgo",code:"ID"},{name:"Jalisco",code:"AL"},{name:"Michoacán",code:"IC"},{name:"Morelos",code:"OR"},{name:"México",code:"EX"},{name:"Nayarit",code:"AY"},{name:"Nuevo León",code:"LE"},{name:"Oaxaca",code:"AX"},{name:"Puebla",code:"UE"},{name:"Querétaro",code:"UE"},{name:"Quintana Roo",code:"OO"},{name:"San Luis Potosí",code:"LP"},{name:"Sinaloa",code:"IN"},{name:"Sonora",code:"ON"},{name:"Tabasco",code:"AB"},{name:"Tamaulipas",code:"AM"},{name:"Tlaxcala",code:"LA"},{name:"Veracruz",code:"ER"},{name:"Yucatán",code:"UC"},{name:"Zacatecas",code:"AC"}],_this=void 0;function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var triggerPriceCatalog=function(e,t,n){try{var r=window.sessionStorage.getItem("AccountNumber"),o=_objectSpread({header_request:{version:"0.5",request_type:"PRICECATALOG"},sender:_objectSpread(_objectSpread({},WuAmerigoConfigs.isAmerigo()?{client:WuAmerigoConfigs.getClient("CA"===e.funds_in?"RETAIL":"DIGITAL"),channel:"WRET",funds_in:"*"}:{client:"WUCOM",channel:"WWEB",funds_in:e.funds_in||"*"}),{},{curr_iso3:e.currency.toUpperCase(),cty_iso2_ext:e.country.toUpperCase()},!e.receiveAmount&&{send_amount:e.sendAmount}),receiver:_objectSpread({curr_iso3:e.sendToCurrency.toUpperCase(),cty_iso2_ext:e.sendToCountry.toUpperCase(),cty_iso2:e.sendToCountry.toUpperCase()},e.receiveAmount&&{receive_amount:e.receiveAmount})},r&&{visitor:{customer_id:r}}),i=sessionStorage.getItem("serverSidePromoCampaignName")||sessionStorage.getItem("promoPricingCampaignNameUrlParam")||sessionStorage.getItem("promoPricingCampaignName");(i||e.subscriptionId)&&(o.campaign={campaign_name:i||void 0,subscriptionId:e.subscriptionId});var a=function(t,n){var r=t.find((function(e){return e.fund_out_mnem===n&&e.pay_groups[0]}));if(r)return{fx:r.pay_groups[0].fx_rate,fee:r.pay_groups[0].gross_fee,receiveAmount:r.pay_groups[0].receive_amount,sendAmount:e.receiveAmount?r.pay_groups[0].send_amount:0,selectedFundsOut:r.fund_out_mnem,strike_fx_rate:r.pay_groups[0].strike_fx_rate,selectedFundsIn:r.pay_groups[0].fund_in,strike_fee:r.pay_groups[0].strike_gross_fee,strikeReceiveAmount:r.pay_groups[0].strike_fx_rate&&e.sendAmount&&r.pay_groups[0].strike_fx_rate*e.sendAmount,serviceCode:r.service};if(!r)for(var o=0;o<t.length;o++)if("800"===t[o].fund_out&&("MB"===n||"DC"===n)&&CloudPayOut[n]===PayOutCodeNames[t[o].fund_out])return{fx:t[o].pay_groups[0].fx_rate,fee:t[o].pay_groups[0].gross_fee,receiveAmount:t[o].pay_groups[0].receive_amount,sendAmount:e.receiveAmount?t[o].pay_groups[0].send_amount:0,selectedFundsOut:t[o].fund_out_mnem,strike_fx_rate:t[o].pay_groups[0].strike_fx_rate,selectedFundsIn:t[o].pay_groups[0].fund_in,strike_fee:t[o].pay_groups[0].strike_gross_fee,strikeReceiveAmount:t[o].pay_groups[0].strike_fx_rate&&e.sendAmount&&t[o].pay_groups[0].strike_fx_rate*e.sendAmount,serviceCode:t[o].service}},s=function(e,t,n){return n&&e.strike_fx_rate?e.strike_fx_rate&&t.sendAmount&&e.strike_fx_rate*t.sendAmount:e.fx_rate&&t.sendAmount&&e.fx_rate*t.sendAmount},l=getHttpRequestUrl(e.host,e.country.toLowerCase(),t);return{reqPayload:o,url:"".concat(l,"wuconnect/prices/catalog"),initApi:function(t){var r;if("".concat(l,"wuconnect/prices/catalog"),t.categories&&t.categories.length>0&&n)r=function(t,n){var r=t.find((function(e){return"bestfx"===e.type}));if(r){var o=r.services.find((function(e){return e})),i=n.find((function(e){return e.service===o.pay_out}));if(i){var a=i.pay_groups.find((function(e){return e.fund_in===o.pay_in}));o.gross_fee=a.base_fee,o.strike_gross_fee=a.strike_gross_fee}if(o){var l=s(o,e,!1),u=s(o,e,!0);return{fx:o.fx_rate,strike_fx_rate:o.strike_fx_rate,selectedFundsOut:o.pay_out_mnem,selectedFundsIn:o.pay_in,strike_fee:o.strike_gross_fee,fee:o.gross_fee,receiveAmount:l,sendAmount:e.receiveAmount?i.pay_groups[0].send_amount:0,strikeReceiveAmount:u,payIn:o.pay_in,serviceCode:i.service}}}}(t.categories,t.services_groups);else if(t.services_groups&&t.services_groups.length>0){var o=t.services_groups;if(e.funds_in&&e.fund_out_mnem)(r=a(o,e.fund_out_mnem))||(r=a(o,"MM"));else{var i=o[0].pay_groups;i&&i[0]&&(r={fx:i[0].fx_rate,fee:i[0].gross_fee,receiveAmount:i[0].receive_amount,sendAmount:e.receiveAmount?i[0].send_amount:0,selectedFundsOut:o[0].fund_out_mnem,selectedFundsIn:i[0].fund_in,serviceCode:o[0].service})}}return r||{fx:null,fee:null,receiveAmount:0,sendAmount:0,strikeReceiveAmount:0,strike_fx_rate:0,strike_fee:0,payIn:null,serviceCode:null}}}}catch(e){console.warn("Error in catalog service",e)}},dataCatalogProduct=function(e,t,n,r,o,i,a){var s=window.pageData&&window.pageData.R4_COUNTRIES;if(-1!==(s=JSON.parse(s)||[]).indexOf(t.toUpperCase())&&!e)return triggerRouterCreateSession(t,n).then((function(e){var t=e.sessionId;return e.encryptedSessionId,Promise.resolve(triggerProductApi(t,r.country,r.sendToCountry,r.language,r.sendAmount,r.fund_in,r.fund_out_mnem,i,a))}));if(e){var l=CookieService.getCookie("wu_device_id"),u=CookieService.getCookie("userIdentity");u||CookieService.setCookie("userIdentity","newCustomer",365,location.pathname);var c={Cookie:"userIdentity="+u+"; wu_device_id="+l};return httpRequest.post(o.url,o.reqPayload,c).catch((function(e){toggleClass&&_this.spinnerEl&&toggleClass(_this.spinnerEl,"d-flex","d-none"),console.log("error",e)}))}return httpRequest.post(o.url,o.reqPayload)},FifoService=function(){var e,t={},n={},r=!0;function o(){var e=window.location.search||window.location.hash;return r=!1,e.includes("FundsIn=")&&e.includes("FundsOut=")?e:null}function i(){var e=document.getElementById("corridor_countries")?document.getElementById("corridor_countries").innerHTML:null;return"[]"===e?null:e}function a(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n;return null}function s(e){var t={};return["FundsOut","FundsIn"].forEach((function(e){t[e]=function(e){var t=o(),n=t&&decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(t)||[,""])[1].replace(/\+/g,"%20"))||null;return n&&(n=n.trim()),n}(e)})),t.FundsIn=a(CloudPayIn,t.FundsIn),t.FundsOut=a(CloudPayOut,t.FundsOut),t}function l(){return t}function u(e){var t,n=(t=i())&&JSON.parse(t),r=n&&n[e.toLowerCase()];if(r)return r}function c(e,t){var r,o,i;switch(e){case"page_level":n.FifoValue=l();break;case"top_20_corridor":n.FifoValue=u(t),void 0===n.FifoValue&&(n.FifoValue=l(),n.type="page_level");break;case"query_param":n.FifoValue=s();break;default:n.FifoValue=(r=t,o={},i=fifoDefaults.find((function(e){return e.isoCode.toLowerCase()===r.toLowerCase()})),o.FundsIn=a(CloudPayIn,i.fundsIn),o.FundsOut=a(CloudPayOut,i.fundsOut),o)}return n}function d(t){var a;return c((a=i(),r&&!e&&o()?n.type="query_param":a&&0!==a.length?n.type="top_20_corridor":null==a||0==a.length?n.type="page_level":n.type="smo_config",n.type),t)}return{setFifo:function(e,n){return function(e,n){return t.FundsOut=e,t.FundsIn=n,t}(e,n)},getFifo:function(t,n){return e=n,d(t)}}}(),CookieService=function(){var e={},t=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return""};return{getCookie:t,getParsedCookieValue:function(n){return e[n]=e[n]?e[n]:t(n),e[n]?JSON.parse(e[n]):void 0},setCookie:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:window.location.hostname,a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var s=e+"="+t+";"+("expires="+a.toUTCString())+";path="+r+";";-1!==window.location.protocol.indexOf("https")&&(s+="secure;"),o&&(s+="domain="+i),document.cookie=s},setSessionCookie:function(e,t){document.cookie="".concat(e,"=").concat(t,"; path=/")},deleteCookie:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=new Date;o.setTime(o.getTime()-864e5);var i=e+"=;"+("expires="+o.toUTCString())+";path="+t+";";-1!==window.location.protocol.indexOf("https")&&(i+="secure;"),r&&(i+="domain="+n),document.cookie=i}}}(),triggerCountryList=function(e){try{var t={origination:e.country,language:e.language,lists:(r={name:"COUNTRY_LIST",type:"country"},o={name:"sender_country_list",type:"lang"},WuAmerigoConfigs.isAmerigo()&&"ar"===e.language?[r,o]:WuAmerigoConfigs.isAmerigo()?[o]:[r,o,{name:"TOP_COUNTRIES",type:"country"},{name:"COUNTRY_LIST_GCR",type:"country"}]),bashPath:"/".concat(e.country,"/").concat(e.language)},n=getHttpRequestUrl(e.host,e.country.toLowerCase());return{reqPayload:t,url:"".concat(n,"wuconnect/dcaas/list.optimus.json")}}catch(e){console.warn("Error in list optimus api",e)}var r,o};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var CountriesDropdown=function(){function e(t){if(_classCallCheck(this,e),!t)throw new Error("Place has required");if(this.place=t,!this.place.querySelector("[data-countries-dropdown-trigger-box]"))throw new Error("data-countries-dropdown-trigger-box has required");if(this.triggerBox=this.place.querySelector("[data-countries-dropdown-trigger-box]"),!this.place.querySelector("[data-countries-dropdown-trigger]"))throw new Error("data-countries-dropdown-trigger has required");if(this.trigger=this.place.querySelector("[data-countries-dropdown-trigger]"),!this.place.querySelector("[data-countries-dropdown-list]"))throw new Error("data-countries-dropdown-list has required");this.list=this.place.querySelector("[data-countries-dropdown-list]"),this.isOpen=!1,this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;this.trigger.addEventListener("click",(function(t){e.open()}))}},{key:"open",value:function(){this.triggerBox.classList.add("d-none"),this.list.classList.remove("d-none")}}]),e}();document.addEventListener("DOMContentLoaded",(function(e){for(var t=document.querySelectorAll("[data-countries-dropdown-box]"),n=0;n<t.length;n++){var r=t[n];new CountriesDropdown(r)}}));var triggerPriceCorridorList=function(e,t){try{var n=e.toUpperCase(),r=t.toUpperCase(),o=getHttpRequestUrl("".concat(window.location.origin,"/")),i="".concat(o,"wuconnect/rest/api/v1.0/price/corridors/").concat(n,"/").concat(r),a={partnerId:"R3WEB9Z00"};return{initPriceCorridorApi:function(){return new Promise((function(e){httpRequest.get(i,a).then((function(t){e(t)}))}))}}}catch(e){console.warn("Error in price corridor api",e)}},flagSelectService={sortValues:function(e,t){return e.sort((function(e,n){return t?sortingFn(e.value,n.value):sortingFn(e.country.name,n.country.name)})),e},initiateFlagSelect:function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0;Object.keys(e).length>0?new FlagSelect({parent:t,countryList:e,selectedCountry:o,indexOfFlagSelect:n,topEntriesLength:r.length,isFooterDropDown:i,countries:a,optimusCountryList:s}).init():t.classList.add("d-none")},getCountriesConfig:function(e,t,n,r,o,i){var a={},s=[],l=getExceptionList();for(var u in r)if("listPath"!==u&&r[u]){var c=r[u],d=Object.values(c)[0];s.push({value:d,code:Object.keys(c)[0]}),o.push(d)}var p=n.toUpperCase();return e.forEach((function(e){var n=e.country.isoCode,r=t[n],u=n.toUpperCase();p===u&&(a={code:u,value:i&&i[u]?u:r}),r&&!l.includes(u)&&-1===o.indexOf(r)&&s.push({code:n,value:r})})),{countryListRefactored:s,topEntries:o,selectedCountry:a}}},httpRequest=function(){var e=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"GET";return new Promise((function(o,i){var a=new XMLHttpRequest;for(var s in a.open(r,e,!0),n)a.setRequestHeader(s,n[s]);a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var n=JSON.parse(a.responseText),r=e.split("/"),s=r[r.length-1];(s=s.split("?")[0])&&window.logAPIEvent&&window.amplitude&&logAPIEvent("/".concat(s),t,n),o(n)}else a.status>=400&&i(a.status)},a.send(JSON.stringify(t))}))};return{get:function(t,n){return e(t,void 0,n,"GET")},post:function(t,n,r){return e(t,n,r,"POST")},put:function(t,n,r){return e(t,n,r,"PUT")}}}();function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var fetchApiWu=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=document.getElementById("spinnerContainer");return r&&showSpinnerMain(i),fetch(e,t).then((function(e){var t;r&&!o&&hideSpinnerMain(i);var n=null==e||null===(t=e.headers)||void 0===t?void 0:t.get("content-type");try{return-1===(null==n?void 0:n.indexOf("application/json"))?e.text():e.ok?e.json():n||!1!==e.ok?e.json().then((function(t){return"object"!==_typeof(t)||Array.isArray(t)||null===t?t:_objectSpread({status:e.status,statusText:e.statusText,ok:!1,error:!0},t)})):{status:e.status,statusText:e.statusText,ok:!1,error:!0}}catch(t){return{status:e.status,statusText:e.statusText,ok:!1,error:!0}}})).then((function(e){return n&&window.logAPIEvent&&window.logAPIEvent("/".concat(n),t.body,e),e}))};function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ISO_CODES_COUNTRIES_CURRENCIES=_defineProperty({IN:"INR",PK:"PKR",TH:"THB",AF:"AFN",AL:"ALL",DZ:"DZD",AS:"USD",AD:"EUR",AO:"AOA",AI:"XCD",AG:"XCD",AR:"ARS",AW:"AWG",AU:"AUD",AT:"EUR",AZ:"AZN",BS:"BSD",BH:"BHD",BD:"BDT",BB:"BBD",BY:"USD",BE:"EUR",BZ:"BZD",BJ:"XOF",BT:"BTN",BO:"BOB",BA:"BAD",BW:"BWP",BR:"BRL",BM:"BMD",VG:"USD",BN:"BND",BG:"BGN",BF:"XOF",BI:"BIF",KH:"USD",CM:"XAF",CA:"CAD",CV:"CVE",CF:"XAF",TD:"XAF",CL:"CLP",CN:"CNY",CO:"COP",KM:"KMF",CG:"XAF",CD:"USD",CK:"NZD",CR:"CRC",HR:"EUR",AN:"ANG",CY:"EUR",C2:"USD",CZ:"CZK",DK:"DKK",DJ:"DJF",DO:"DOP",TP:"USD",EC:"USD",EG:"EGP",SV:"USD",GQ:"XAF",ER:"ERN",EE:"EUR",ET:"ETB",FK:"FKP",FJ:"FJD",FI:"EUR",FR:"EUR",GF:"EUR",GA:"XAF",GM:"GMD",GE:"GEL",DE:"EUR",GH:"GHS",GI:"GBP",GR:"EUR",GD:"XCD",GP:"EUR",GU:"USD",GT:"GTQ",GN:"GNF",GW:"XOF",GY:"GYD",HT:"HTG",HN:"HNL",HK:"HKD",HU:"HUF",IS:"ISK",ID:"IDR",IQ:"IQD",IE:"EUR",IL:"USD",IT:"EUR",CI:"XOF",JM:"JMD",JP:"JPY",JO:"JOD",KZ:"KZT",KE:"KES",KI:"AUD",KR:"USD",K1:"EUR",KW:"KWD",KG:"USD",LA:"LAK",LV:"EUR",LB:"USD",LS:"LSL",LR:"USD",LI:"CHF",LT:"EUR",LU:"EUR",MO:"MOP",MK:"EUR",MG:"MGA",MW:"MWK",MY:"MYR",MV:"MVR",ML:"XOF",MT:"EUR",MH:"USD",MQ:"EUR",MR:"MRO",MU:"MUR",YT:"EUR",MX:"MXN",FM:"USD",MD:"MDL",MC:"EUR",MN:"USD",ME:"EUR",MS:"XCD",MA:"MAD",MZ:"MZN",MM:"MMK",NA:"NAD",NR:"AUD",NP:"NPR",NL:"EUR",NC:"XPF",NG:"NGN",NZ:"NZD",NI:"USD",NE:"XOF",NU:"NZD",MP:"USD",NO:"NOK",OM:"OMR",PW:"USD",PS:"ILS",PA:"USD",PG:"PGK",PY:"PYG",PE:"PEN",PH:"PHP",PL:"PLN",PT:"EUR",PR:"USD",QA:"QAR",RE:"EUR",RO:"RON",RU:"RUR",RW:"RWF",BL:"EUR",KN:"XCD",LC:"XCD",VC:"XCD",WS:"WST",ST:"STN",SA:"SAR",SN:"XOF",YU:"RSD",SC:"SCR",SL:"SLE",SG:"SGD",SK:"EUR",SI:"EUR",SB:"SBD",ZA:"ZAR",SS:"SSP",ES:"EUR",LK:"LKR",S1:"ANG",SD:"SDG",SR:"USD",SE:"SEK",CH:"CHF",TW:"USD",TJ:"USD",TZ:"TZS",TG:"XOF",TO:"TOP",TT:"TTD",TN:"TND",TR:"TRY",TM:"USD",TV:"AUD",UG:"UGX",UA:"UAH",AE:"AED",GB:"GBP",US:"USD",UY:"UYP",UZ:"USD",VU:"VUV",VE:"VIB",VN:"VND",VI:"USD",YE:"USD",ZM:"ZMW",ZW:"USD",QS:"USD",CU:"USD",TC:"USD",XR:"GBP",QQ:"USD",XP:"USD",AB:"USD",QM:"USD",QN:"USD",QO:"USD",QP:"USD",QR:"USD",QT:"USD",QU:"USD",QV:"USD",QW:"USD",QX:"USD",QY:"USD",QZ:"USD",XF:"USD",XY:"USD",XN:"USD",XT:"USD",KY:"KYD",DM:"XCD"},"ST","STN");function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){asyncGeneratorStep(i,r,o,a,s,"next",e)}function s(e){asyncGeneratorStep(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var stringExists=function(e,t){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(-1!==e.indexOf(o))return!0}}catch(e){r.e(e)}finally{r.f()}return!1};function getParamFromUrl(){var e=window.location.search||window.location.hash;return""===e&&(e=null),e}function getURLParameter(e){var t=getParamFromUrl(),n=t&&decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(t)||[,""])[1].replace(/\+/g,"%20"))||null;return null!=n&&(n=n.trim()),n}var env=["origin.cms","cloudfront","wucom-wdp-dev","localhost","www2.westernunion.com","www3.westernunion.com"],prodUrl="https://www.westernunion.com/",sortingFn=function(e,t){var n=e.toUpperCase(),r=t.toUpperCase();return n<r?-1:n>r?1:0},getParams=function(e,t,n,r,o,i,a){var s="",l=WuAmerigoConfigs.isAmerigo();return l&&-1==a.indexOf("web/send-money/start")&&(s="page=/send_money&payment.country_send=".concat(e,"&payment.currency_send=").concat(t,"&payment.amount_get=").concat(n,"&fundsout=").concat(r,"&fundsin=").concat(o)),l&&-1==a.indexOf("web/send-money/start")?"en"===i?"?~".concat(s):"?lang=".concat(i,"&").concat(s):"?ReceiveCountry=".concat(e,"&ISOCurrency=").concat(t,"&SendAmount=").concat(n,"&FundsOut=").concat(r,"&FundsIn=").concat(o)},uaeCheck="alfardanexchange",uatUrl="https://wudispatcher-uatrs3.westernunion.com/",russiaUrl="https://www.westernunion.ru/",www3Url="https://www3.westernunion.com/",uatCiUrl="https://wudispatcher-uatci2.westernunion.com/",uatRs2Url="https://wudispatcher-uatrs2.westernunion.com/",getHttpRequestUrl=function(e,t,n){return-1!==location.href.indexOf("www2")||-1!==location.href.indexOf("www3")?"".concat(location.origin,"/"):-1!==location.href.indexOf("uatci2")?uatCiUrl:-1!==location.href.indexOf("uatrs2")?uatRs2Url:n?e:stringExists(location.href,["origin.cms","cloudfront","wucom-wdp-dev","localhost","www3","uatrs3"])?uatUrl:"ru"===t?russiaUrl:e||prodUrl},toggleClass=function(e,t,n){-1!==e.className.indexOf(t)?(e.classList.add(n),e.classList.remove(t)):(e.classList.add(t),e.classList.remove(n))},getExceptionList=function(){return["ab","qm","qn","qo","qp","qq","qr","qs","qt","qu","qv","qw","qx","qy","qz","xf","xn","xp","xt","xy"]},partnerIdEnabledCountries=["CL"],getPartnerIdForCountry={CL:{webPartnerId:"CL959DTWPP1B"}},isPartnerIdEnabled=function(e){return partnerIdEnabledCountries.includes(e)};function setCookie(e,t,n,r){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var i="expires="+o.toUTCString();document.cookie=r?e+"="+t+";"+i+";path="+r:e+"="+t+";"+i+";path=/"}var routerUrl=location.hostname.startsWith("www")?"/router/":"https://digital-chs-uat.digitalprod.awswuintranet.net/router/";function generateUniqueID(){var e=(new Date).getTime(),t="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var r=16*Math.random();return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),("x"===n?r:3&r|8).toString(16)}))}function inactivityTime(e,t){var n,r=e,o=0;/complete|interactive|loaded/.test(document.readyState)?a():window.addEventListener("load",a,!0);var i=["mousedown","mousemove","keypress","scroll","touchstart","click"];function a(){o=0}i.forEach((function(e){document.addEventListener(e,a,!0)})),n=window.setInterval((function(){++o>=r&&(window.clearInterval(n),t(),window.removeEventListener("load",a,!0),i.forEach((function(e){document.removeEventListener(e,a,!0)})))}),1e3)}var hideSpinnerMain=function(e){(e=e||document.getElementById("spinnerContainer"))&&toggleClass&&toggleClass(e,"d-flex","d-none")},showSpinnerMain=function(e){(e=e||document.getElementById("spinnerContainer"))&&toggleClass&&toggleClass(e,"d-none","d-flex")},capitalizeWords=function(e){try{if(e)return(e=e.toLowerCase()).split(" ").map((function(e){return e[0].toUpperCase()+e.substring(1)})).join(" ")}catch(t){return console.log("Error into capitalized the string"),e}},mailformat=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,phoneformat=/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im,phoneFormatWithoutPlus=/^[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im,getCountryAndLanguage=function(){var e=location.pathname.replace("/pages/latest","").split("/");return{country:e[1],lang:e[2]}},showValidationMessage=function(e){var t=e.parentNode;t.classList.add("wu-input--error");var n=t.querySelector(".wu-input--error");n&&n.classList.remove("d-none")},hideValidationMessage=function(e){var t=e.parentNode;t.classList.remove("wu-input--error");var n=t.querySelector(".wu-input--error");n&&n.classList.add("d-none")},maskingEmail=function(e){if(e){var t,n=e.split(""),r=[],o=n.indexOf("@"),i=0,a=_createForOfIteratorHelper(n);try{for(a.s();!(t=a.n()).done;){var s=t.value;i>1&&i<o-2?r.push("*"):r.push(s),i++}}catch(e){a.e(e)}finally{a.f()}return r.join("")}return""},passwordFormat=/((?=.*[a-z])(?=.*[A-Z])(?=.*[0123456789])^.{8,16}$)/,eyeIconView=function(){var e=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0;if(arguments.length>1?arguments[1]:void 0)if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])e.removeAttribute("style");else for(var n=0,r=Object.entries(t);n<r.length;n++){var o=_slicedToArray(r[n],2),i=o[0],a=o[1];e.style[i]=a}},showHideValidationMessage=function(e,t){var n=e.parentNode,r=n.querySelector(".wu-input--error");"show"===t?(n.classList.add("wu-input--error"),r&&classList.remove("d-none")):(n.classList.remove("wu-input--error"),r&&classList.add("d-none"))};function updateUserIdentity(e){var t,n,r=CookieService.getCookie("userIdentity");r||CookieService.setCookie("userIdentity","newCustomer",365,location.pathname),"0"===(null==e||null===(t=e.gatewayCustomer)||void 0===t?void 0:t.transactionCount)&&"registeredCustomer"!==r&&CookieService.setCookie("userIdentity","registeredCustomer",365,location.pathname),(null==e||null===(n=e.gatewayCustome)||void 0===n?void 0:n.transactionCount)>0&&"existingCustomer"!==r&&CookieService.setCookie("userIdentity","existingCustomer",365,location.pathname)}var getCurrencyFromPriceCorridor=function(e){try{for(var t,n,r,o=null,i=countryCurrencyDefaults.countries.find((function(t){return t.country.isoCode.toLowerCase()===e.toLowerCase()}))||null,a=null==i||null===(t=i.country)||void 0===t?void 0:t.currencies,s=0;s<a.length;s++)o=a.find((function(e){return"1"===e.currency.order}));return"UYU"===(null===(n=o)||void 0===n||null===(r=n.currency)||void 0===r?void 0:r.isoCode)?"UYP":o.currency.isoCode}catch(e){console.log("price corridor failed"),console.log(e)}};function storeErrorResponseAndSession(e,t,n,r){sessionStorage.setItem("quickLoginErrorResponse",JSON.stringify(e)),CookieService.setCookie("SessionId",t,10,"/"),CookieService.setCookie("ClientIp",n,10,"/"),CookieService.setCookie("EncryptedSessionId",r,10,"/")}!function(){var e=document.getElementById("qrCodeModalMain");if(e){null==e||e.querySelector(".qrCodeClose").addEventListener("click",(function(e){t()})),window.addEventListener("keydown",(function(e){"Escape"===e.key&&t()}));var t=function(){e.classList.add("d-none"),e.classList.remove("d-flex"),CookieService.setCookie("qrCodeClosed","true")}}}();var getSessionStorageItems=function(e){return e.map((function(e){return{key:e,value:window.sessionStorage.getItem(e)}}))},setSessionStorageItems=function(e){return e.forEach((function(e){var t=e.key,n=e.value;return window.sessionStorage.setItem(t,n)}))},CHANGE_COUNTRY_CURRENCY_FOR_API_REQUEST={BA:[{BAM:"BAD"}],RU:[{RUB:"RUR"}],UY:[{UYU:"UYP"}],VE:[{VEF:"VIB"}],ST:[{STD:"STN"}]},setCountryCurrencyChange=function(e,t){var n,r=CHANGE_COUNTRY_CURRENCY_FOR_API_REQUEST&&CHANGE_COUNTRY_CURRENCY_FOR_API_REQUEST[e]?CHANGE_COUNTRY_CURRENCY_FOR_API_REQUEST[e]:void 0;return r&&r.length>0&&r.forEach((function(e){Object.keys(e).forEach((function(r){r===t&&(n=e[r])}))})),n||t};!function(){var e=document.getElementById("mobile-sticky");e&&window.matchMedia("only screen and (max-width: 768px)").matches&&(document.querySelector("body").insertAdjacentElement("afterend",e),window.addEventListener("scroll",(function(t){e.style.display=window.scrollY>800?"block":"none"})))}();var senderCountryExceptionList=["US"],validateExceptionList=function(e,t){return!!senderCountryExceptionList.includes(e.toUpperCase())||!getExceptionList().includes(t.toLowerCase())},showHideElements=function(e,t){t?e.classList.remove("d-none"):e.classList.add("d-none")};function isValidPostalCode(e,t){switch(t){case"US":postalCodeRegex=/^([0-9]{5})(?:[-\s]*([0-9]{4}))?$/;break;case"CA":postalCodeRegex=/^([a-zA-Z][0-9][a-zA-Z])\s*([0-9][a-zA-Z][0-9])$/;break;default:postalCodeRegex=/^(?:[A-Z0-9]+([- ]?[A-Z0-9]+)*)?$/}return postalCodeRegex.test(e)}var randomStringGenerator=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256;return Math.floor((1+Math.random())*e).toString(16).substring(1)},roundToTwo=function(e){return(Math.round(100*e)/100).toFixed(2)},triggerAmplitudePageEvent=function(e){if(e){var t="page_"+e,n=getAnalyticsData();n.page_name=e,window.amplitude&&window.logEvents&&(window.logEvents(t,n),sessionStorage.setItem("wuAmplitude_pageName",e))}},getAkCountryRMO=function(){var e=CookieService.getCookie("AKCountry");return"ca"===(null==e?void 0:e.toLowerCase())?"CA":"US"},QUICK_LOGIN_VIA_CODE_COUNTRIES=["US"];function getCookieValueByKeyName(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return""}var triggerAmplitudeLogEvent=function(e,t){if(e){var n,r,o=_objectSpread(_objectSpread({},getAnalyticsData()),t);Object.keys(o).length>0&&(null===(n=window)||void 0===n?void 0:n.amplitude)&&(null===(r=window)||void 0===r?void 0:r.logEvents)&&window.logEvents(e,o)}},isNonProdEnv=function(e){return env.find((function(t){return e.indexOf(t)>-1}))},isFeatureEnabledViaOptimizelyFeatureExperimentation=function(e,t){if(!window||!window.optimizelyFeatureExp)return"true"===sessionStorage.getItem(e);var n=window.optimizelyFeatureExp;if(n){var r=n.decide(e);if(r&&r.ruleKey){var o;logOptimizelyFeatureExp(r,t);var i=null===(o=r.variationKey)||void 0===o?void 0:o.toUpperCase();return"ON"===i||i===(null==t?void 0:t.toUpperCase())}return!1}},logOptimizelyFeatureExp=function(e,t){var n=window.optimizelyFeatureExp,r={ab_test:e.ruleKey,ab_test_variant:e.ruleKey+"_"+e.variationKey};t&&(r.ab_test_variant=t);var o={$opt_event_properties:r};n.trackEvent(e.ruleKey,o),window.logEvergageExperienceAmplitudeEvent(r)},getVariablesForActiveVariation=function(e){var t=null;if(window&&window.optimizelyFeatureExp){var n=window.optimizelyFeatureExp;if(n){var r=n.decide(e);r&&r.ruleKey&&r.variables&&(t=r.variables)}}return t};function convertSvgToWebP(e){return _convertSvgToWebP.apply(this,arguments)}function _convertSvgToWebP(){return(_convertSvgToWebP=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.text();case 5:return r=e.sent,e.abrupt("return",new Promise((function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),o=new Image;o.onload=function(){t.width=o.width,t.height=o.height,n.drawImage(o,0,0),e(t.toDataURL("image/webp"))},o.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var isFeatureEnabledViaSessionStorage=function(e){try{var t=getCountryAndLanguage().country,n=sessionStorage.getItem(e)?JSON.parse(sessionStorage.getItem(e)):"",r=!1;return n&&(null==n?void 0:n.isEnabled)&&(null==n?void 0:n.enabledCountry)&&(r="true"==n.isEnabled&&(-1!=n.enabledCountry.indexOf(null==t?void 0:t.toLowerCase())||-1!=n.enabledCountry.indexOf(null==t?void 0:t.toUpperCase()))),r}catch(e){return!1}},convertDateFormat=function(e){var t=e.trim().split("/").map(Number),n=_slicedToArray(t,3),r=n[0],o=n[1],i=n[2];return new Date(Date.UTC(i,r-1,o,8,47,51,0)).toISOString().replace("Z","+05:30")};function convertDate(e){var t=sessionStorage.getItem("mywuApp"),n=JSON.parse(t),r=null==n?void 0:n.customer.address.countryCode,o=e.replace(/-/g,"/"),i=o.split("/");return"US"==r?"".concat(i[1],"/").concat(i[2],"/").concat(i[0]):"".concat(i[2],"/").concat(i[1],"/").concat(i[0])}function currentTimeStampNow(){return(new Date).toISOString()}function removeEmptyReqKey(e){for(var t in e)e.hasOwnProperty(t)&&(null!==e[t]&&void 0!==e[t]&&""!==e[t]||delete e[t]);return JSON.stringify(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function handleDenoTableShowHide(e,t){e.setAttribute("hidden",""),t.removeAttribute("hidden")}!function(e,t){try{var n=/\/currency-converter\/.+\.html$/.test(e.location.pathname)||/\/currency-converter-(.)*\/.+\.html$/.test(e.location.pathname),r=e.location.pathname.split("-"),o=r[r.length-2]&&r[r.length-2].toUpperCase();if(n&&o){var i=function(){var e=t.querySelector("span[title=".concat(o.toUpperCase(),"]")),n=e&&e.getAttribute("data-countrycode");if(n)return n;for(var r in ISO_CODES_COUNTRIES_CURRENCIES)if(ISO_CODES_COUNTRIES_CURRENCIES[r]===o)return r}(),a=t.querySelector(".calculator"),s={currency:a.getAttribute("data-currency"),country:a.getAttribute("data-country"),funds_in:a.getAttribute("data-fund-in"),fund_out_mnem:a.getAttribute("data-fund-out-mnem"),host:a.getAttribute("data-host"),sendAmount:"",sendToCurrency:ISO_CODES_COUNTRIES_CURRENCIES[i],sendToCountry:i};!function(){var e=t.getElementById("corridor_countries"),n=e&&e.innerHTML&&JSON.parse(e.innerHTML),r=n&&n[i.toLowerCase()];if(r){var o=_slicedToArray(r,2);s.funds_in=o[0],s.fund_out_mnem=o[1]}for(var a in n)for(var l in n[a])n[a][l]==parseInt(sessionStorage.getItem("currency-converter-amount"))&&sessionStorage.removeItem("currency-converter-amount")}();var l=t.getElementById("denoTblContainer"),u=l.querySelectorAll("td:nth-child(odd)"),c=l.querySelectorAll("td:nth-child(even)");l.classList.remove("d-none");var d=!1,p=t.getElementById("denoTable"),m=t.getElementById("spinner");p.setAttribute("hidden","");var v=function t(){d||(d=!0,setTimeout((function(){l.getBoundingClientRect().top<=e.innerHeight&&l.getBoundingClientRect().bottom>=0&&(function(){for(var e=function(e){m.removeAttribute("hidden"),s.sendAmount=parseInt(u[e].innerText).toFixed(2);var t=triggerPriceCatalog(s);httpRequest.post(t.url,t.reqPayload).then((function(n){var r=t.initApi(n).receiveAmount;0!==r?(c[e].innerText="".concat(r.toFixed(2)," ").concat(o),e==u.length-1&&handleDenoTableShowHide(m,p)):0==r?(u[e].parentNode.parentNode.removeChild(u[e].parentNode),handleDenoTableShowHide(m,p)):c[e].parentNode.parentNode.removeChild(c[e].parentNode)})).catch((function(t){0==e&&(l.setAttribute("hidden",""),m.setAttribute("hidden",""))}))},t=0;t<u.length;t++)e(t)}(),e.removeEventListener("scroll",t),e.removeEventListener("resize",t),e.removeEventListener("load",t)),d=!1}),200))};e.addEventListener("scroll",v),e.addEventListener("resize",v),e.addEventListener("load",v)}}catch(e){console.warn("Error in currency converter",e)}}(window,document),document.addEventListener("triggerReceiveAmountElem",(function(){if(calc.prevReceiverValue!=calc.receiveAmountElem.value){calc.lastTouchedInput="receiverAmtField",null!=calc.initFXTimeout&&clearTimeout(calc.initFXTimeout);var e=parseFloat(calc.receiveAmountElem.value/calc.fxToElem.innerHTML.split(" ")[0]).toFixed(2);calc.sendAmountElem.value=e,calc.initFXTimeout=setTimeout((function(){calc.initFXTimeout=null,calc.receiverAmount=calc.receiveAmountElem.value,calc.initFX(calc.receiverAmount),calc.prevReceiverValue=calc.receiveAmountElem.value}),2e3)}}));var sendMoneyLink=function(){var e;return{setParam:function(t){t&&(e=t.split("?")[1])},getParam:function(){return e}}}(),createSessionQuery="mutation createSession( $req:CreateSessionInput ){\n  createSession(input: $req) {\n    ... on CreateSessionResponse{\n      security {\n        clientIp\n        dataCenter\n        session{\n        auth\n        encryptedSessionId\n        id\n        }\n      }\n    }\n    ... on ErrorResponse {\n      errorCode\n      message\n      name\n    }\n    }\n  }",productApiQuery="\n    query products($req_products: ProductsInput, ) {\n      products(input: $req_products) {\n        __typename\n          ...on ProductsResponse {\n            products {\n              code\n              name\n              payIn\n              payOut\n              fees\n              exchangeRate\n              destination {\n                expectedPayoutAmount\n                expectedPayoutAmountLong\n                currencyIsoCode\n                countryIsoCode\n                splitPayOut {\n                  expectedPayoutAmount\n                  currencyIsoCode\n                  exchangeRate\n                  countryIsoCode\n                }\n                actualPayoutAmount\n              }\n            }\n            categories {\n              type\n              orders {\n                payIn\n                payOut\n              }\n            }\n          }\n          ...on ErrorResponse {\n            errorCode\n            message\n          }\n      }\n    }",createFXAlertQuery="mutation  createFxAlert( $req:CreateAlertInput, ) { \n  createFxAlert (input: $req) {\n    ... on CreateAlertResponse {\n      fxId\n      response\n      token\n      }\n    ... on ErrorResponse {\n        correlationId\n        errorCode\n        issues {\n            field\n            issue\n            code\n            message         \n        }\n        legacyError\n        message\n        name\n        priority\n    }\n    } }";function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var triggerRouterCreateSession=function(e,t){var n=new Headers,r=e.toUpperCase();n.append("x-wu-operationname","createSession"),n.append("Content-Type","application/json"),n.append("x-wu-accesscode","RtYV3XDz9EA"),n.append("wucountrycode",r),n.append("wulanguagecode",t);var o=window.sessionStorage.getItem("blackBoxString"),i={businessMode:"DIGITAL",externalReferenceNo:"1",locale:{countryCode:r,languageCode:t},security:{requestHeader:[{key:"isRREnabled",value:"false"}],blackBoxData:_objectSpread(_objectSpread({id:"101569194"},o&&{data:o}),{},{length:(null==o?void 0:o.length)?"".concat(null==o?void 0:o.length.toString()):"0"})},device:{type:"WEB"},channel:{type:"WEB",name:"Western Union",version:"9Z00",isResponsive:"true",deviceIdentifier:"RESPONSIVE_WEB"}};if(isPartnerIdEnabled(r)){var a=getPartnerIdForCountry[r].webPartnerId;a&&(i.channel.partnerId=a)}var s=JSON.stringify({query:createSessionQuery,variables:{req:i}});return fetchApiWu(routerUrl,{method:"POST",headers:n,body:s,redirect:"follow"},"createSessionVulcan").then((function(e){var t,n,r,o,i,a,s,l,u,c,d,p,m,v;return Promise.resolve({sessionId:null==e||null===(t=e.data)||void 0===t||null===(n=t.createSession)||void 0===n||null===(r=n.security)||void 0===r||null===(o=r.session)||void 0===o?void 0:o.id,encryptedSessionId:null==e||null===(i=e.data)||void 0===i||null===(a=i.createSession)||void 0===a||null===(s=a.security)||void 0===s||null===(l=s.session)||void 0===l?void 0:l.encryptedSessionId,clientIp:null==e||null===(u=e.data)||void 0===u||null===(c=u.createSession)||void 0===c||null===(d=c.security)||void 0===d?void 0:d.clientIp,dataCenter:null==e||null===(p=e.data)||void 0===p||null===(m=p.createSession)||void 0===m||null===(v=m.security)||void 0===v?void 0:v.dataCenter})})).catch((function(e){return console.log("Product Data not found: ",e)}))};function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var triggerProductApi=function(e,t,n,r,o,i,a){var s,l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=arguments.length>8?arguments[8]:void 0,c=new Headers,d=t.toUpperCase();c.append("x-wu-operationname","products"),c.append("Content-Type","application/json"),c.append("x-wu-accesscode","RtYV3XDz9EA"),c.append("wucountrycode",d),c.append("wulanguagecode",r),c.append("device-id",null===(s=CookieService)||void 0===s?void 0:s.getCookie("wu_device_id"));var p="MX"===n.toUpperCase()&&"AG"===a?CloudPayOutCodeMapping.AGMexico:CloudPayOutCodeMapping[a],m=Date.now(),v=window.sessionStorage.getItem("state"),g={};if(["CA","US"].includes(d)){if(v){var y,f,h,C,w,S,b,_;(null===(y=v=JSON.parse(v))||void 0===y||null===(f=y.updatedUserDetails)||void 0===f||null===(h=f.gatewayCustomer)||void 0===h||null===(C=h.address)||void 0===C?void 0:C.state)&&(null===(w=v)||void 0===w||null===(S=w.updatedUserDetails)||void 0===S||null===(b=S.gatewayCustomer)||void 0===b||null===(_=b.address)||void 0===_?void 0:_.province)&&(g.eflValue=v.updatedUserDetails.gatewayCustomer.address.state,g.provinceState=v.updatedUserDetails.gatewayCustomer.address.province)}else{var A=CookieService.getCookie("AKRegioncode");A&&(g.eflValue=g.provinceState=A)}g.eflValue&&"CA"===d&&CanadaStates[g.eflValue]||"US"===d&&USAStates[g.eflValue]||(g={})}var L=(100*o).toFixed(2);L=Number(L);var I={req_products:{origination:_objectSpread({channel:"WWEB",client:"WUCOM",countryIsoCode:d,currencyIsoCode:ISO_CODES_COUNTRIES_CURRENCIES[d],eflType:"STATE",amount:L,fundsIn:"*",airRequested:"Y"},g),destination:{countryIsoCode:n.toUpperCase(),currencyIsoCode:u||ISO_CODES_COUNTRIES_CURRENCIES[n.toUpperCase()]},language:r,headerRequest:{version:"0.5",requestType:"PRICECATALOG",correlationId:e,transactionId:"".concat(e,"-").concat(m)},visit:{localDatetime:{timeZone:(new Date).getTimezoneOffset(),timestampMs:m}}}},E=JSON.stringify({query:productApiQuery,variables:I});return fetch(routerUrl,{method:"POST",headers:c,body:E,redirect:"follow"}).then((function(e){return e.text()})).then((function(e){var t,n,r,a;if(e=JSON.parse(e),l){var s,u,c,d,m,v,g,y=null===(s=e)||void 0===s||null===(u=s.data)||void 0===u||null===(c=u.products)||void 0===c||null===(d=c.categories)||void 0===d?void 0:d.filter((function(e){var t=e.type;return"Fastest"===t||"BestFx"===t}));y&&0!==y.length?(i=y[0].orders[0].payIn,p=y[0].orders[0].payOut):(i=null===(m=e)||void 0===m||null===(v=m.data)||void 0===v||null===(g=v.products)||void 0===g?void 0:g.products[0].payIn,p=y[0].orders[0].payOut)}var f,h=null===(t=e)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.products)||void 0===r||null===(a=r.products)||void 0===a?void 0:a.filter((function(e){return e.payIn===i&&e.payOut===p}))[0];return h?Promise.resolve({fx:h.exchangeRate,fee:h.fees?h.fees/100:0,receiveAmount:(null==h||null===(f=h.destination)||void 0===f?void 0:f.expectedPayoutAmountLong)?h.destination.expectedPayoutAmountLong/100:0,sendAmount:o,fundsIn:i,payOut:p}):Promise.resolve({fx:null,fee:null,receiveAmount:0,sendAmount:0,fundsIn:i,payOut:p})})).catch((function(e){return console.log("error",e)}))},onCustomerLogin=function(e){try{var t=getCountryAndLanguage(),n=t.country,r=t.lang,o=window.location.host,i={emailId:null==e?void 0:e.emailId,password:null==e?void 0:e.password,rememberMeChecked:null==e?void 0:e.rememberMeChecked};CookieService.getCookie("rodeoR4Experience")?getCustomerSignOnR4API(n,r,i):getCustomerSignOnR3API(n,r,i,o)}catch(e){console.error("Catch: ",e)}};function setR3DataInStorage(e,t,n,r,o){try{var i,a,s,l,u,c,d,p,m,v,g,y,f,h,C=null==o||null===(i=o.data)||void 0===i||null===(a=i.customerProfile)||void 0===a||null===(s=a.customer)||void 0===s?void 0:s.accountNumber,w=null==o||null===(l=o.data)||void 0===l||null===(u=l.customerProfile)||void 0===u||null===(c=u.customer)||void 0===c?void 0:c.registrationDate,S={},b=r.toUpperCase();S=C?{email:n.emailId,verificationStatus:"N",termsConditionFlag:"1",myWuNumber:C,isLoggedIn:!0,address:{countryIsoCode:b},additionalPreferedAccountNumber:C,issueDate:null==w||null===(g=w.split(" ")[0])||void 0===g?void 0:g.replace(/-/g,""),mobileNumber:{},identityVerificationStatus:"N",accountPreferences:{optOutMarketing:"true",directMail:"false",message:"false",email:"true",telephoneCall:"false",optInShare:"true",thirdpartyDatasharingConsent:"true",whatsAppMsg:"false"},registrationDetails:{registrationDate:w,registrationStatus:"P"},customerLevelCode:null==o||null===(y=o.data)||void 0===y||null===(f=y.customerProfile)||void 0===f||null===(h=f.customer)||void 0===h?void 0:h.customerLevelCode}:{email:n.emailId,password:n.password};var _=document.querySelector("#footer-country-dropdown .b-flag-select__value"),A=window.receiverCountry,L=null===(d=countryCurrencyDefaults)||void 0===d||null===(p=d.countries)||void 0===p||null===(m=p.filter((function(e){return e.country.isCode===A}))[0])||void 0===m||null===(v=m.country)||void 0===v?void 0:v.name,I={sessionId:e,encryptedSessionId:t,sender:S,corridor:{senderCountry:{isoCode:b,name:null==_?void 0:_.innerText},receiverCountry:{isoCode:A,name:L},receiverCurrency:ISO_CODES_COUNTRIES_CURRENCIES[A],senderCurrency:ISO_CODES_COUNTRIES_CURRENCIES[b],senderCurrencyArray:[{currency:ISO_CODES_COUNTRIES_CURRENCIES[b]}],receiverCurrencyArray:[{currency:ISO_CODES_COUNTRIES_CURRENCIES[A]}]}},E=JSON.stringify(I);sessionStorage.setItem("app",E),sessionStorage.setItem("cookiestore",E),sessionStorage.setItem("sc_login_success",!0),CookieService.setCookie("SessionId",e,30,"/",!0,".westernunion.com"),CookieService.setCookie("EncryptedSessionId",t,30,"/".concat(r,"/").concat(lang),!0,".westernunion.com")}catch(e){console.log(e)}}var getCustomerSignOnR4API=function(e,t,n){triggerRouterCreateSession(e,t).then((function(r){var o=r.sessionId,i=r.encryptedSessionId,a=r.clientIp,s=r.dataCenter;o&&getCustomerR4API(o,i,a,s,e,t,n)})).catch((function(e){console.error("error from trigger create Session : ",e)}))},getCreateSessionR3API=function(e,t,n){var r=triggerCreateSession(e,t,n);return httpRequest.post(r.createSessionurl,r.reqPayload,{"Content-type":"application/json"}).then((function(e){var t,n,r,o;return{clientIp:(null==e||null===(t=e.security)||void 0===t?void 0:t.client_ip)?e.security.client_ip:"245024209201",sessionId:null==e||null===(n=e.security)||void 0===n?void 0:n.session.id,encryptedSessionId:null==e||null===(r=e.security)||void 0===r||null===(o=r.session)||void 0===o?void 0:o.encrypted_session_id}})).catch((function(e){console.error("error from trigger Session API  : ",e)}))},getSignOnR3APIs=function(e,t,n,r,o){if((null==o?void 0:o.clientIp)&&(null==o?void 0:o.sessionId)){var i=o.clientIp,a=o.sessionId,s=o.encryptedSessionId;triggerCustomerSignOn(e,t,a,i,n,r).then((function(o){var l;if(null==o||null===(l=o.error)||void 0===l?void 0:l.code)storeErrorResponseAndSession(o,a,i,s),location.href="/".concat(e,"/").concat(t,"/web/user/login");else{var u,c,d=null==o||null===(u=o.gatewayCustomer)||void 0===u||null===(c=u.preferredCustomer)||void 0===c?void 0:c.accountNbr;triggerGetTransactionDetails(a,i,d,r).then((function(l){setR3SendeGatewayrDetails(a,s,e,t,n,o,"sc_login_success"),updateUserIdentity(o),triggerGetCustomerVerificationStatus(a,i,d,r).then((function(o){setR3CustomerVerificationStatus(o),triggerGetLoyaltycards(a,i,d,r).then((function(r){var o,i;setR3LoyalityCard(r),(null==n?void 0:n.rememberMeChecked)&&CookieService.setCookie("User_Email",null==n?void 0:n.emailId,365,"/",!0,".westernunion.com"),(null==l||null===(o=l.transactions)||void 0===o||null===(i=o.transaction)||void 0===i?void 0:i.length)>0?location.href="/".concat(e,"/").concat(t,"/web/account/history"):location.href="/".concat(e,"/").concat(t,"/web/send-money/start")})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))}})).catch((function(e){console.error(e)}))}},getCustomerSignOnR3API=function(e,t,n,r){var o={sessionId:CookieService.getCookie("SessionId"),clientIp:CookieService.getCookie("ClientIp"),encryptedSessionId:CookieService.getCookie("EncryptedSessionId")};(null==o?void 0:o.sessionId)?getSignOnR3APIs(e,t,n,r,o):getCreateSessionR3API(e,t,r).then((function(i){o.sessionId=null==i?void 0:i.sessionId,o.clientIp=null==i?void 0:i.clientIp,o.encryptedSessionId=null==i?void 0:i.encryptedSessionId,getSignOnR3APIs(e,t,n,r,o)}))},getCustomerR4API=function(e,t,n,r,o,i,a){triggerRouterSignInCustomer(e,o,i,a).then((function(s){var l,u,c,d,p;(null==s||null===(l=s.data)||void 0===l||null===(u=l.signIn)||void 0===u?void 0:u.errorCode)?location.href="/".concat(o,"/").concat(i,"/web/user/login"):triggerCustomerProfile(e,null==s||null===(c=s.data)||void 0===c||null===(d=c.signIn)||void 0===d||null===(p=d.token)||void 0===p?void 0:p.accessToken,o,i).then((function(l){var u,c;if(null==l||null===(u=l.data)||void 0===u||null===(c=u.customerProfile)||void 0===c?void 0:c.errorCode)location.href="/".concat(o,"/").concat(i,"/web/user/login");else{var d,p,m,v,g,y;setDataInStorageR4(l,s,i,a,o,e,t,n,r),setR3DataInStorage(e,t,a,o,l);var f=null==l||null===(d=l.data)||void 0===d||null===(p=d.customerProfile)||void 0===p||null===(m=p.customer)||void 0===m?void 0:m.accountNumber;sessionStorage.setItem("AccountNumber",f);var h=(null==s||null===(v=s.data)||void 0===v||null===(g=v.signIn)||void 0===g||null===(y=g.token)||void 0===y?void 0:y.prepaidToken)||"";sessionStorage.setItem("prepaidToken",h),location.href="/".concat(o,"/").concat(i,"/web/send-money/start")}})).catch((function(e){console.error("error from trigger customerProfile : ",e)}))})).catch((function(e){console.error("error from trigger SingIn Session : ",e)}))},setGatewayCustomer=function(e,t,n,r,o){var i,a,s,l,u,c,d,p,m,v,g,y,f,h,C,w,S,b,_,A={};if(null==o||null===(i=o.gatewayCustomer)||void 0===i||null===(a=i.name)||void 0===a?void 0:a.firstName){var L,I,E,k,T=null==o||null===(L=o.gatewayCustomer)||void 0===L||null===(I=L.name)||void 0===I?void 0:I.firstName,x=null==o||null===(E=o.gatewayCustomer)||void 0===E||null===(k=E.name)||void 0===k?void 0:k.lastName;A={firstName:T,lastName:x},window.sessionStorage.setItem("FirstName",T),window.sessionStorage.setItem("LastName",x)}var P={address:{addrLine1:null==o||null===(s=o.gatewayCustomer)||void 0===s||null===(l=s.address)||void 0===l?void 0:l.addrLine1,city:null==o||null===(u=o.gatewayCustomer)||void 0===u||null===(c=u.address)||void 0===c?void 0:c.city,countryIsoCode:null==o||null===(d=o.gatewayCustomer)||void 0===d||null===(p=d.address)||void 0===p?void 0:p.countryIsoCode,postalCode:null==o||null===(m=o.gatewayCustomer)||void 0===m||null===(v=m.address)||void 0===v?void 0:v.postalCode,state:null==o||null===(g=o.gatewayCustomer)||void 0===g||null===(y=g.address)||void 0===y?void 0:y.state},email:t.emailId,fbMsgEnabled:null==o||null===(f=o.gatewayCustomer)||void 0===f?void 0:f.fbMsgEnabled,mobilePhone:{phoneNumber:{}},name:A,preferredCustomer:{accountNbr:e},r3Login:null==o||null===(h=o.gatewayCustomer)||void 0===h?void 0:h.r3Login,termsConditionFlag:null==o||null===(C=o.gatewayCustomer)||void 0===C?void 0:C.termsConditionFlag,identityVerificationStatus:null==o||null===(w=o.gatewayCustomer)||void 0===w?void 0:w.identityVerificationStatus,verificationStatus:null==o||null===(S=o.gatewayCustomer)||void 0===S?void 0:S.verificationStatus,registrationDate:n,registrationStatus:null==o||null===(b=o.gatewayCustomer)||void 0===b?void 0:b.registrationStatus,additionalPreferredCustomers:{preferredCustomer:{accountNbr:e}},customerCategory:null==o||null===(_=o.gatewayCustomer)||void 0===_?void 0:_.customerCategory};window.sessionStorage.setItem("GatewayCustomer",JSON.stringify(P))},setR3SendeGatewayrDetails=function(e,t,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"sc_register_success";try{var s,l,u,c,d,p,m,v,g,y,f,h,C,w,S,b,_,A,L,I,E,k,T,x,P,D,O,N,R,q,U,F,M,B,V,j,W,H,G,K,z,X,Y,J,Q=null==i||null===(s=i.gatewayCustomer)||void 0===s||null===(l=s.preferredCustomer)||void 0===l?void 0:l.accountNbr,$=null==i||null===(u=i.gatewayCustomer)||void 0===u?void 0:u.registrationDate,Z=null==i||null===(c=i.gatewayCustomer)||void 0===c?void 0:c.registrationStatus,ee={};Q&&(ee={email:null==i||null===(d=i.gatewayCustomer)||void 0===d?void 0:d.email,verifyMfaFlow:"register",isSWBProfile:!1,fbMsgEnabled:null==i||null===(p=i.gatewayCustomer)||void 0===p?void 0:p.fbMsgEnabled,verificationStatus:null==i||null===(m=i.gatewayCustomer)||void 0===m?void 0:m.verificationStatus,termsConditionFlag:null==i||null===(v=i.gatewayCustomer)||void 0===v?void 0:v.termsConditionFlag,myWuNumber:Q,isLoggedIn:!0,address:{addrLine1:null==i||null===(g=i.gatewayCustomer)||void 0===g||null===(y=g.address)||void 0===y?void 0:y.addrLine1,city:null==i||null===(f=i.gatewayCustomer)||void 0===f||null===(h=f.address)||void 0===h?void 0:h.city,countryIsoCode:null==i||null===(C=i.gatewayCustomer)||void 0===C||null===(w=C.address)||void 0===w?void 0:w.countryIsoCode,postalCode:null==i||null===(S=i.gatewayCustomer)||void 0===S||null===(b=S.address)||void 0===b?void 0:b.postalCode,state:null==i||null===(_=i.gatewayCustomer)||void 0===_||null===(A=_.address)||void 0===A?void 0:A.state},registrationDetails:{registrationDate:$,registrationStatus:Z},mobileNumber:{},accountPreferences:{optInShape:null==i||null===(L=i.gatewayCustomer)||void 0===L||null===(I=L.accountPreferences)||void 0===I?void 0:I.optInShape,message:null==i||null===(E=i.gatewayCustomer)||void 0===E||null===(k=E.accountPreferences)||void 0===k?void 0:k.message,email:null==i||null===(T=i.gatewayCustomer)||void 0===T||null===(x=T.accountPreferences)||void 0===x?void 0:x.email,optOutMarketing:null==i||null===(P=i.gatewayCustomer)||void 0===P||null===(D=P.accountPreferences)||void 0===D?void 0:D.optOutMarketing,directMail:null==i||null===(O=i.gatewayCustomer)||void 0===O||null===(N=O.accountPreferences)||void 0===N?void 0:N.directMail,telephoneCall:null==i||null===(R=i.gatewayCustomer)||void 0===R||null===(q=R.accountPreferences)||void 0===q?void 0:q.telephoneCall,optInShare:null==i||null===(U=i.gatewayCustomer)||void 0===U||null===(F=U.accountPreferences)||void 0===F?void 0:F.optInShare,featureEnable:null==i||null===(M=i.gatewayCustomer)||void 0===M||null===(B=M.accountPreferences)||void 0===B?void 0:B.featureEnable},firstName:null==i||null===(V=i.gatewayCustomer)||void 0===V||null===(j=V.name)||void 0===j?void 0:j.firstName,lastName:null==i||null===(W=i.gatewayCustomer)||void 0===W||null===(H=W.name)||void 0===H?void 0:H.lastName,identityVerificationStatus:null==i||null===(G=i.gatewayCustomer)||void 0===G?void 0:G.identityVerificationStatus,verificationStatusActualVal:null==i||null===(K=i.gatewayCustomer)||void 0===K?void 0:K.verificationStatus,r3Login:null==i||null===(z=i.gatewayCustomer)||void 0===z?void 0:z.r3Login,registrationStatus:Z,receiverCount:null==i||null===(X=i.gatewayCustomer)||void 0===X?void 0:X.receiverCount,transactionCount:null==i||null===(Y=i.gatewayCustomer)||void 0===Y?void 0:Y.transactionCount,showThirdPartyConsentPopup:null==i||null===(J=i.gatewayCustomer)||void 0===J?void 0:J.showThirdPartyConsentPopup});var te={sessionId:e,encryptedSessionId:t,sender:ee},ne=JSON.stringify(te);window.sessionStorage.setItem("app",ne),window.sessionStorage.setItem("AccountNumber",Q),window.sessionStorage.setItem("cookiestore",ne),window.sessionStorage.setItem(a,!0),CookieService.setCookie("SessionId",e,30,"/",!0,".westernunion.com"),CookieService.setCookie("EncryptedSessionId",t,30,"/".concat(n,"/").concat(r),!0,".westernunion.com"),setGatewayCustomer(Q,o,$,n,i)}catch(e){console.log(e)}},setR3LoyalityCard=function(e){var t,n,r=null==e||null===(t=e.gateway_customer)||void 0===t||null===(n=t.additional_preferred_customers)||void 0===n?void 0:n.preferred_customer,o={};null==r||r.forEach((function(e){return o={accountNbr:null==e?void 0:e.account_nbr,issueDate:null==e?void 0:e.issue_date,lastUseDate:null==e?void 0:e.last_use_date,levelCode:null==e?void 0:e.level_code,totalPointsEarned:null==e?void 0:e.total_points_earned,promoCode:null==e?void 0:e.promo_code}}));var i={gatewayCustomer:{additionalPreferredCustomers:{preferredCustomer:o}}};(null==e?void 0:e.rewardList)&&(i.rewardList=null==e?void 0:e.rewardList),window.sessionStorage.setItem("resLoyalityCard",JSON.stringify(i))},setR3CustomerVerificationStatus=function(e){var t,n,r={isEligibleToTransact:null==e?void 0:e.isEligibleToTransact,customerStatus:null==e?void 0:e.customerStatus,UnstructuredData:null==e?void 0:e.UnstructuredData,Status:{code:null==e||null===(t=e.Status)||void 0===t?void 0:t.code},wACH:null==e?void 0:e.wACH,paymentType:null==e||null===(n=e.paymentTypes)||void 0===n?void 0:n.payment_type,identityVerificationStatus:null==e?void 0:e.identity_verification_status};window.sessionStorage.setItem("CustomerVerificationStatus",JSON.stringify(r))},setDataInStorageR4=function(e,t,n,r,o,i,a,s,l){var u,c,d,p,m,v,g,y,f,h,C,w,S,b,_,A,L,I,E=(new Date).valueOf().toString();CookieService.setCookie("LangCode",n,365,"/"),CookieService.setCookie("SessionInfo",E,365,"/",!0,".westernunion.com"),CookieService.setCookie("UserID",r.emailId,365,"/"),CookieService.setCookie("NewUserCookie",!0,365,"/"),CookieService.setCookie("loggedIn",!0,365,"/"),CookieService.setCookie("CountryCode",o,365,"/"),CookieService.setCookie("userType","newCustomer",365,"/"),CookieService.setCookie("SessionId",i,365,"/",!0,".westernunion.com"),CookieService.setCookie("rodeoR4Experience","true",365,"/"),CookieService.setCookie("UserLocale","".concat(n,"-").concat(o.toUpperCase()),365,"/");var k=null==e||null===(u=e.data)||void 0===u||null===(c=u.customerProfile)||void 0===c||null===(d=c.customer)||void 0===d?void 0:d.registrationDate,T=null==t||null===(p=t.data)||void 0===p||null===(m=p.signIn)||void 0===m||null===(v=m.token)||void 0===v?void 0:v.expiresIn,x=null==t||null===(g=t.data)||void 0===g||null===(y=g.signIn)||void 0===y||null===(f=y.token)||void 0===f?void 0:f.accessToken,P=""!==T?(0,Date.now)()+1e3*parseInt(T):0,D=null==e||null===(h=e.data)||void 0===h||null===(C=h.customerProfile)||void 0===C||null===(w=C.customer)||void 0===w?void 0:w.accountNumber,O=(new Date).getTime()+9e5-5e3,N={expiresAt:(new Date).getTime()+6e5,accessToken:x},R={loginSuccess:{loggedIn:!0,gatewayCustomer:{email:r.emailId,preferred_customer:{account_nbr:D},gender:"",nationality:"",occupation:"",terms_condition_flag:!0,imageUrl:null,industry:null,registration_status:"P",name:{first_name:"",last_name:""},address:{country_iso_code:o},registration_date:k,identity_verification_status:"N",account_preferences:{email:!0,direct_mail:null,telephone_call:null,message:null,opt_out_marketing:!0,thirdparty_datasharing_consent:null}}},MYWU:{myWUDetails:{accountNumber:D,pointsEarned:0}},updatedUserDetails:{gatewayCustomer:{email:r.emailId,preferred_customer:{account_nbr:D},gender:"",nationality:"",occupation:"",terms_condition_flag:!0,imageUrl:null,industry:null,registration_status:"P",address:{country_iso_code:o},registration_date:k,identity_verification_status:"N",account_preferences:{email:!0,direct_mail:null,telephone_call:null,message:null,opt_out_marketing:!0,thirdparty_datasharing_consent:null}}},session:{session:{id:i,encrypted_session_id:a},data_center:l||"rs",client_ip:s,response_header:[],expiry:O},digitalCustomerProfile:{id:D,email:r.emailId,imageUrl:null,name:{first:"",last:"",middle:null,prefix:null,suffix:null,maternal:null,paternal:null},address:{city:null,stateCode:null,addressLine1:null,addressLine2:null,postalCode:null,countryCode:o.toUpperCase()},complianceData:{comments:null,complianceType:null,cuba:!1,docReceived:!1,documents:[],employerName:null,identityVerificationStatus:"N",maritalStatus:null,pepCategory:null,pepRelation:!1,personalIdentificationNumber:null,verifications:[]},countryOfBirth:null,credential:null,notification:{email:!0,mail:null,marketing:!0,optInShare:null,phone:null,sms:null,thirdpartyDatasharingConsent:null},payment:{wallets:null,cards:null,banks:null},accountNumber:D,occupation:null,employment:{industry:null,level:null,name:null,status:null},annualIncomeBracket:null,gender:null,nationality:null,dateOfBirth:null,placeOfBirth:null,registrationDate:k,registrationStatus:"P",termsConditions:!0,nameMatchIndicator:!1,optInReferAFriendFlag:null,phoneNumber:null},customerAccessToken:x,customerRefreshToken:{refreshToken:null==t||null===(S=t.data)||void 0===S||null===(b=S.signIn)||void 0===b||null===(_=b.token)||void 0===_?void 0:_.refreshToken,expiresIn:T,expireTime:P},isUserLoginWithMobileNumber:!1,account_login:r.emailId,user_journey:"sending_money",accesstoken:N,registrationDate:k,AccountNumber:D,Email:r.emailId},q=new Date((new Date).getTime()+18e5);sessionStorage.setItem("stateExpiredAt",q.getTime().toString()),window.sessionStorage.setItem("accesstoken",JSON.stringify(N)),window.sessionStorage.setItem("state",JSON.stringify(R)),window.sessionStorage.setItem("r4state",JSON.stringify(R)),setGatewayCustomer(D,r,k,null==o?void 0:o.toUpperCase());var U=null===(A=window)||void 0===A||null===(L=A.location)||void 0===L||null===(I=L.pathname)||void 0===I?void 0:I.split("/"),F=U&&U[1]||"";sessionStorage.setItem("sendercountry",F);var M=U&&U.length>=2&&U[2]||"";sessionStorage.setItem("countryLanguage",M)},triggerGetCustomerVerificationStatus=function(e,t,n,r){var o={security:{session:{id:e},client_ip:t,version:"2"},sender:{preferred_customer:{account_nbr:n}}},i={method:"POST",headers:{accept:"application/json, text/plain, */*","Content-Type":"application/json","accept-language":"en-US,en;q=0.9"},body:JSON.stringify(o)};return fetchApiWu("https://".concat(r,"/wudgtsrvs/mobiliser/rest/channel/GwpGetCustomerVerificationStatus?timestamp=").concat((new Date).getTime()),i,"GwpGetCustomerVerificationStatus")};function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var triggerCustomerSignOn=function(e,t,n,r,o,i){var a=window.sessionStorage.getItem("blackBoxString"),s={gateway_customer:{identities:{identity:[{data:o.emailId,type:"USERNAME"},{data:o.password,type:"PASSWORD"}]}},analytics:{state:null,analytic_event:{fields:{field:[{name:"forgotPasswordFlag",value:"N"},{name:"loginErrorCount",value:"0"},{name:"siteInfoLoginUser",value:o.emailId},{name:"queryString",value:""},{name:"wuRevision",value:"Optimus"},{name:"codebase",value:""},{name:"lightboxFlag",value:"N"},{name:"siteCatalystVersion",value:""},{name:"forgotUsernameFlag",value:"N"}]}}},device:{id:"",type:"WEB"},external_reference_no:"1",channel:{name:"Western Union",type:"WEB",version:"9Z00",device_identifier:"RESPONSIVE_WEB"},security:{session:{id:n},client_ip:r,version:"2",black_box_data:_objectSpread(_objectSpread({},a&&{data:a}),{},{length:(null==a?void 0:a.length)?"".concat(null==a?void 0:a.length.toString()):"0"})},bashPath:"/".concat(e,"/").concat(t)},l={method:"POST",headers:{accept:"application/json, text/plain, */*","Content-Type":"application/json","accept-language":"en-US,en;q=0.9"},body:JSON.stringify(s)};return fetchApiWu("https://".concat(i,"/wuconnect/rest/api/v2.0/CustomerSignOn?timestamp=").concat((new Date).getTime()),l,"CustomerSignOn")};function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var triggerVerifyUser=function(e,t,n,r){var o;console.log("Trigger verify user");var i={},a=(o={"Content-Type":"application/json","x-wu-correlationId":"web-"+generateUniqueID(),"x-wu-externalRefId":n||"web-"+generateUniqueID(),WuCountryCode:e,WuLanguageCode:t,"x-wu-sessionId":n,"x-wu-operationName":"verifyUser","Accept-Language":"".concat(t,"-").concat(e)},_defineProperty(o,"WuCountryCode",e),_defineProperty(o,"WuLanguageCode",t),_defineProperty(o,"x-wu-sessionId",n),_defineProperty(o,"accept","application/json"),_defineProperty(o,"isrrenabled",!1),o),s={customer:{email:r},registrationType:"EMAIL"},l={method:"POST",body:JSON.stringify(s),headers:a};try{return fetchApiWu("/auth/v2/verify/user",l,"verifyUser").then((function(e){return e.status?(i.statusCode="200",i.status=e.status,i.registered=!1,i.message=e.message,i):e.error.errorCode?(i.errorCode=e.error.errorCode,i.errorMessage=e.error.errorMessage,i):(i.errorCode=e.name,i.errorMessage=e.message,i)}))}catch(e){return console.log(e),"error"}};function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var triggerSendStateFactor=function(e,t,n,r,o){var i;console.log("triggerSendStateFactor");var a=(i={"Content-Type":"application/json","x-wu-correlationId":n,"x-wu-externalRefId":n,WuCountryCode:e,WuLanguageCode:t,"x-wu-operationName":"sendStateFactor","Accept-Language":"".concat(t,"-").concat(e)},_defineProperty(i,"WuCountryCode",e),_defineProperty(i,"WuLanguageCode",t),_defineProperty(i,"x-wu-sessionId",n),_defineProperty(i,"DEVICEDETAILS","Browser"),_defineProperty(i,"SOURCE","ExpPlatform"),_defineProperty(i,"canary","false"),_defineProperty(i,"isrrenabled","false"),_defineProperty(i,"platform","nextgen"),_defineProperty(i,"DISPLAYSYSTEM","Web"),_defineProperty(i,"accept","application/json"),i),s={deviceAuthType:o,stateToken:r},l={method:"POST",body:JSON.stringify(s),headers:a};try{return fetchApiWu("/auth/v2/state/factor/send",l,"sendStateFactor").then((function(e){return e}))}catch(e){return console.log(e),"error"}};function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var triggerVerifyStateFactor=function(e,t,n,r,o,i){var a,s=(a={"Content-Type":"application/json","x-wu-correlationId":r,"x-wu-externalRefId":r,WuCountryCode:e,WuLanguageCode:t,"x-wu-operationName":"verifyStateFactor","Accept-Language":"".concat(t,"-").concat(e)},_defineProperty(a,"WuCountryCode",e),_defineProperty(a,"WuLanguageCode",t),_defineProperty(a,"x-wu-sessionId",r),_defineProperty(a,"accept","application/json"),_defineProperty(a,"DEVICEDETAILS","Browser"),_defineProperty(a,"platform","nextgen"),_defineProperty(a,"DISPLAYSYSTEM","Web"),_defineProperty(a,"isrrenabled",!1),a),l={otp:n,deviceAuthType:i,stateToken:o},u={method:"POST",body:JSON.stringify(l),headers:s};try{return fetchApiWu("/auth/v2/state/factor/verify",u,"verifyStateFactor").then((function(e){return e}))}catch(e){return console.log(e),"error"}},triggerUserRegistration=function(e,t,n,r){var o={"Accept-Language":"".concat(t,"-").concat(e),"Content-Type":"application/json","x-wu-correlationId":n,"x-wu-externalRefId":n,WuCountryCode:e,WuLanguageCode:t,"x-wu-sessionId":n,accept:"application/json","x-wu-operationName":"addCustomer","x-wu-global-mfa":!0,isAutoEnabled:!1,"x-wu-session-version":3,isrrenabled:!1};""===r.customer.address.addressLine2&&delete r.customer.address.addressLine2;var i={method:"POST",body:JSON.stringify(r),headers:o};try{return fetchApiWu("/auth/v2/register/customer",i,"fullRegisterCustomer").then((function(e){return e}))}catch(e){return console.log(e),"error"}},triggerSigninUser=function(e,t,n,r){var o={"Accept-Language":"".concat(t,"-").concat(e),"Content-Type":"application/json","x-wu-correlationId":n,"x-wu-externalRefId":n,WuCountryCode:e,WuLanguageCode:t,"x-wu-sessionId":n,accept:"application/json","x-wu-operationName":"signIn","x-wu-global-mfa":!0,isrrenabled:!1,isAutoEnabled:!0,canary:!1,SOURCE:"ExpPlatform",CALLTRACE:"Web",DEVICEDETAILS:"Browser",DISPLAYSYSTEM:"Web",platform:"nextgen","x-wu-apiKey":1978,"x-wu-accesscode":"RtYV3XDz9EA","x-wu-session-version":2},i={method:"POST",body:JSON.stringify(r),headers:o};try{return fetchApiWu("/auth/v2/signIn",i,"signIn").then((function(e){return e}))}catch(e){return console.log(e),"error"}},triggerCustomerLookup=function(e,t,n,r){var o={"Content-Type":"application/json","x-wu-correlationId":t,"x-wu-externalRefId":t,WuCountryCode:e},i={customer:{phoneNumber:[{countryCode:r,number:n}]}},a={method:"POST",body:JSON.stringify(i),headers:o};try{return fetchApiWu("/cusprofile/v2/cust/customers/multiparam",a,"verifyUser").then((function(e){return e.error?{error:!0,errorCode:e.error,errorMsg:e.message}:e}))}catch(e){return console.log(e),"error"}},triggerGetLoyaltycards=function(e,t,n,r){var o={security:{session:{id:e},client_ip:t,version:"2"},gateway_customer:{preferred_customer:{account_nbr:n}},external_reference_no:"1"},i={method:"POST",headers:{accept:"application/json, text/plain, */*","Content-Type":"application/json","accept-language":"en-US,en;q=0.9"},body:JSON.stringify(o)};return fetchApiWu("https://".concat(r,"/wudgtsrvs/mobiliser/rest/channel/GwpGetLoyaltycards?timestamp=").concat((new Date).getTime()),i,"GwpGetLoyaltycards")},triggerGetTransactionDetails=function(e,t,n,r){var o={security:{session:{id:e},client_ip:t,version:"2"},type:"c",pageNumber:1,pageSize:10,id:n,groupBy:"",order:""},i={method:"POST",headers:{accept:"application/json, text/plain, */*","Content-Type":"application/json","accept-language":"en-US,en;q=0.9"},body:JSON.stringify(o)};return fetchApiWu("https://".concat(r,"/wudgtsrvs/mobiliser/rest/channel/GwpGetTransactionDetails?timestamp=").concat((new Date).getTime()),i,"GwpGetTransactionDetails")};function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var triggerRouterSignInCustomer=function(e,t,n,r){var o=new Headers,i=t.toUpperCase();o.append("x-wu-operationname","signIn"),o.append("Content-Type","application/json"),o.append("x-wu-accesscode","RtYV3XDz9EA"),o.append("wucountrycode",i),o.append("wulanguagecode",n),o.append("x-wu-externalRefId","webapp-a0fe9872-a28e-47f6-a4a4-1401859647a7"),o.append("x-wu-correlationId","webapp-8db2ca9e-5c99-400f-8a46-439e9600555a"),o.append("x-wu-session-version","3"),o.append("version","V2"),o.append("x-wu-sessionId",e),o.append("x-wu-apiKey","1978"),o.append("accept-language","en-CA");var a=window.sessionStorage.getItem("blackBoxString"),s={profile:{email:r.emailId,credentials:{password:r.password}},session:{captcha:{},channel:{type:"WEB",name:"Western Union",version:"9Z00",isResponsive:"true",deviceIdentifier:"RESPONSIVE_MOB"},security:{session:{id:e},blackBoxData:_objectSpread(_objectSpread({id:"101569194"},a&&{data:a}),{},{length:(null==a?void 0:a.length)?"".concat(null==a?void 0:a.length.toString()):"0"})}}},l=JSON.stringify({query:signInQuery,variables:{signInReq:s}});return fetchApiWu(routerUrl,{method:"POST",headers:o,body:l,redirect:"follow"},"signIn").catch((function(e){return console.log("triggerRouterSignCustomer Data not found: ",e)}))},registerApiQuery="\nmutation addCustomer($args_createCustomer: AddCustomerInput) {\n  addCustomer(input: $args_createCustomer) {\n    __typename\n    ... on SuccessResponse {\n      status\n      message\n    }\n    ... on ErrorResponse {\n      correlationId\n      errorCode\n      issues {\n        field\n        issue\n      }\n      legacyError\n      message\n      name\n      priority\n    }\n    ... on CaptchaResponse {\n      error {\n        errorCode\n        message\n      }\n      captcha {\n        image\n        sound\n        clearScreen\n        answer\n      }\n    }\n    ... on SignInResponse {\n      access_token\n      token_type\n      refresh_token\n      scope\n      id_token\n      expires_in\n      session_token\n      pcp_number\n    }\n    ... on SignInOtpResponse {\n      profile {\n        transactionCount\n      }\n      tokenResponse {\n        access_token\n        id_token\n        factor {\n          factorStatus\n          factorType\n          factorValue\n        }\n        error {\n          errorCode\n          errorMessage\n        }\n      }\n    }\n    ... on OtpResponse {\n      captcha {\n        answer\n        clearScreen\n        image\n        sound\n      }\n      error {\n        err: errorCode\n        priority\n        errorName\n        errorMessage\n        correlationI\n        legacyError\n        details {\n          code\n          message\n          primary\n          source\n        }\n        suggestedActions\n        type\n        httpStatus\n        errorType\n      }\n      msg: message\n      status\n      factor {\n        id\n        factorType\n        factorValue\n        factorStatus\n      }\n    }\n  }\n}",signInQuery="\nquery  signIn( $signInReq:SignInInput, ) { signIn(input: $signInReq) {\n__typename\n... on SignInResponse {\nprofile {\n  ap\n  subscription {\n    campaignName\n    endDate\n    subscriptionId\n  }\n  transactionCount\n}\ntoken {\n  accessToken\n  refreshToken\n  expiresIn\n  idToken\n  prepaidToken\n}\n}\n... on RedirectionResponse {\ncountry\nerror {\n  correlationId\n  errorCode\n  issues {\n    field\n    issue\n  }\n  legacyError\n  message\n  name\n  priority\n}\ntoken {\n  access_token\n  expires_in\n  id_token\n  pcp_number\n  refresh_token\n  scope\n  session_token\n  subscription {\n      campaignName\n      endDate\n      subscriptionId\n  }\n  token_type\n  transactionCount\n\n  profile {\n    ap\n    subscription {\n      campaignName\n      endDate\n      subscriptionId\n    }\n    transactionCount\n  }\n  token {\n    accessToken\n    refreshToken\n    expiresIn\n    idToken\n    prepaidToken\n  }\n}\n}\n\n... on ErrorResponse {\ncorrelationId\nerrorCode\nissues {\nfield\nissue            \n}\nlegacyError\nmessage\nname\npriority\n}\n... on CaptchaResponse {\nerror {\n  errorCode\n  message\n}\ncaptcha {\n  image\n  sound\n  clearScreen\n  answer\n}\n}\n} }",customerQuery="query customer { \ncustomer  {\n__typename\n... on CustomerResponse {\n    customer {\n      id\n      email\n      imageUrl\n      name {\n        first\n        last\n        middle\n        prefix\n        suffix\n        maternal\n        paternal\n      }\n      address {\n        city\n        stateCode\n        addressLine1\n        addressLine2\n        postalCode\n        countryCode\n      }\n      complianceData {\n        comments\n        complianceType\n        cuba\n        docReceived\n        documents {\n          birthPlace\n          dmsReferenceNumber\n          docLevel\n          docNumber\n          cardRefNumber\n          docSubType\n          docType\n          docVerificationStatus\n          expirationDate\n          expired\n          familyName\n          issueAgency\n          issueCountry\n          issueDate\n          issuePlace\n          issueState\n          issuer\n          ocrFormStatus\n          primary\n          verificationApprovedTime\n        }\n        employerName\n        identityVerificationStatus\n        maritalStatus\n        pepCategory\n        pepRelation\n        personalIdentificationNumber\n        verifications {\n          lastUpdated\n          status\n          type\n        }\n      }\n      countryOfBirth\n      credential {\n        securityQuestions {\n          question\n          answer\n        }\n      }\n      notification {\n        email \n        mail \n        marketing \n        optInShare \n        phone\n        sms\n        thirdpartyDatasharingConsent \n      }\n      payment {\n        wallets {\n          currency\n          reason\n          serviceProviderCode\n          serviceProviderName\n        }\n        cards {\n          id\n          paymentInstrumentId\n          category\n          number\n          nickName\n          expirationDate\n          type\n          cardScanned\n          consent\n          consentRefId\n          bin\n          address {\n            city\n            stateCode\n            addressLine1\n            addressLine2\n            postalCode\n            countryCode\n          }\n        }\n        banks {\n          id\n          paymentInstrumentId\n          name\n          nickName\n          accountNumber\n          routingNumber\n          accountType\n          type\n          code\n          branchCode\n          swiftCode\n          sortCode\n          network\n          financialId\n          currencyCode\n          address {\n            city\n            stateCode\n            addressLine1\n            addressLine2\n            postalCode\n            countryCode\n          }\n        }\n      }\n      accountNumber\n      occupation\n      employment {\n        industry\n        level\n        name\n        status\n      }\n      annualIncomeBracket\n      gender\n      nationality\n      dateOfBirth\n      placeOfBirth\n      registrationDate\n      registrationStatus\n      termsConditions\n      nameMatchIndicator\n      optInReferAFriendFlag\n      phoneNumber {\n        type\n        number\n        countryCode\n        isVerified\n      }\n    }\n  receiver {\n    customers {\n      type\n      id\n      email\n      name {\n        first\n        last\n        middle\n        prefix\n        suffix\n        maternal\n        paternal\n      }\n      address {\n        city\n        stateCode\n        addressLine1\n        addressLine2\n        postalCode\n        countryCode\n      }\n      payment {\n        banks {\n          accountNumber\n          accountType\n          branchCode\n          code\n          currencyCode\n          financialId\n          id\n          name\n          network\n          nickName\n          routingNumber\n          sortCode\n          swiftCode\n          reason\n          selectedAccountType\n          upiId\n        }\n        wallets {\n          currency\n          reason\n          serviceProviderCode\n          serviceProviderName\n          walletAccountNumber\n      }\n        cards{\n          number\n          type\n        }\n      }\n      accountNumber\n      occupation\n      gender\n      nationality\n      dateOfBirth\n      placeOfBirth\n      registrationDate\n      registrationStatus\n      termsConditions\n      nameMatchIndicator\n      phoneNumber {\n        type\n        number\n        countryCode\n      }\n       \n    }\n    billers {\n      code\n      currencyIsoCode\n      countryIsoCode\n      industry\n      activeFlag\n      prePaid\n      preConfig\n      accountRequired\n      language\n      category\n      billerType\n      contracted\n      groupByBiller\n      template\n      fraudWarningConsentRequired\n      id\n      uid\n      billerName\n      accountNumber\n    }\n  }\n}\n... on ErrorResponse {\n  message\n  errorCode\n  name\n  priority\n  legacyError\n  correlationId\n  issues {\n    field\n    issue\n  }\n}\n}}",verificationStatusQuery="query  verificationStatus( $req_VerificationStatusInput:VerificationStatusInput, ) { \nverificationStatus (\n  input: $req_VerificationStatusInput\n) {\n__typename\n... on ErrorResponse {\n    correlationId\n    errorCode\n    issues {\n        field\n        issue\n    }\n    legacyError\n    message\n    name\n    priority\n}\n... on VerificationStatusResponse {\n    customer {\n        accountNumber\n        address {\n            addressLine1\n            addressLine2\n            city\n            countryCode\n            postalCode\n            stateCode\n        }\n        complianceData {\n            comments\n            complianceType\n            cuba\n            docReceived\n            documents {\n                birthPlace\n                dmsReferenceNumber\n                docLevel\n                docNumber\n                docSubType\n                docType\n                docVerificationStatus\n                expirationDate\n                expired\n                familyName\n                issueAgency\n                issueCountry\n                issueDate\n                issuePlace\n                issuer\n                ocrFormStatus\n                primary\n                verificationApprovedTime\n            }\n            employerName\n            identityVerificationStatus\n            maritalStatus\n            pepCategory\n            pepRelation\n            personalIdentificationNumber\n            verifications {\n                lastUpdated\n                status\n                type\n            }\n        }\n        complianceVerificationDetail {\n            status\n            type\n        }\n        countryOfBirth\n    \n        customerLevelCode\n        customerType\n        dateOfBirth\n        email\n        employment {\n            industry\n            level\n            status\n        }\n        flowName\n        galacticId\n        gender\n        id\n        imageUrl\n        name {\n            first\n            last\n            maternal\n            middle\n            paternal\n            prefix\n            suffix\n        }\n        nameMatchIndicator\n        nationality\n        occupation\n        payment {\n            banks {\n                accHolderName {\n                    first\n                    last\n                    maternal\n                    middle\n                    paternal\n                    prefix\n                    suffix\n                }\n                accountNumber\n                accountType\n                address {\n                    addressLine1\n                    addressLine2\n                    city\n                    countryCode\n                    postalCode\n                    stateCode\n                }\n                bankLocation\n                branchCode\n                code\n                currencyCode\n                financialId\n                id\n                name\n                network\n                nickName\n                paymentInstrumentId\n                reason\n                routingNumber\n                selectedAccountType\n                sortCode\n                swiftCode\n                upiId\n            }\n            cards {\n                address {\n                    addressLine1\n                    addressLine2\n                    city\n                    countryCode\n                    postalCode\n                    stateCode\n                }\n                bin\n                cardScanned\n                category\n                consent\n                consentRefId\n                currency\n                digest\n                doZda\n                expirationDate\n                id\n                jumio\n                nickName\n                number\n                paymentInstrumentId\n                reason\n                type\n            }\n            wallets {\n                currency\n                reason\n                serviceProviderCode\n                serviceProviderName\n                walletAccountNumber\n            }\n        }\n        phoneNumber {\n            countryCode\n            number\n            type\n        }\n        placeOfBirth\n        pointsEarned\n        progressiveRegistration\n        receiverDigest\n        registrationDate\n        registrationStatus\n        stateOfBirth\n        termsConditions\n        type\n        uid\n        validationRequired\n    }\n    receiver {\n        uid\n        id\n        name {\n          first\n          last\n        }\n        address {\n          addressLine1\n          addressLine2\n          city\n          stateCode\n          postalCode\n          countryCode\n        }\n        phoneNumber {\n          type\n          countryCode\n          number\n        }\n    }\n    customerStatus\n    encryptedData\n    identityVerificationStatus\n    isEligibleToTransact\n    kyc {\n        duc {\n            ducDelivery {\n                available\n                ducDocuments {\n                    data\n                    dmsRef\n                    docType\n                    kycStatus\n                    type\n                }\n            }\n        }\n        dur {\n            durDelivery {\n                available\n                durDocTypes {\n                    durDocType\n                }\n            }\n        }\n        pbv {\n            deliveryMethods {\n                emailDelivery {\n                    available\n                    email\n                    emailDigest\n                }\n                smsDelivery {\n                    available\n                    phoneDigest\n                    phoneNumber {\n                        countryCode\n                        number\n                        type\n                    }\n                }\n                voiceDelivery {\n                    available\n                    phoneDigest\n                    phoneNumber {\n                        countryCode\n                        number\n                        type\n                    }\n                }\n            }\n            status\n            pin\n            status\n        }\n        pwm {\n            data {\n                dataName\n                dataValue\n            }\n            pwmDelivery {\n                available\n            }\n            status\n        }\n        sd {\n            data {\n                dataName\n                dataValue\n            }\n            initiationTimestamp\n            mtcn\n            status\n        }\n        skc {\n            deliveryMethod {\n                additionalInformation {\n                    param {\n                        type\n                        value\n                    }                             \n                }\n                available\n                skcDocuments {\n                    data\n                    docType\n                    type\n                }\n            }\n        }\n        txm {\n            data {\n                dataName\n                dataValue\n            }\n            initiationTimestamp\n            status\n            txmDelivery {\n                available\n                phoneDigest\n                phoneNumber {\n                    countryCode\n                    number\n                    type\n                }\n            }\n        }\n        vwa {\n            data {\n                dataName\n                dataValue\n            }\n            initiationTimestamp\n            status\n            vwaDelivery {\n                available\n                phoneDigest\n                phoneNumber {\n                    countryCode\n                    number\n                    type\n                }\n            }\n        }\n    }\n    moneyTransferControl {\n        date\n        filterPIIData\n        mtcn\n        mtcnCreationDate\n    }\n    paymentDetails {\n        card {\n            address {\n                addressLine1\n                addressLine2\n                city\n                countryCode\n                postalCode\n                stateCode\n            }\n            bin\n            cardScanned\n            category\n            consent\n            consentRefId\n            currency\n            digest\n            doZda\n            expirationDate\n            id\n            jumio\n            nickName\n            number\n            paymentInstrumentId\n            reason\n            type\n        }\n        destination {\n            actualPayoutAmount\n            countryIsoCode\n            currencyIsoCode\n            expectedPayoutAmount\n            expectedPayoutAmountLong\n            splitPayOut {\n                countryIsoCode\n                currencyIsoCode\n                exchangeRate\n                expectedPayoutAmount\n            }\n        }\n        exchangeRate\n        fee {\n            accuracy\n            charges\n        }\n        origination {\n            countryIsoCode\n            currencyIsoCode\n            grossAmount\n            principalAmount\n        }\n        paymentDigest\n        paymentType\n        promotion {\n            code\n            description\n            discountFee\n            discountInfo\n            finalFee\n            initialFee\n            message\n            name\n            promoCode\n            status\n        }\n    }\n    paymentTypes\n    pepStatus\n    product{\n        code\n    }\n    token\n    tokenTimeInMinutes\n    transactionCompliance {\n        dateOfBirth\n        documents {\n            birthPlace\n            dmsReferenceNumber\n            docLevel\n            docNumber\n            docSubType\n            docType\n            docVerificationStatus\n            expirationDate\n            expired\n            familyName\n            issueAgency\n            issueCountry\n            issueDate\n            issuePlace\n            issuer\n            ocrFormStatus\n            primary\n            verificationApprovedTime\n        }\n        identificationQuestion {\n            answer\n            question\n        }\n        purposeOfTransaction\n        relationshipToReceiver\n        sourceOfFunds\n    }\n    transactionId\n    trdCounter\n    docUploadRequired {\n        slaTimestamp\n        additionalDocs {\n            docType\n            reason\n        }\n    }\n    customerVerifyResponse {\n        issues {\n            code\n            issue\n        }\n    }\n}\n}\n}\n",verifyRecoveryFactorQuery="query verifyRecoveryFactor($args_RecoveryFactorsInput: RecoveryFactorsInput) {\nverifyRecoveryFactor(input: $args_RecoveryFactorsInput) {\n__typename\n... on SuccessResponse {\n  id\n  message\n  status\n}\n... on ErrorResponse {\n  correlationId\n  errorCode\n  issues {\n    field\n    issue\n    code\n    message\n  }\n  legacyError\n  message\n  name\n  priority\n  stack\n}\n}\n}\n",resendRecoveryFactoryQuery="query resendRecoveryFactor($args_ResendRecoveryFactorInput: SenderInput) {\nresendRecoveryFactor(input: $args_ResendRecoveryFactorInput) {\n__typename\n... on sendRecoveryFactorResponse {\n  redirectionError {\n    code\n    message\n    countryCode\n  }\n  factor {\n    id\n    factorType\n    factorValue\n    factorStatus\n  }\n  msg: message\n  status\n}\n... on ErrorResponse {\n  correlationId\n  errorCode\n  issues {\n    field\n    issue\n    code\n    message\n  }\n  legacyError\n  message\n  name\n  priority\n  stack\n}\n}\n}\n",triggerCustomerProfile=function(e,t,n,r){var o=new Headers,i=n.toUpperCase(),a="web-"+generateUniqueID(),s="web-"+generateUniqueID();o.append("x-wu-operationname","customerProfile"),o.append("Content-Type","application/json"),o.append("x-wu-accesscode","RtYV3XDz9EA"),o.append("wucountrycode",i),o.append("wulanguagecode",r),o.append("x-wu-externalRefId",a),o.append("x-wu-correlationId",s),o.append("flowName","PRE_REGISTRATION"),o.append("x-wu-session-version","2"),o.append("version","V2"),o.append("x-wu-sessionId",e),o.append("x-wu-apiKey","1978"),o.append("accept-language","en-".concat(i)),o.append("authorization","Bearer ".concat(t));var l=JSON.stringify({query:customerProfileGraphqlQuery});return fetchApiWu(routerUrl,{method:"POST",headers:o,body:l,redirect:"follow"},"customerProfile").then((function(e){return Promise.resolve(e)})).catch((function(e){return console.log("triggerRouterAddCustomer Data not found: ",e)}))},customerProfileGraphqlQuery="\n    query {\n        customerProfile  {\n            __typename\n            ... on CustomerResponse {\n                customer { \n                    accountNumber\n                    address { \n                        addressLine1\n                        addressLine2\n                        city\n                        country\n                        addressType\n                        countryCode\n                        postalCode\n                        rawAddress\n                        stateCode\n                        stateName\n                        type\n                        fullAddress\n                        streetNumber\n                        postalType\n                        postalNumber\n                        buildingName\n                        subdwelling\n                        attributes { \n                            CountryIso2\n                            CountryIso3\n                            City\n                            DomesticId\n                            DataLevel\n                            ProvinceName\n                            Type\n                            Language\n                            SortingNumber1\n                            LanguageAlternatives\n                            Barcode\n                            ProvinceCode\n                            CountryIsoNumber\n                            Neighbourhood\n                            AdminAreaName\n                            Company\n                            Line1\n                            Line2\n                            Line3\n                            Line4\n                        }\n                        id\n                        district\n                        province\n                        permanentAddress { \n                            addressLine1\n                            addressLine2\n                            city\n                            country\n                            addressType\n                            countryCode\n                            postalCode\n                            rawAddress\n                            stateCode\n                            stateName\n                            type\n                            fullAddress\n                            streetNumber\n                            postalType\n                            postalNumber\n                            buildingName\n                            subdwelling\n                            attributes { \n                                CountryIso2\n                                CountryIso3\n                                City\n                                DomesticId\n                                DataLevel\n                                ProvinceName\n                                Type\n                                Language\n                                SortingNumber1\n                                LanguageAlternatives\n                                Barcode\n                                ProvinceCode\n                                CountryIsoNumber\n                                Neighbourhood\n                                AdminAreaName\n                                Company\n                                Line1\n                                Line2\n                                Line3\n                                Line4\n                            }\n                            id\n                            district\n                            province\n                            permanentAddress { \n                                addressLine1\n                                addressLine2\n                                city\n                                country\n                                addressType\n                                countryCode\n                                postalCode\n                                rawAddress\n                                stateCode\n                                stateName\n                                type\n                                fullAddress\n                                streetNumber\n                                postalType\n                                postalNumber\n                                buildingName\n                                subdwelling\n                                id\n                                district\n                                province\n                                streetLine1\n                                streetLine2\n                                cityTown\n                                stateProvince\n                                zipPostalCode\n                                state\n                            }\n                            addressVerification { \n                                status\n                                statusBy\n                                updatedDate\n                                expiryDate\n                                pin\n                            }\n                            streetLine1\n                            streetLine2\n                            cityTown\n                            stateProvince\n                            zipPostalCode\n                            state\n                        }\n                        addressVerification { \n                            status\n                            statusBy\n                            updatedDate\n                            expiryDate\n                            pin\n                        }\n                        streetLine1\n                        streetLine2\n                        cityTown\n                        stateProvince\n                        zipPostalCode\n                        state\n                    }\n                    complianceData { \n                        comments\n                        complianceType\n                        cuba\n                        docReceived\n                        documents { \n                            birthPlace\n                            cardRefNumber\n                            dmsReferenceNumber\n                            paDmsReferenceNumber\n                            dobMatch\n                            docLevel\n                            docName\n                            docNumber\n                            docNumberMatch\n                            docSubType\n                            docType\n                            docVerificationStatus\n                            expirationDate\n                            expired\n                            isExpired\n                            isPrimary\n                            familyName\n                            idType\n                            idvvApprovedTs\n                            idvvStatus\n                            iso2Code\n                            issueAgency\n                            issueAuthority\n                            issueCountry\n                            issueDate\n                            issuePlace\n                            issueState\n                            issuer\n                            mrzCode\n                            ocrCode\n                            ocrFormStatus\n                            primary\n                            verificationApprovedTime\n                            idvvSubStatus\n                            attachedDocuments { \n                                binary\n                                imageUrl\n                                fileName\n                                format\n                                pageNum\n                                rotationDegree\n                                imageBinary\n                            }\n                            vendorRefNumber\n                            imageProcessedFront\n                            isDocActive\n                            workflowId\n                            accountId\n                            kycFormStatus\n                            retailVerifiedFlag\n                            lastUpdated\n                            channelType\n                        }\n                        employerName\n                        identityVerificationStatus\n                        maritalStatus\n                        pepCategory\n                        pepRelation\n                        personalIdentificationNumber\n                        verifications { \n                            lastUpdated\n                            status\n                            type\n                        }\n                        version\n                        addressVerified\n                        addressVerificationDocName\n                        addressVerificationDocType\n                        addressVerificationDocNumber\n                        addressVerificationDocIssuer\n                        addressVerificationDocIssueDate\n                        kycConsentFlag\n                        cubaQuestions { \n                            affidavitType\n                            question1\n                            question2\n                            question3\n                            question4\n                            question5\n                            question6\n                            question7\n                            question8\n                            question9\n                            question10\n                            question11\n                            question12\n                            question13\n                            question14\n                            question15\n                            question16\n                            question17\n                            question18\n                            question19\n                        }\n                    }\n                    complianceVerificationDetail { \n                        channelType\n                        status\n                        type\n                    }\n                    countryOfBirth\n                    credential { \n                        password\n                        securityQuestions { \n                            answer\n                            question\n                        }\n                    }\n                    customerInWallet\n                    customerLevelCode\n                    customerType\n                    dateOfBirth\n                    email\n                    employment { \n                        industry\n                        level\n                        name\n                        status\n                    }\n                    flowName\n                    galacticId\n                    galacticIdUpdatedDate\n                    gender\n                    id\n                    imageUrl\n                    myWuMemberFlag\n                    name { \n                        first\n                        middle\n                        last\n                        secondLast\n                        nameType\n                        maternal\n                        paternal\n                        prefix\n                        suffix\n                        givenName\n                        firstName\n                        lastName\n                        displayName\n                        paternalName\n                        maternalName\n                        companyName\n                        attentionCodeCity\n                    }\n                    nameMatchIndicator\n                    nationality\n                    newPointsEarned\n                    notification { \n                        email\n                        featureEnable\n                        mail\n                        marketing\n                        optInShape\n                        optInShare\n                        optInPartnerOffers\n                        phone\n                        sms\n                        thirdPartyDataConsent\n                        thirdpartyDatasharingConsent\n                        prefLanguageCode\n                    }\n                    occupation\n                    payment { \n                        banks { \n                            accHolderName { \n                                first\n                                middle\n                                last\n                                secondLast\n                                nameType\n                                maternal\n                                paternal\n                                prefix\n                                suffix\n                                givenName\n                                firstName\n                                lastName\n                                displayName\n                                paternalName\n                                maternalName\n                                companyName\n                                attentionCodeCity\n                            }\n                            accountNumber\n                            accountType\n                            nationalIdentificationNumber\n                            address { \n                                addressLine1\n                                addressLine2\n                                city\n                                country\n                                addressType\n                                countryCode\n                                postalCode\n                                rawAddress\n                                stateCode\n                                stateName\n                                type\n                                fullAddress\n                                streetNumber\n                                postalType\n                                postalNumber\n                                buildingName\n                                subdwelling\n                                id\n                                district\n                                province\n                                streetLine1\n                                streetLine2\n                                cityTown\n                                stateProvince\n                                zipPostalCode\n                                state\n                            }\n                            bankLocation\n                            branchCode\n                            code\n                            currencyCode\n                            financialId\n                            id\n                            name\n                            network\n                            nickName\n                            paymentInstrumentId\n                            prefix\n                            reason\n                            routingNumber\n                            selectedAccountType\n                            sortCode\n                            suffix\n                            swiftCode\n                            type\n                            upiId\n                            accessToken\n                            itemId\n                            pwmbInfo { \n                                pwmbAccountDigest\n                                accessId\n                                merchantId\n                                merchantReference\n                                signature\n                                pwmbResponse\n                                pwmbTransactionId\n                            }\n                        }\n                        cards { \n                            address { \n                                addressLine1\n                                addressLine2\n                                city\n                                country\n                                addressType\n                                countryCode\n                                postalCode\n                                rawAddress\n                                stateCode\n                                stateName\n                                type\n                                fullAddress\n                                streetNumber\n                                postalType\n                                postalNumber\n                                buildingName\n                                subdwelling\n                                id\n                                district\n                                province\n                                streetLine1\n                                streetLine2\n                                cityTown\n                                stateProvince\n                                zipPostalCode\n                                state\n                            }\n                            bin\n                            cardScanned\n                            category\n                            consent\n                            consentRefId\n                            currency\n                            digest\n                            doZda\n                            expirationDate\n                            id\n                            jumio\n                            name { \n                                first\n                                middle\n                                last\n                                secondLast\n                                nameType\n                                maternal\n                                paternal\n                                prefix\n                                suffix\n                                givenName\n                                firstName\n                                lastName\n                                displayName\n                                paternalName\n                                maternalName\n                                companyName\n                                attentionCodeCity\n                            }\n                            nickName\n                            number\n                            paymentInstrumentId\n                            reason\n                            type\n                            suggestedCountry\n                        }\n                        wallets { \n                            currency\n                            reason\n                            serviceProviderCode\n                            serviceProviderName\n                            walletAccountNumber\n                        }\n                        wuPay { \n                            referenceNumber\n                            gmoBranchCode\n                            gmoBranchName\n                        }\n                    }\n                    phoneNumber { \n                        countryCode\n                        number\n                        type\n                        isVerified\n                        phoneType\n                        phoneNumber\n                    }\n                    placeOfBirth\n                    pointsEarned\n                    progressiveRegistration\n                    receiverDigest\n                    receiverNumber\n                    receiverType\n                    registrationDate\n                    registrationStatus\n                    stateOfBirth\n                    termsConditions\n                    type\n                    uid\n                    validationRequired\n                    optInReferAFriendFlag\n                    imageBinary\n                    relationshipToSender\n                    emailVerificationStatus\n                    consumerToBusinessName\n                    consumerToBusinessReference\n                    isResident\n                    annualIncome\n                    annualIncomeCurrency\n                    annualIncomeBracket\n                    subscriptions { \n                        campaignName\n                        endDate\n                        subscriptionId\n                    }\n                    receiverNationalId\n                    consumerToBusiness { \n                        name\n                        reference\n                    }\n                    partner { \n                        name\n                        terminalId\n                        partnerId\n                    }\n                    lastUpdateTimeStamp\n                    captcha { \n                        answer\n                        clearScreen\n                        image\n                        sound\n                        recaptcha\n                    }\n                    umnHash\n                    profileReconfirmation\n                    debitCardToken\n                    permanentCountry\n                    kycNotification { \n                        kycNotificationMethod\n                        kycNotificationValue { \n                            email\n                            phone\n                        }\n                        kycNotificationVendor\n                    }\n                    referralDetails { \n                        referralCode\n                        referralSite\n                    }\n                    referenceId\n                    customerDigest\n                    updateSenderAssociateFlag\n                }\n                receiver { \n                    billers { \n                        accountNumber\n                        accountRequired\n                        activeFlag\n                        billerName\n                        billerType\n                        category\n                        code\n                        contracted\n                        countryIsoCode\n                        currencyIsoCode\n                        fraudWarningConsentRequired\n                        groupByBiller\n                        id\n                        industry\n                        language\n                        preConfig\n                        prePaid\n                        template\n                        uid\n                    }\n                    customers { \n                        accountNumber\n                        address { \n                            addressLine1\n                            addressLine2\n                            city\n                            country\n                            addressType\n                            countryCode\n                            postalCode\n                            rawAddress\n                            stateCode\n                            stateName\n                            type\n                            fullAddress\n                            streetNumber\n                            postalType\n                            postalNumber\n                            buildingName\n                            subdwelling\n                            attributes { \n                                CountryIso2\n                                CountryIso3\n                                City\n                                DomesticId\n                                DataLevel\n                                ProvinceName\n                                Type\n                                Language\n                                SortingNumber1\n                                LanguageAlternatives\n                                Barcode\n                                ProvinceCode\n                                CountryIsoNumber\n                                Neighbourhood\n                                AdminAreaName\n                                Company\n                                Line1\n                                Line2\n                                Line3\n                                Line4\n                            }\n                            id\n                            district\n                            province\n                            permanentAddress { \n                                addressLine1\n                                addressLine2\n                                city\n                                country\n                                addressType\n                                countryCode\n                                postalCode\n                                rawAddress\n                                stateCode\n                                stateName\n                                type\n                                fullAddress\n                                streetNumber\n                                postalType\n                                postalNumber\n                                buildingName\n                                subdwelling\n                                id\n                                district\n                                province\n                                streetLine1\n                                streetLine2\n                                cityTown\n                                stateProvince\n                                zipPostalCode\n                                state\n                            }\n                            addressVerification { \n                                status\n                                statusBy\n                                updatedDate\n                                expiryDate\n                                pin\n                            }\n                            streetLine1\n                            streetLine2\n                            cityTown\n                            stateProvince\n                            zipPostalCode\n                            state\n                        }\n                        complianceData { \n                            comments\n                            complianceType\n                            cuba\n                            docReceived\n                            documents { \n                                birthPlace\n                                cardRefNumber\n                                dmsReferenceNumber\n                                paDmsReferenceNumber\n                                dobMatch\n                                docLevel\n                                docName\n                                docNumber\n                                docNumberMatch\n                                docSubType\n                                docType\n                                docVerificationStatus\n                                expirationDate\n                                expired\n                                isExpired\n                                isPrimary\n                                familyName\n                                idType\n                                idvvApprovedTs\n                                idvvStatus\n                                iso2Code\n                                issueAgency\n                                issueAuthority\n                                issueCountry\n                                issueDate\n                                issuePlace\n                                issueState\n                                issuer\n                                mrzCode\n                                ocrCode\n                                ocrFormStatus\n                                primary\n                                verificationApprovedTime\n                                idvvSubStatus\n                                vendorRefNumber\n                                imageProcessedFront\n                                isDocActive\n                                workflowId\n                                accountId\n                                kycFormStatus\n                                retailVerifiedFlag\n                                lastUpdated\n                                channelType\n                            }\n                            employerName\n                            identityVerificationStatus\n                            maritalStatus\n                            pepCategory\n                            pepRelation\n                            personalIdentificationNumber\n                            verifications { \n                                lastUpdated\n                                status\n                                type\n                            }\n                            version\n                            addressVerified\n                            addressVerificationDocName\n                            addressVerificationDocType\n                            addressVerificationDocNumber\n                            addressVerificationDocIssuer\n                            addressVerificationDocIssueDate\n                            kycConsentFlag\n                            cubaQuestions { \n                                affidavitType\n                                question1\n                                question2\n                                question3\n                                question4\n                                question5\n                                question6\n                                question7\n                                question8\n                                question9\n                                question10\n                                question11\n                                question12\n                                question13\n                                question14\n                                question15\n                                question16\n                                question17\n                                question18\n                                question19\n                            }\n                        }\n                        complianceVerificationDetail { \n                            channelType\n                            status\n                            type\n                        }\n                        countryOfBirth\n                        credential { \n                            password\n                            securityQuestions { \n                                answer\n                                question\n                            }\n                        }\n                        customerInWallet\n                        customerLevelCode\n                        customerType\n                        dateOfBirth\n                        email\n                        employment { \n                            industry\n                            level\n                            name\n                            status\n                        }\n                        flowName\n                        galacticId\n                        galacticIdUpdatedDate\n                        gender\n                        id\n                        imageUrl\n                        myWuMemberFlag\n                        name { \n                            first\n                            middle\n                            last\n                            secondLast\n                            nameType\n                            maternal\n                            paternal\n                            prefix\n                            suffix\n                            givenName\n                            firstName\n                            lastName\n                            displayName\n                            paternalName\n                            maternalName\n                            companyName\n                            attentionCodeCity\n                        }\n                        nameMatchIndicator\n                        nationality\n                        newPointsEarned\n                        notification { \n                            email\n                            featureEnable\n                            mail\n                            marketing\n                            optInShape\n                            optInShare\n                            optInPartnerOffers\n                            phone\n                            sms\n                            thirdPartyDataConsent\n                            thirdpartyDatasharingConsent\n                            prefLanguageCode\n                        }\n                        occupation\n                        payment { \n                            banks { \n                                accountNumber\n                                accountType\n                                nationalIdentificationNumber\n                                bankLocation\n                                branchCode\n                                code\n                                currencyCode\n                                financialId\n                                id\n                                name\n                                network\n                                nickName\n                                paymentInstrumentId\n                                prefix\n                                reason\n                                routingNumber\n                                selectedAccountType\n                                sortCode\n                                suffix\n                                swiftCode\n                                type\n                                upiId\n                                accessToken\n                                itemId\n                            }\n                            cards { \n                                bin\n                                cardScanned\n                                category\n                                consent\n                                consentRefId\n                                currency\n                                digest\n                                doZda\n                                expirationDate\n                                id\n                                jumio\n                                nickName\n                                number\n                                paymentInstrumentId\n                                reason\n                                type\n                                suggestedCountry\n                            }\n                            wallets { \n                                currency\n                                reason\n                                serviceProviderCode\n                                serviceProviderName\n                                walletAccountNumber\n                            }\n                            wuPay { \n                                referenceNumber\n                                gmoBranchCode\n                                gmoBranchName\n                            }\n                        }\n                        phoneNumber { \n                            countryCode\n                            number\n                            type\n                            isVerified\n                            phoneType\n                            phoneNumber\n                        }\n                        placeOfBirth\n                        pointsEarned\n                        progressiveRegistration\n                        receiverDigest\n                        receiverNumber\n                        receiverType\n                        registrationDate\n                        registrationStatus\n                        stateOfBirth\n                        termsConditions\n                        type\n                        uid\n                        validationRequired\n                        optInReferAFriendFlag\n                        imageBinary\n                        relationshipToSender\n                        emailVerificationStatus\n                        consumerToBusinessName\n                        consumerToBusinessReference\n                        isResident\n                        annualIncome\n                        annualIncomeCurrency\n                        annualIncomeBracket\n                        subscriptions { \n                            campaignName\n                            endDate\n                            subscriptionId\n                        }\n                        receiverNationalId\n                        consumerToBusiness { \n                            name\n                            reference\n                        }\n                        partner { \n                            name\n                            terminalId\n                            partnerId\n                        }\n                        lastUpdateTimeStamp\n                        captcha { \n                            answer\n                            clearScreen\n                            image\n                            sound\n                            recaptcha\n                        }\n                        umnHash\n                        profileReconfirmation\n                        debitCardToken\n                        permanentCountry\n                        kycNotification { \n                            kycNotificationMethod\n                            kycNotificationValue { \n                                email\n                                phone\n                            }\n                            kycNotificationVendor\n                        }\n                        referralDetails { \n                            referralCode\n                            referralSite\n                        }\n                        referenceId\n                        customerDigest\n                        updateSenderAssociateFlag\n                    }\n                }\n                customerVerifyResponse { \n                    issues { \n                        field\n                        code\n                        issue\n                    }\n                    legacyError\n                    errorCode\n                    message\n                    correlationId\n                    name\n                    priority\n                }\n                captcha { \n                    answer\n                    clearScreen\n                    image\n                    sound\n                    recaptcha\n                }\n            }\n            ... on ErrorResponse {\n                correlationId\n                errorCode\n                issues { \n                    field\n                    issue\n                    code\n                    message\n                }\n                legacyError\n                message\n                name\n                priority\n                stack\n            }\n        }\n    }",quickLoginPopup=function(){var e=document.getElementById("loginModalMain_edit");if(e)try{var t=function(){window.sessionStorage.removeItem("popUpName"),r(),inactivityTime(17,n),j=!1,M.classList.add("d-none"),q.classList.add("d-none"),_.classList.remove("wu-input--error"),s.value="",N.classList.remove("wu-input--error"),null==_||_.classList.add("d-none"),toggleClass(b,"d-none","d-flex"),null==E||E.classList.remove("pad-12-bm"),null==A||A.classList.add("invisible"),i(),V=!1},n=function(){if(W()){var e=window.sessionStorage.getItem("AccountNumber"),t=CookieService.getCookie("userIdentity");!e&&("existingCustomer"===t||"registeredCustomer"===t)&&(l.classList.add("d-L-block"),o(),void 0!==window.logPopUpEvent&&("open-quick-login"!==window.sessionStorage.getItem("popUpName")&&window.sessionStorage.setItem("popUpName","open-quick-login"),window.sessionStorage.setItem("userSelectedCountry",null==y?void 0:y.toLowerCase()),window.logPopUpEvent()),sessionStorage.getItem("currentFlow")&&sessionStorage.removeItem("currentFlow"),sessionStorage.getItem("loginType")&&sessionStorage.removeItem("loginType"))}},r=function(){l.classList.remove("d-L-block")},o=function(){var e=L.offsetTop+L.offsetHeight+10,t=L.offsetLeft-U.clientWidth+L.offsetWidth;U.style.top=e+"px",U.style.left=t+"px"},i=function(){null==s||s.setAttribute("type","password"),m.classList.add("d-inline"),m.classList.remove("d-none"),p.classList.add("d-none"),p.classList.remove("d-inline")},a=e.querySelector("#loginEmailId_edit"),s=e.querySelector("#loginPassword_edit"),l=e.querySelector(".main-selection"),u=e.querySelector("#login-cta-clicked"),c=e.querySelector("#login-otp"),d=e.querySelector(".eye-icon-display-password"),p=d.querySelector(".view-eye-icon"),m=d.querySelector(".hide-eye-icon"),v=e.classList.contains("isV2"),g=location.pathname.replace("/pages/latest","").split("/"),y=g[1],f=g[2],h=e.querySelector(".forgot_password_link"),C=e.querySelector(".user-email");a.value=decodeURIComponent(CookieService.getCookie("User_Email"));var w=maskingEmail(decodeURIComponent(CookieService.getCookie("User_Email"))),S=e.querySelector(".edit-icon"),b=e.querySelector(".editemail"),_=e.querySelector(".inputemailcontainer"),A=e.querySelector(".checkBox");C.innerHTML=w;var L=document.getElementById("wu-mobile-login-button"),I=e.querySelector(".quickLoginClose"),E=e.querySelector(".remember-forgot-container"),k=e.querySelector(".edit-dropdown-btn"),T=e.querySelector(".close-dropdown-btn"),x=e.querySelector(".dropdown-borders"),P=e.querySelector("#input-field-quickLogin"),D=e.querySelector(".flag-selector"),O=e.querySelector(".globe-selector"),N=e.querySelector(".passwordClassError"),R=e.querySelector(".dropdown-text"),q=e.querySelector(".loginEmailId_error"),U=e.querySelector(".quickLoginContainer"),F=e.querySelector(".dropdown-info-text"),M=e.querySelector(".loginPassword-error"),B=e.querySelector(".dropdown-heading"),V=!1,j=!1,W=function(){return!!CookieService.getCookie("User_Email")&&""!==decodeURIComponent(CookieService.getCookie("User_Email")).trim()};inactivityTime(17,n),L.addEventListener("mouseenter",(function(e){n()})),F.addEventListener("click",(function(e){e.stopPropagation()})),B.addEventListener("click",(function(e){e.stopPropagation()})),O.addEventListener("click",(function(e){e.stopPropagation()})),D.addEventListener("click",(function(e){e.stopPropagation()})),P.addEventListener("keyup",(function(t){e.querySelector(".dropDn_country").classList.contains("d-none")?(F.classList.add("d-none"),P.classList.add("bdr-radius-bm"),P.classList.add("bdr-radius-tp"),P.classList.add("bdr-thin-horz")):(F.classList.remove("d-none"),P.classList.remove("bdr-radius-bm"),P.classList.remove("bdr-radius-tp"),P.classList.remove("bdr-thin-horz"))})),I.addEventListener("click",(function(){t()})),T.addEventListener("click",(function(){e.click()})),a.addEventListener("blur",(function(){a.value.match(mailformat)?(q.classList.add("d-none"),_.classList.remove("wu-input--error")):(q.classList.remove("d-none"),_.classList.add("wu-input--error"))})),a.addEventListener("focus",(function(){a.value.match(mailformat)||(q.classList.add("d-none"),_.classList.remove("wu-input--error"))})),s.addEventListener("blur",(function(){s.value?(M.classList.add("d-none"),N.classList.remove("wu-input--error")):(M.classList.remove("d-none"),N.classList.add("wu-input--error"))})),s.addEventListener("keyup",(function(){var e=s.value;V=!0,e?(M.classList.add("d-none"),N.classList.remove("wu-input--error")):N.classList.add("wu-input--error")})),s.addEventListener("focus",(function(){!s.value&&V?(N.classList.add("wu-input--error"),M.classList.add("d-none")):(M.classList.add("d-none"),N.classList.remove("wu-input--error"))})),window.addEventListener("resize",o),window.addEventListener("click",(function(n){if(e.contains(n.target)||t(),!n.target.classList||!n.target.classList.value||-1===n.target.classList.value.indexOf("dropdown-heading")){var r=e.querySelectorAll(".wuds-dropdown__items");n.target.classList&&n.target.classList.value&&-1===n.target.classList.value.indexOf("quick-country-dropdown")?(x.classList.remove("bdr-rt-color-black","bdr-thin-rt","bdr-lt-color-black","bdr-thin-lt","bdr-thin-tp","bdr-radius-all","bdr-radius-tp"),k.classList.remove("d-none"),T.classList.add("d-none"),P.classList.remove("bk-transparent"),O.classList.add("d-none"),D.classList.remove("d-none"),R.classList.add("d-none"),null==r||r.forEach((function(e){e.removeEventListener("mouseover",(function(){})),e.removeEventListener("mouseout",(function(){})),P.value="",P.dispatchEvent(new Event("input",{bubbles:!0}))}))):(x.classList.add("bdr-thin-rt","bdr-rt-color-black","bdr-thin-lt","bdr-lt-color-black","bdr-thin-tp","bdr-radius-all","bdr-radius-tp"),k.classList.add("d-none"),T.classList.remove("d-none"),P.classList.add("bk-transparent"),O.classList.remove("d-none"),D.classList.add("d-none"),R.classList.remove("d-none"),r.forEach((function(e){var t;e.addEventListener("mouseover",(function(t){e.classList.add("bk-info-lighter")})),e.addEventListener("mouseout",(function(t){var n;e.classList.remove("bk-info-lighter");var r=null===(n=e.dataset)||void 0===n?void 0:n.flagSelectValue;y==r&&e.classList.add("bk-info-lighter")}));var n=null===(t=e.dataset)||void 0===t?void 0:t.flagSelectValue;y==n&&e.classList.add("bk-info-lighter")})))}})),S.addEventListener("click",(function(t){t.stopPropagation(),e.querySelector(".remember").checked=!0,j=!0,CookieService.getCookie("User_Email")&&(a.value=decodeURIComponent(CookieService.getCookie("User_Email")),_.classList.remove("d-none"),toggleClass(b,"d-flex","d-none"),E.classList.add("pad-12-bm"),A.classList.remove("invisible"))})),null==d||d.addEventListener("click",(function(e){"text"===s.getAttribute("type")?(null==s||s.setAttribute("type","password"),toggleClass(p,"d-inline","d-none"),toggleClass(m,"d-none","d-inline")):(null==s||s.setAttribute("type","text"),toggleClass(p,"d-none","d-inline"),toggleClass(m,"d-inline","d-none"))})),h.addEventListener("click",(function(){isFeatureEnabledViaSessionStorage("isResetWithOTPV2Enabled")?sessionStorage.setItem("loginType","reset-with-code"):sessionStorage.setItem("loginType","reset-with-link"),sessionStorage.setItem("currentFlow","reset"),location.href="/".concat(y,"/").concat(f,"/web/user/forgot-password")})),a.value&&a.setAttribute("value",decodeURIComponent(a.value)),s.value&&s.setAttribute("value",s.value),a.addEventListener("keypress",(function(e){var t=e.currentTarget.id,n=document.getElementById(t);showHideValidationMessage(n,"hide")})),[a,s].forEach((function(e){e.addEventListener("input",(function(e){e.target.setAttribute("value",e.target.value)}))})),u&&u.addEventListener("click",(function(){var n;sessionStorage.setItem("currentFlow","login"),sessionStorage.setItem("loginType","login-with-password");var r=e.querySelector(".remember").checked,o={};a.value=null===(n=a.value)||void 0===n?void 0:n.trim(),o.rememberMeChecked=r,o.emailId=a.value,o.password=s.value;var i=!j||function(e){if(e){showHideValidationMessage(e,"hide");var t=e.value;if(void 0!==t)return t.includes("*")||t&&t.match(mailformat)?(q.classList.add("d-none"),_.classList.remove("wu-input--error"),!0):(showHideValidationMessage(e,"show"),q.classList.remove("d-none"),_.classList.add("wu-input--error"),!1)}}(a),l=function(e){if(e){showHideValidationMessage(e,"hide"),eyeIconView(!0,v,d,{top:"40%"});var t=e.value;if(void 0!==t)return t?(M.classList.add("d-none"),N.classList.remove("wu-input--error"),!0):(showHideValidationMessage(e,"show"),eyeIconView(!1,v,d,{top:"40%"}),e.focus(),M.classList.remove("d-none"),N.classList.add("wu-input--error"),!1)}}(s);i&&l&&(t(),onCustomerLogin(o))})),c&&c.addEventListener("click",(function(){sessionStorage.setItem("currentFlow","login"),sessionStorage.setItem("loginType","login-with-code"),location.href="/".concat(y,"/").concat(f,"/web/user/otp-login")}))}catch(e){console.error(e)}};function quickLoginViaCode(){var e=(getCookieValueByKeyName("WUCountryCookie_")||"").toUpperCase();return QUICK_LOGIN_VIA_CODE_COUNTRIES.indexOf(e)>-1}function loginWithCode(){if(isFeatureEnabledViaSessionStorage("isOtpLoginEnabled")){var e=document.querySelector(".login-with-code");e&&e.classList.remove("d-none")}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}CookieService.getCookie("rodeoR4Experience")||(quickLoginViaCode()?(quickLoginPopup(),document.addEventListener("optimizelyOtpQuickLogin",loginWithCode)):(["evergageQuickLogin","optimizelyQuickLogin"].forEach((function(e){document.addEventListener(e,(function(){sessionStorage.getItem("isQuickLoginEnabled")&&quickLoginPopup()}))})),document.addEventListener("optimizelyOtpQuickLogin",loginWithCode))),function(){try{var e=document.getElementById("globalHelpline"),t=document.querySelector(".globalResource"),n=document.querySelectorAll(".resource-link"),r=document.querySelector(".report_link"),o=document.querySelectorAll(".reportLink"),i=function(e,t,n){var r=new URL(e);return r.searchParams.set("WUCountry",t),r.searchParams.set("WULanguage",n),e.href=r.href,e.href};if(e){var a,s=e.querySelector("#globalCountries"),l=e.querySelector("#footer-country-dropdown"),u=e.querySelector(".countries"),c=CookieService.getCookie("AKCountry")||"US",d=e.querySelector("#countryName"),p=e.querySelector("#helpNo"),m=e.querySelector("#helpline_numbers"),v=m&&m.innerHTML&&JSON.parse(m.innerHTML),g=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";if(2!==(null===(e=t)||void 0===e?void 0:e.length)){var n=t.split("-");t=(null==v?void 0:v[n[0]])?n[0]:n[1]}return t}(pageData.language);u.onchange=function(){var e=u.selectedIndex;d.innerText=u.children[e].text||c},c=c.toLowerCase(),l.setAttribute("data-country",c),l.setAttribute("data-selected",c);var y=g;l.setAttribute("data-language",y),p.innerHTML=null==v||null===(a=v[c])||void 0===a?void 0:a.phone;var f=function(e,t){null==o||o.forEach((function(n){i(n,e,t)})),null==n||n.forEach((function(n){var r,o=n.href,i=(null===(r=v[e])||void 0===r?void 0:r.phone)||"",a=new URL(o);a.searchParams.set("country",e),a.searchParams.set("language",t),i?a.searchParams.set("call",i):a.searchParams.delete("call"),n.href=a.href}))};f(c,y),null==s||s.addEventListener("click",(function(e){var t,n,r,o;c=e.target.closest("li").getAttribute("data-flag-select-value"),v[c]&&(y=g,d.innerText=e.target.closest("li").getAttribute("data-flag-select-text")),f(c,y),(null==v||null===(t=v[c])||void 0===t?void 0:t.phone)?(null==p||null===(n=p.parentElement)||void 0===n||n.classList.remove("d-none"),p.innerHTML=null===(r=v[c])||void 0===r?void 0:r.phone):null==p||null===(o=p.parentElement)||void 0===o||o.classList.add("d-none")}))}if(t){var h,C=document.querySelector(".third-party-resources"),w=getURLParameter("country")||CookieService.getCookie("AKCountry")||"US",S=getURLParameter("language")||pageData.language;2!==(null===(h=S)||void 0===h?void 0:h.length)&&(S="ca-fr"==S?"fr":S.split("-")[0]);var b,_,A=null==C?void 0:C.querySelector("."+w+"-block");A&&(null==C||null===(b=C.classList)||void 0===b||b.remove("d-none"),null==A||null===(_=A.classList)||void 0===_||_.remove("d-none"));var L=document.querySelector(".helpContainer"),I=i(r,w,S)||"",E=null==t?void 0:t.querySelector("#helpline_numbers"),k=E&&E.innerHTML&&JSON.parse(E.innerHTML),T=getURLParameter("call")||(null==k?void 0:k[w.toLowerCase()]),x=T?L.getAttribute("data-help"):"";document.querySelectorAll("a").forEach((function(e){var t=decodeURIComponent(e.getAttribute("href"));"{{report_link}}"==t&&e.setAttribute("href",I),"{{helpline_no}}"==t&&(window.innerWidth<=1024?e.setAttribute("href","tel:"+(null==T?void 0:T.trim())):e.setAttribute("href","/global-service/report-fraud-hotline"))})),t.innerHTML=t.innerHTML.replace("{{help_text}}",x),t.innerHTML=t.innerHTML.replace("{{helpline_no}}",T)}if(e||t){var P=CookieService.getCookie("WUCountryCookie_")||CookieService.getCookie("AKCountry"),D=CookieService.getCookie("WULanguageCookie_")||"en",O=document.querySelectorAll(".wu-logo");Array.from(O).forEach((function(e){e.href=P?e.href.replace("/us/en","/"+P.toLowerCase()+"/"+D.toLowerCase()):e.href}))}}catch(e){console.log(e)}}();var MyWUCountryDropdown=function(){function e(t){_classCallCheck(this,e),this.inputField=t.querySelector(".wu-input input"),this.countryList=t.querySelectorAll(".wuds-dropdown__items"),this.countryDropdown=t.querySelector(".wuds-dropdown"),this.learnMoreButton=document.getElementById("learnMoreButton"),this.searchInput=t.querySelector(".wuds-dropdown__search__box"),this.clearButton=t.querySelector(".wuds-dropdown__search__cancel__icon"),this.init()}return _createClass(e,[{key:"init",value:function(){this.listeners(),this.countryDropdown.style.display="none"}},{key:"listeners",value:function(){var e=this;document.addEventListener("click",(function(t){t.target.closest(".mywuCountryDrop")||t.target===e.inputField?e.toggleDropdown():t.target.closest(".wuds-dropdown")||e.closeDropdown()})),this.countryList.forEach((function(t){t.addEventListener("click",(function(){e.updateInputField(t),e.updateLearnMoreLink(t),e.closeDropdown()}))})),this.searchInput&&this.searchInput.addEventListener("input",(function(){return e.searchFilter()})),this.clearButton&&this.clearButton.addEventListener("click",(function(){return e.clearSearch()}))}},{key:"toggleDropdown",value:function(){this.countryDropdown.style.display="none"===this.countryDropdown.style.display?"block":"none"}},{key:"closeDropdown",value:function(){this.countryDropdown.style.display="none"}},{key:"updateInputField",value:function(e){var t=e.textContent.trim();this.inputField.value=t}},{key:"updateLearnMoreLink",value:function(e){var t=e.getAttribute("data-url");this.learnMoreButton.setAttribute("href",t)}},{key:"searchFilter",value:function(){var e=this.searchInput.value.toUpperCase();this.clearButton.style.display=e.length>0?"flex":"none",this.countryList.forEach((function(t){var n=t.textContent.toUpperCase();t.style.display=n.indexOf(e)>-1?"block":"none"}))}},{key:"clearSearch",value:function(){this.searchInput.value="",this.searchFilter(),this.searchInput.focus()}}]),e}(),mywuDropdownCountry=document.querySelectorAll(".mywuCountryListdrop");if(mywuDropdownCountry.length>0)for(var i=0;i<mywuDropdownCountry.length;i++)new MyWUCountryDropdown(mywuDropdownCountry[i]);var registerModal=function(e){if("registerModal"===e.variation||"qrCodeModal"===e.variation){var t=document.getElementById("signupModalMain"),n=document.getElementById("qrCodeModalMain"),r="registerModal"===e.variation?t.getAttribute("data-idle-timeout"):n.getAttribute("data-idle-timeout"),o=0,i=CookieService.getCookie("signupOpened");t&&r>0&&inactivityTime(r,(function(){if(0===o){var r=new CustomEvent("signupLoadJs");document.dispatchEvent(r),CookieService.setCookie("signupOpened",!0),o++}var a=window.sessionStorage.getItem("AccountNumber"),s=CookieService.getCookie("userIdentity");s||(CookieService.setCookie("userIdentity","newCustomer"),s=CookieService.getCookie("userIdentity"));var l=CookieService.getCookie("signupClosed"),u=CookieService.getCookie("qrCodeClosed");if(!a&&"newCustomer"===s){"registerModal"!==e.variation||l||i?"qrCodeModal"!==e.variation||u||n.classList.toggle("d-flex"):t.classList.toggle("d-flex");var c=document.getElementById("currencydropdown");c&&"block"===c.style.display&&(c.style.display="none"),void 0!==window.logPopUpEvent&&window.logPopUpEvent()}}))}};!function(){try{var e=document.getElementById("signupModalMain");if(!e)return;var t=e.getAttribute("data-disable-evergage");registerModal(t&&"Y"==t?{variation:"registerModal"}:{})}catch(e){console.error(e)}}(),function(){try{var e=document.querySelectorAll("[data-wu-modal-v2-trigger]"),t=function(e,t,n){e.addEventListener("click",(function(e){if("rodeo"===CookieService.getCookie("homePageExperience")&&n){var r=e.target.getAttribute("href");if("true"===e.target.getAttribute("data-scroll-top")&&window.scrollTo(0,0),r&&"#"!==r&&sendMoneyLink&&sendMoneyLink.setParam(r),"signUpModal"===e.target.getAttribute("data-wu-modal-v2-trigger")){var o=new CustomEvent("signupLoadJs");document.dispatchEvent(o)}e.preventDefault(),e.target.setAttribute("href","#"),e.currentTarget.getAttribute("class").includes("signUpClose")||(t.classList.toggle("d-flex"),t.classList.toggle("d-none"))}}))};e&&e.forEach((function(e){var n=e.getAttribute("data-wu-modal-v2-trigger"),r=e.getAttribute("data-logged-in-scenario"),o=document.querySelector("[data-wu-modal-content=".concat(n,"]"));if(n&&o)if("true"===r){var i=window.sessionStorage.getItem("AccountNumber");t(e,o,!i)}else t(e,o,!1)}))}catch(e){console.error("error in modal trigger : ",e)}}();var dropdownOutsideClick=function(e){window.addEventListener("click",(function(t){var n=e.querySelectorAll(".b-flag-select");Array.from(n).forEach((function(e){if(!e.contains(t.target)){var n=e.querySelector(".b-flag-select__list"),r=e.querySelector(".b-flag-select__value"),o=e.querySelector(".b-flag-select__search-field");null==e||e.classList.remove("wuds-dropdown--active"),toggleDropdown(!0,n,e),r&&o&&toggleInputLabelBank(!0,r,o)}}));var r=e.querySelectorAll(".wuds-dropdown:not(.b-flag-select)");Array.from(r).forEach((function(e){if(!e.contains(t.target)){var n=e.querySelector(".b-flag-select__list");n.classList.add("d-none"),n.classList.remove("d-block")}}))}))},setDrodpownLabelInputValue=function(e,t,n){var r=e.getAttribute("data-value")||e.innerText;t.setAttribute("value",r),t.value=r,n.innerHTML=r},selectDefaultCountry=function(e,t,n,r){var o=getAkCountryRMO();if(e.id.includes("country-dropdown")){var i=n.querySelectorAll("li");Array.from(i).forEach((function(n){var r;(null===(r=n.getAttribute("data-slug"))||void 0===r?void 0:r.toUpperCase())===(null==o?void 0:o.toUpperCase())&&setDrodpownLabelInputValue(n,e,t)}))}if("country-code-input-div"===r.id){var a=n.querySelectorAll("li");Array.from(a).forEach((function(n){"United States (+1)"===n.innerText&&setDrodpownLabelInputValue(n,e,t)}))}},toggleDropdown=function(e,t,n){if(e)return t.classList.remove("d-block"),t.classList.add("d-none"),void n.classList.remove("wuds-dropdown--active");t.classList.contains("d-none")?(t.classList.add("d-block"),t.classList.remove("d-none"),n.classList.add("wuds-dropdown--active")):(t.classList.remove("d-block"),t.classList.add("d-none"),n.classList.remove("wuds-dropdown--active"))},addLiTounorderedList=function(e,t,n){var r=document.createElement("li");r.className="wuds-dropdown__items b-flag-select__item pad-8-lt",r.setAttribute("data-text",e),r.setAttribute("data-value",t),r.innerText=e,r.setAttribute("tabindex","0"),n.append(r)},toggleInputLabelBank=function(e,t,n){e?(toggleClass(t,"d-none","d-block"),n.classList.add("d-none"),n.setAttribute("value",null==t?void 0:t.innerHTML)):(toggleClass(t,"d-block","d-none"),n.classList.remove("d-none"),n.focus())},stateCountryDropdownLink=function(e,t){"country"===e.target.getAttribute("data-type")&&stateFeature(t.parentElement.parentElement.querySelector("input"),(t.closest(".repeater-mo-individual")||t.closest(".repeater-contact-info")).querySelector('[id^="state-dropdown-ul"]'))},stateFeature=function(e,t){var n=getAkCountryRMO(),r=e.getAttribute("data-slug")||n.toLowerCase()||"us",o="us"===r?USAStates:CanadaStates;if(t.getAttribute("data-country-selected")!==r){t.innerHTML="",t.setAttribute("data-country-selected",r),t.parentElement.querySelector(".b-flag-select__search-field").value="",t.parentElement.querySelector(".b-flag-select__value").innerHTML="";var i=document.createDocumentFragment();for(var a in o)addLiTounorderedList(o[a],a,i);t.append(i);var s=t.querySelectorAll("li");dynamicLiCreation(s,t,t.parentElement,t.parentElement.querySelector(".b-flag-select__value"),t.parentElement.querySelector(".b-flag-select__search-field"))}},spanTextBasedOnDataValue=function(e){return e.closest("#country-code-ul-dropdown")?e.getAttribute("data-value"):e.innerHTML},setFlagDropdown=function(e){var t,n=null==e||null===(t=e.closest("#country-code-list"))||void 0===t?void 0:t.querySelector(".wu-flag");if(n){var r,o=n.getAttribute("data-flag"),i=(null===(r=e.querySelector(".wu-flag"))||void 0===r?void 0:r.classList)||["us"],a=Array.from(i).find((function(e){return-1===e.indexOf("wu-flag")}));n.setAttribute("data-flag",a),toggleClass(n,o,a)}},dynamicLiCreation=function(e,t,n,r,o){Array.from(e).forEach((function(e){e.setAttribute("tabindex","0"),e.addEventListener("keydown",(function(t){13===t.keyCode&&(e.click(),t.stopPropagation(),t.preventDefault())})),e.addEventListener("click",(function(i){var a,s=spanTextBasedOnDataValue(e);r.innerText=s,setFlagDropdown(e),null==t||null===(a=t.querySelector(".wu-input_flag-currency"))||void 0===a||a.removeAttribute("style"),hideValidationMessage(r),toggleDropdown(!0,t,n),toggleInputLabelBank(!0,r,o),o.setAttribute("value",s),o.value=s,o.setAttribute("data-slug",i.target.getAttribute("data-slug")),o.setAttribute("data-value",s);var l=n.getAttribute("data-next-tab");if(l){var u=document.querySelector(l);null==u||u.focus()}else{var c,d;null==n||null===(c=n.parentElement)||void 0===c||null===(d=c.querySelector(".focus-ul-el"))||void 0===d||d.focus()}i.preventDefault(),i.stopPropagation(),stateCountryDropdownLink(i,e)}))}))},dropdownFeature=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.querySelectorAll(".b-flag-select__list");dropdownOutsideClick(e),Array.from(n).forEach((function(e){var n=e.closest(".wuds-dropdown"),r=n.querySelector(".b-flag-select__value"),o=n.querySelector(".b-flag-select__search-field"),i=e.querySelectorAll("li.b-flag-select__item"),a=n.querySelector(".wu-input_flag-currency");n.addEventListener("click",(function(){toggleDropdown(!1,e,n),r&&o&&toggleInputLabelBank(!1,r,o)})),null==a||a.addEventListener("focusin",(function(t){toggleDropdown(!1,e,n),r&&o&&toggleInputLabelBank(!1,r,o),t.stopPropagation()})),n.addEventListener("keyup",(function(t){13===t.keyCode&&(toggleDropdown(!1,e,n),r&&o&&toggleInputLabelBank(!1,r,o))})),null==o||o.addEventListener("input",(function(t){var n=t.target.value,o=e.querySelectorAll("li.b-flag-select__item");Array.from(o).forEach((function(e){n&&-1===e.innerText.toLowerCase().indexOf(n.toLowerCase())?e.classList.add("d-none"):e.classList.remove("d-none")})),t.target.value||(r.innerHTML="")})),dynamicLiCreation(i,e,n,r,o),t&&o&&r&&n&&selectDefaultCountry(o,r,e,n)}))},wuProgressBar=document.querySelectorAll(".wu-progress-bar-gamma"),changeProgressBar=function(e,t){Array.from(wuProgressBar).forEach((function(t,n){n<=e?(t.classList.add("bk-green","bdr-color-green"),t.classList.remove("bk-grey-12","bdr-color-grey-02")):(t.classList.remove("bk-green","bdr-color-green"),t.classList.add("bk-grey-12","bdr-color-grey-02"))})),t&&t(e)},renderFxRate={render:function(e,t){var n,r=document.querySelector(".render-fx-rate-text");if(r&&"true"!==r.getAttribute("data-is-mounted")){var o=null!==(n=r.getAttribute("data-html"))&&void 0!==n?n:r.innerHTML;if(o){r.setAttribute("data-html",o),r.setAttribute("data-is-mounted",!0);var i="{{receiver_amount}}",a="{{striked_receiver_amount}}";o=o.replace(i,e),t!==e&&(o=o.replace(a,'<strike class="text-red">'.concat(t,"</strike>"))),o=(o=o.replace(i,"")).replace(a,""),r.innerHTML=o,r.classList.remove("d-none")}}}};function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var calc,WUCalculator=function(){function e(t,n,r,o,i){var a,s=this,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,m=arguments.length>10&&void 0!==arguments[10]&&arguments[10],v=arguments.length>11&&void 0!==arguments[11]&&arguments[11];if(_classCallCheck(this,e),!("object"===_typeof(t)&&n&&r&&o&&i))throw"Constructor params required";this.elem=t,this.host=n,this.country=r,this.language=o,this.currency=i,this.session_id=l,this.isCurrConverter=u,this.default_fund_out_mnem=c||null,this.default_fund_in=d||null,this.initFXTimeout=null,this.lastTouchedInput=null,this.defaultReceiverCurrency=p,this.isCurrConverterDefaultPage=m,this.displayFxRate=DisplayFxRateParamsService.getDisplayProp("displayFxRate"),this.isCurrencyConverterUpdated=v;var g=DisplayFxRateParamsService.getDisplayProp("initialDisplayFxRate");if(this.getReceiverId="wu-input-receiver-gets-".concat(this.currency),this.initFiFoObj=FifoService.setFifo(this.default_fund_out_mnem,this.default_fund_in),this.onPageLoad=!0,this.queryParamSendAmount=!1,this.countryDropdownSelect=this.elem.querySelector(".b-flag-select__value"),this.countriesSelect=this.elem.querySelector(".countries"),this.getStartedBtnSendMoney=document.getElementById("home-send-money"),this.getStartedBtn=this.elem.querySelector("#home-get-started")||this.elem.querySelector("#corridor-get-started")||this.elem.querySelector('[data-id="button_get-started"]')||document.querySelector("#home-get-started"),this.diffFeeEl=this.elem.querySelector(".difference-fee"),this.receiverStrikedEl=this.elem.querySelector(".strikethrough-receiver-amount"),this.extraMoneyEl=this.elem.querySelector(".extraMoney"),this.strikeFxTo=this.elem.querySelector(".strike-fx-to"),this.extraMoneyParent=this.elem.querySelector("#extraMoneyParent"),this.differenceFeeParent=this.elem.querySelector("#differenceFeeParent"),this.spinnerEl=document.getElementById("spinnerContainer"),this.strikeFxToText=this.elem.querySelector(".strike-fx-to-text"),this.strikeFxFromText=this.elem.querySelector(".strike-fx-from-text"),this.extraMoneyInitValue=this.extraMoneyEl&&this.extraMoneyEl.innerText,this.diffFeeElInitValue=this.diffFeeEl&&this.diffFeeEl.innerText,!this.countriesSelect&&!this.isCurrConverter)throw"Countries select not found";if(this.sendAmountElem=this.elem.querySelector(".amount"),!this.sendAmountElem)throw"Send amount input not found";this.sendAmountElem.addEventListener("input",(function(e){return e.target.setAttribute("value",e.target.value)}));var y=sessionStorage.getItem("currency-converter-amount");y="undefined"===y?null===(a=this.sendAmountElem)||void 0===a?void 0:a.value:y,this.addListenerOnGetStartedBtn(),this.sendToCountry=this.handleCurrencyConverter()||this.countriesSelect.value,this.sendToCurrency=getCurrencyFromPriceCorridor(this.sendToCountry)||ISO_CODES_COUNTRIES_CURRENCIES[this.sendToCountry.toUpperCase()];var f,h=CookieService.getParsedCookieValue("userSelectedValues");if(h&&!this.isCurrConverter){var C=h;this.sendToCountry=C.Country_Selected,this.sendToCurrency=C.Currency_Selected}if(this.isCurrConverter&&y&&!this.queryParamSendAmount&&(this.sendAmountElem.value=y),this.isCurrConverter&&!this.queryParamSendAmount||sessionStorage.removeItem("currency-converter-amount"),this.setFifoValue=function(){var e,t,n=null===(e=s.elem)||void 0===e?void 0:e.getAttribute("data-fund-out-important"),r=null===(t=s.elem)||void 0===t?void 0:t.getAttribute("data-fund-in-important"),o=FifoService.getFifo(s.sendToCountry,s.isCurrConverter),i=!1;o&&"top_20_corridor"===o.type&&(i=!0),o&&o.FifoValue&&(s.fund_in=i?o.FifoValue[0]:o.FifoValue.FundsIn,s.fund_out_mnem=i?o.FifoValue[1]:o.FifoValue.FundsOut,o.FifoValue[2]=s.checkUserAmountValue()?parseInt(s.sendAmountElem.value,10):o.FifoValue[2],i?o.FifoValue[2]&&s.setSendAmountValue("".concat(o.FifoValue[2],".00")):s.prevInputValue&&s.setSendAmountValue(s.prevInputValue)),n&&(s.fund_out_mnem=n),r&&(s.fund_in=r)},this.checkUserAmountValue=function(){return s.sendAmountElem.dataset.value!=s.sendAmountElem.value&&s.sendAmountElem.dataset.value!=s.prevInputValue},this.setSendAmountValue=function(e){s.queryParamSendAmount||(s.sendAmount=e,s.sendAmountElem.value=e,s.sendAmountElem.setAttribute("value",e),e&&s.sendAmountElem.classList.add("wu-input--is-focus"))},!this.isCurrConverter&&(this.countriesSelect.onchange=function(){s.sendToCountry!==s.countriesSelect.value&&(s.sendToCountry=s.countriesSelect.value,s.sendToCurrency=getCurrencyFromPriceCorridor(s.sendToCountry)||ISO_CODES_COUNTRIES_CURRENCIES[s.sendToCountry.toUpperCase()],window.evergageMsgLoaded=!1,s.setFifoValue(),s.triggerEventForEvergage(),!window.evergageMsgLoaded&&s.initFX())}),this.getValuesFromParam=function(){var e=s.getParamFromUrl();s.getCountryFromParam=e&&s.checkReceiverCountryInUrl(["ReceiveCountry","SendAmount"]);var t=s.getCountryFromParam&&s.getCountryFromParam.ReceiveCountry&&countryCurrencyDefaults.countries.find((function(e){return e.country.isoCode.toLowerCase()===s.getCountryFromParam.ReceiveCountry.toLowerCase()})),n=CookieService.getParsedCookieValue("userSelectedValues");n&&s.setSendAmountValue(n.Amount_Selected),s.getCountryFromParam&&t&&(s.sendToCountry=t.country.isoCode,s.sendToCurrency=t.country.currencies[0].currency,s.setSendAmountValue(s.getCountryFromParam.SendAmount))},this.prevInputValue=this.sendAmountElem.value,this.setFifoValue(),this.onPageLoad&&!this.isCurrConverter&&this.getValuesFromParam(),this.onPageLoad=!1,this.sendAmountElem.onkeyup=function(){if(!+s.sendAmountElem.value)return s.handleEmptyInp("sender"),void s.changeButtonLink(s.fund_out_mnem);if(s.sendAmountElem.value&&s.prevInputValue!=s.sendAmountElem.value){if(null!=s.initFXTimeout&&clearTimeout(s.initFXTimeout),s.getStartedBtn){var e=s.getStartedBtn.getAttribute("href");s.getStartedBtn.setAttribute("href",e.replace(/(&SendAmount)[^\&]+/,"$1=".concat(s.sendAmountElem.value))),s.getStartedBtnSendMoney&&s.getStartedBtnSendMoney.setAttribute("href",e.replace(/(&SendAmount)[^\&]+/,"$1=".concat(s.sendAmountElem.value)))}if(s.isCurrencyConverterUpdated)s.receiveAmountElem.value="";else{var t=parseFloat(s.sendAmountElem.value*s.fxToElem.innerHTML.split(" ")[0]).toFixed(2);s.receiveAmountElem&&(s.receiveAmountElem.value=t)}s.changeButtonLink(s.fund_out_mnem),s.prevInputValue=s.sendAmountElem.value,s.isCurrencyConverterUpdated&&resetStrikedFeeAndEl(s.extraMoneyEl,s.extraMoneyInitValue,s.diffFeeEl,s.receiverStrikedEl,s.feeElem,s.extraMoneyParent,s.differenceFeeParent,s.diffFeeElInitValue,s.feeElemText,s.feeContainer),s.initFXTimeout=setTimeout((function(){s.initFXTimeout=null,s.sendAmount=s.sendAmountElem.value,s.initFX()}),500)}},this.receiveAmountElem=document.getElementById(this.getReceiverId),this.prevReceiverValue=this.receiveAmountElem?this.receiveAmountElem.value:null,this.receiveAmountElem&&(this.receiveAmountElem.onkeyup=function(){+s.receiveAmountElem.value?(resetStrikedFeeAndEl(s.extraMoneyEl,s.extraMoneyInitValue,s.diffFeeEl,s.receiverStrikedEl,s.feeElem,s.extraMoneyParent,s.differenceFeeParent,s.diffFeeElInitValue,s.feeElemText,s.feeContainer),document.dispatchEvent(new CustomEvent("triggerReceiveAmountElem"))):s.handleEmptyInp("receiver")}),this.fxContainer=this.elem.querySelector(".fx-container"),this.feeContainer=this.elem.querySelector(".fee-container"),this.fxToElem=this.fxContainer.querySelector(".fx-to"),!this.fxContainer||!this.fxToElem)throw"FX element not found";if(this.feeContainer=this.elem.querySelector(".fee-container"),this.feeElem=this.feeContainer.querySelector(".fee"),this.feeElemText=this.feeElem.innerText,!this.feeContainer||!this.feeElem)throw"Fee element not found";this.assignSubscriptionId(),this.triggerEventForEvergage(),g?this.initFX():(this.isCurrConverterDefaultPage&&this.initFX(),this.changeButtonLink(this.fund_out_mnem)),window.addEventListener("campaignLoadedEvent",(function(){clearTimeout(f),f=setTimeout((function(){s.triggerEventForEvergage()}))})),window.addEventListener("campaignMessageLoaded",(function(){s.initFX()}))}return _createClass(e,[{key:"getParamFromUrl",value:function(){var e=window.location.search||window.location.hash;return(""===e||e.indexOf("lang")>-1||e.indexOf("evergage")>-1)&&(e=null),e}},{key:"getURLParameter",value:function(e){var t=this.getParamFromUrl(),n=t&&decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(t)||[,""])[1].replace(/\+/g,"%20"))||null;return null!=n&&(n=n.trim()),n}},{key:"checkReceiverCountryInUrl",value:function(e){var t=this,n={};return e.forEach((function(e){if(n[e]=t.getURLParameter(e),null===n[e])return null})),n}},{key:"assignSubscriptionId",value:function(){for(var e="promoCampaignSubscriptionId=",t=document.cookie.split(";"),n=0;n<t.length;n++){for(var r=t[n];" "===r.charAt(0);)r=r.substring(1);0===r.indexOf(e)&&(this.subscriptionId=r.substring(28,r.length))}}},{key:"triggerEventForEvergage",value:function(){var e,t,n,r=this,o=this.isCurrConverter?null===(e=countryCurrencyDefaults.countries.find((function(e){return e.country.isoCode===r.sendToCountry})))||void 0===e||null===(t=e.country)||void 0===t?void 0:t.name:null===(n=this.countriesSelect.options[this.countriesSelect.selectedIndex])||void 0===n?void 0:n.text;if(o){var i=new CustomEvent("countryChangeEvent",{detail:{country:{isoCode:this.sendToCountry,name:o}}});window.dispatchEvent(i)}}},{key:"handleEmptyInp",value:function(e){this.isCurrencyConverterUpdated||("receiver"===e?this.sendAmountElem.value="0":this.receiveAmountElem&&(this.receiveAmountElem.value="0"),this.renderFXText(null)),this.renderFeeText(null)}},{key:"toggleClasses",value:function(e,t,n,r){t&&e.classList.toggle(t,null===r),n&&e.classList.toggle(n,null!==r)}},{key:"renderFeeText",value:function(e){this.toggleClasses(this.feeContainer,"d-none","d-flex",e),this.toggleClasses(this.feeContainer,"","d-M-inline-flex",e),null===e||this.isCurrencyConverterUpdated||(this.feeElem.innerHTML=e.toFixed(2)+" "+this.currency.toUpperCase())}},{key:"renderFXText",value:function(e){if(this.toggleClasses(this.fxContainer,"d-none","d-inline-flex",e),e){var t=this.sendToCurrency&&(ChangeCountryCurrency[this.sendToCountry.toUpperCase()]||this.sendToCurrency.toUpperCase()),n=this.isCurrencyConverterUpdated?2:4;this.fxToElem.innerHTML=e.toFixed(n)+" "+t}}},{key:"changeButtonLink",value:function(e,t){var n=this.getStartedBtn.getAttribute("data-is-corridor"),r=this.getStartedBtn.getAttribute("href");if("true"!==n){var o=this.getStartedBtn?"".concat(r).split("?")[0]:null,i=WuAmerigoConfigs.isAmerigo()?[AmerigoPayOut[e],AmerigoPayIn[this.fund_in]]:[CloudPayOut[e],CloudPayIn[this.fund_in]],a=_slicedToArray(i,2),s=a[0],l=a[1];!l&&t&&(l=t);var u=getParams(this.sendToCountry.toUpperCase(),this.sendToCurrency,this.sendAmountElem.value,s,l,this.language,o),c=o&&-1!==o.indexOf(uaeCheck),d=o&&"".concat(o).concat(u);this.sendAmountElem.value&&this.sendToCountry&&this.getStartedBtn&&!c?this.getStartedBtn.setAttribute("href",d):this.getStartedBtn.setAttribute("href",o),c&&this.getStartedBtnSendMoney?this.getStartedBtnSendMoney.setAttribute("href",o):this.getStartedBtnSendMoney&&this.getStartedBtnSendMoney.setAttribute("href",d)}else{var p=this.getStartedBtn.getAttribute("data-corridor-".concat(this.sendToCountry));p?this.getStartedBtn.setAttribute("href",p):this.getStartedBtn.setAttribute("href","/".concat(this.country,"/").concat(this.language,"/send-money.html?ReceiverCountry=").concat(this.sendToCountry))}}},{key:"initFX",value:function(e){var t=this;if(this.changeButtonLink(this.fund_out_mnem),this.displayFxRate||this.isCurrConverterDefaultPage){var n=_objectSpread({currency:this.currency,country:this.country,funds_in:this.fund_in,fund_out_mnem:this.fund_out_mnem,host:this.host,sendAmount:this.sendAmount,sendToCurrency:this.sendToCurrency||"GBP",subscriptionId:this.subscriptionId,sendToCountry:this.sendToCountry||"gb"},e&&{receiveAmount:e}),r=triggerPriceCatalog(n,this.isCurrencyConverterUpdated,this.isCurrencyConverterUpdated),o=-1!==(window.pageData&&window.pageData.R4_COUNTRIES).indexOf(this.country.toUpperCase());toggleClass&&this.spinnerEl&&toggleClass(this.spinnerEl,"d-none","d-flex"),dataCatalogProduct(this.isCurrencyConverterUpdated,this.country,this.language,{country:this.country,sendToCountry:this.sendToCountry,language:this.language,sendAmount:this.sendAmount,fund_in:this.fund_in,fund_out_mnem:this.fund_out_mnem},r).then((function(e){toggleClass&&t.spinnerEl&&toggleClass(t.spinnerEl,"d-flex","d-none"),function(e){var n=e.strikeReceiveAmount,r=e.strike_fee,o=e.strike_fx_rate,i=e.fx,a=e.fee,s=e.receiveAmount,l=e.sendAmount,u=e.selectedFundsIn,c=e.fundsIn;t.changeButtonLink(t.fund_out_mnem,u||c),toggleClass&&t.spinnerEl&&toggleClass(t.spinnerEl,"d-flex","d-none"),"receiverAmtField"!==t.lastTouchedInput?(t.receiverAmount=s.toFixed(2),t.receiveAmountElem&&(t.receiveAmountElem.value=t.receiverAmount,t.receiveAmountElem.classList.add("wu-input--is-focus"))):"receiverAmtField"===t.lastTouchedInput&&(t.sendAmount=l.toFixed(2),t.sendAmountElem&&(t.sendAmountElem.value=t.sendAmount)),t.lastTouchedInput=null,t.renderFXText(i),t.isCurrencyConverterUpdated&&renderStrikedFxAndFee(r,a,n,s,o,t.extraMoneyParent,t.differenceFeeParent,t.strikeFxToText,t.strikeFxTo,t.receiverStrikedEl,t.feeElem,t.receiveAmountElem,t.currency,t.sendToCurrency,t.sendAmount,t.extraMoneyEl,t.diffFeeEl,t.feeElemText,void 0,void 0,void 0,t.strikeFxFromText,i&&i.toFixed(2)),t.renderFeeText(a)}((o&&!t.isCurrencyConverterUpdated?e:r.initApi(e))||{fx:null,fee:null,receiveAmount:0,sendAmount:0})})).catch((function(e){toggleClass&&t.spinnerEl&&toggleClass(t.spinnerEl,"d-flex","d-none"),console.log("error",e)}))}}},{key:"handleQueryParam",value:function(){var e=window.location.search.substr(1),t=e&&e.split("&")[0]&&e.split("&")[0].split("=");"sendAmount"===t[0]&&(this.sendAmountElem.value=this.sendAmount=t[1]),"sendAmount"===t[0]&&(this.queryParamSendAmount=!0)}},{key:"handleCurrencyConverter",value:function(){var e=this.elem.querySelector("#default-receiver-currency"),t=window.location.pathname.split("-"),n=this.isCurrConverterDefaultPage?this.defaultReceiverCurrency.toUpperCase():t[t.length-2]&&t[t.length-2].toUpperCase();if(this.isCurrConverter&&n){e&&e.setAttribute("data-default-receiver-currency-name",n),!this.isCurrConverterDefaultPage&&this.handleQueryParam();var r=this.elem.querySelector("span[title=".concat(n.toUpperCase(),"]")),o=this.elem.querySelector(".currency-select-dropdown .wu-input-currency-text,.currency-selects-dropdown .wu-input-currency-text");o&&(o.textContent=n);var i=r&&r.getAttribute("data-countrycode");if(i){var a=this.elem.querySelector(".currency-select-dropdown .wu-flag,.currency-selects-dropdown .wu-flag");return a&&a.classList.add(i.toLowerCase()),i}if(this.isCurrencyConverterUpdated&&e&&e.getAttribute("data-default-receiver-country"))return e.getAttribute("data-default-receiver-country");for(var s in ISO_CODES_COUNTRIES_CURRENCIES)if(ISO_CODES_COUNTRIES_CURRENCIES[s]===n)return s}}},{key:"addListenerOnGetStartedBtn",value:function(){var e=this;this.getStartedBtn&&this.getStartedBtn.addEventListener("click",(function(t){var n={Country_Selected:e.sendToCountry,Currency_Selected:e.sendToCurrency,Amount_Selected:e.sendAmountElem.value};CookieService.setCookie("userSelectedValues",JSON.stringify(n),365,location.pathname)}))}}]),e}();document.addEventListener("countrylist",(function(){console.log("Country list is generated");try{for(var e=document.querySelectorAll(".calculator"),t=document.getElementById("default-receiver-currency"),n=t?t.getAttribute("data-default-receiver-currency-name"):null,r=0;r<e.length;r++){var o=e[r].classList.contains("cc-updated-calculator"),i="rodeo"===CookieService.getCookie("homePageExperience")||"true"===getUrlParameter("enableRodeoExperience");if(!o||i){var a=!(!document.querySelector("section.currency-converter-updated")||!e[r].closest(".currency-converter-updated")),s="true"===e[r].getAttribute("data-other-than-cc"),l=/\/currency-converter\/.+\.html$/.test(window.location.pathname)||/\/currency-converter-(.)*.html/.test(window.location.pathname)||a||s,u=(!l&&window.location.pathname.indexOf("/currency-converter"),!!((/\/currency-converter.html/.test(window.location.pathname)||/\/currency-converter-v2.html/.test(window.location.pathname))&&n||a||s));l=u||l,calc=new WUCalculator(e[r],e[r].getAttribute("data-host")||"https://www.westernunion.com/",e[r].getAttribute("data-country")||"au",e[r].getAttribute("data-language")||"en",e[r].getAttribute("data-currency")||"AUD",e[r].getAttribute("data-session-id"),l,e[r].getAttribute("data-fund-out-mnem")||"DB",e[r].getAttribute("data-fund-in")||"*",n,u,a)}}}catch(e){console.error("WUCalculator",e)}}));var WuAmerigoConfigs=function(){var e=document.getElementById("amerigo_settings"),t=e&&JSON.parse(e.innerHTML),n=stringExists(location.href,["www.westernunion.com","www2.westernunion.com"]);return{isAmerigo:function(){return t&&t.is_amerigo},getChannel:function(){return t&&t.channel},getClient:function(e){return t&&(n?t["PROD_".concat(e)]:t["UAT_".concat(e)])},getTopCountries:function(){return t&&t.amerigo_top_countries}}}();function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DisplayFxRateParamsService=function(){var e,t={initialDisplayFxRate:!0,displayFxRate:!0,displaySendAmount:!0,displayNoCountryOnDropdown:!0};return{getDisplayProp:function(t){return e[t]},getDisplayParams:function(){return e},setDisplayParams:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e||(e=_objectSpread(_objectSpread(_objectSpread({},t),n),r))}}}(),triggerGetLimits=function(e,t,n){var r="".concat(n.host,"wudgtsrvs/mobiliser/rest/channel/GwpGetLimits?timestamp=").concat((new Date).getTime()),o={channel:{device_identifier:"RESPONSIVE_WEB",is_responsive:"true",name:"Western Union",type:"WEB",version:"9Z00"},payment_details:{origination:{currency_iso_code:e.currency,country_iso_code:e.country},destination:{currency_iso_code:t.currency,country_iso_code:t.country}},external_reference_no:"1",security:{session:{id:(null==n?void 0:n.sessionId)?null==n?void 0:n.sessionId:"web-73f3b8f8-79f3-4dcc-b472-fd5fd0311d59"},client_ip:(null==n?void 0:n.clientIp)?null==n?void 0:n.clientIp:"003211047057",version:"2"}};return fetch(r,{headers:n.headers,body:JSON.stringify(o),method:"POST"}).then((function(e){return e.json()}))},getlimitAPI=function(e,t,n,r,o,i,a){var s=triggerCreateSession(i,a,location.host);try{httpRequest.post(s.createSessionurl,s.reqPayload,{"Content-type":"application/json"}).then((function(i){var a,s,l=(null==i||null===(a=i.security)||void 0===a?void 0:a.client_ip)?i.security.client_ip:"245024209201",u=null==i||null===(s=i.security)||void 0===s?void 0:s.session.id;if(l&&u){var c={headers:{accept:"application/json, text/plain, */*","Content-Type":"application/json","accept-language":"en-US,en;q=0.9"},host:window.location.host.includes("www3")?uatRs2Url:getHttpRequestUrl("".concat(window.location.origin,"/")),sessionId:u,clientIp:l};triggerGetLimits(e,t,c).then((function(e){var t;if("C1561"===(null==e||null===(t=e.error)||void 0===t?void 0:t.code))console.error("error from trigger Limit API ");else{var i,a=null==e||null===(i=e.transaction_limits)||void 0===i?void 0:i.pay_in_transaction_limit,s=a.find((function(e){return e.pay_in===CloudPayIn[r]&&e.service_code===n}))||a.find((function(e){return e.pay_in===CloudPayIn[r]}));if(void 0!==s){var l=Number(s.limit)/100;o.setAttribute("data-send-up-to-amount-limit",l.toFixed(2))}}})).catch((function(e){console.error("error from trigger Limit API  : ",e)}))}}))}catch(e){console.error("error from trigger Session API  : ",e)}return!1};function _readOnlyError(e){throw new Error('"'+e+'" is read-only')}var priceComponent=function(e){var t=document.querySelectorAll("#JoinNow .money-transfer-join-now"),n=document.querySelectorAll("#PriceVariantA .money-transfer-price-component"),r=document.querySelectorAll("#PriceVariantB .money-transfer-price-component2"),o=document.querySelector("#SeasonalPriceVariantB .money-transfer-price-component2"),i=document.querySelectorAll("#HeroSP .money-transfer"),a=document.querySelectorAll("#HeroSP2 .money-transfer2"),s=document.getElementById("JoinNow"),l=(document.getElementById("HeroSP"),document.getElementById("HeroSP2"),document.getElementById("PriceVariantA")),u=document.getElementById("PriceVariantB"),c=document.getElementById("summaryCalculator"),d=null==c?void 0:c.querySelectorAll(".money-transfer-price-component2"),p=document.getElementById("SeasonalPriceVariantB"),m=(document.getElementById("PriceComponentBenefits"),CookieService.getCookie("homePageExperience")||("AU"===window.pageData.country.toUpperCase()?"smo":"registration")),v=r&&r[0]&&r[0].getAttribute("data-display-status");function g(e){if(e.variation){var v,g="priceVariantA"===e.variation,y="priceVariantB"===e.variation,f=(e.variation,"joinnow"===e.variation),h="seasonalPriceVariantB"===e.variation;"priceVariantB"===e.variation?v=u:"priceVariantA"===e.variation?v=l:"joinnow"===e.variation?v=s:"seasonalPriceVariantB"===e.variation?v=p:"summaryCalculator"===e.variation&&(v=c);var C=v?v.querySelectorAll(".reciver-currency-select-dropdown"):null,w=C?C[0].getAttribute("data-currency"):null,S=C?C[0].getAttribute("data-country"):null;w&&S&&document.addEventListener("priceCorridorReady",(function(){if(Boolean(t)||Boolean(d)||Boolean(n)||Boolean(r)||Boolean(o)){var e,C,S,b,_,A,L,I,E,k,T,x,P,D,O=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=e.sendToCountry,d=e.sendToCurrency;e.sendToCurrency=setCountryCurrencyChange(a,d);var m=triggerPriceCatalog(e,!0,!0),v=CookieService.getCookie("wu_device_id"),g={Cookie:"userIdentity="+R+"; wu_device_id="+v};httpRequest.post(m.url,m.reqPayload,g).then((function(a){var v,g,y=m.initApi(a),f=y.fx,h=void 0===f?a.fx:f,C=y.selectedFundsOut,S=y.strike_fx_rate,b=void 0===S?a.strike_fx_rate:S,_=y.selectedFundsIn,A=y.strike_fee,L=void 0===A?void 0===a.strike_fee?0:a.strike_fee:A,I=y.fee,E=y.receiveAmount,k=y.strikeReceiveAmount,T=y.payIn,x=y.serviceCode;window.pageCalAtrributes={senderCurrency:w,reciverCountryCurrency:d,fx:h,fee:I,selectedFundsOut:C,selectedFundsIn:_,receiveAmount:E},h=null===(v=h)||void 0===v?void 0:v.toFixed(4),b=null===(g=b)||void 0===g?void 0:g.toFixed(4);var P=new CustomEvent("alertFxEvent",{detail:{fx_amt:h,strike_fx_amt:b,payIn:_,payOut:C}});document.dispatchEvent(P);var D=r===l||r===s?document.querySelector(".receiver-Currency-Fee"):void 0,O=o.querySelector(".receiverCurrencyDrop .wu-flag"),N=O.getAttribute("data-countrycode");if(N&&o.querySelector(".receiverCurrencyDrop .wu-flag").classList.remove(N),r===l||r===c||r===u||r===p){var R=o.querySelector(".difference-fee"),q=o.querySelector(".receiver-Currency-Amount-linethrough"),U=o.querySelector(".extraMoney"),M=o.querySelector(".strike-fx-to"),B=o.querySelector("#extraMoneyParent"),V=o.querySelector("#differenceFeeParent"),j=o.querySelector(".strike-fx-to-text"),W=o.querySelector(".fee-container"),H=W.querySelector(".fee"),G=H.getAttribute("data-fee-text-inital"),K=o.querySelector(".receiver-Currency-Amount"),z=o.querySelector(".fx-container"),X=z.querySelector(".fx-to"),Y=o.querySelector(".sender-amount"),J=o.querySelector(".strike-fx-from-text"),Q=R&&R.getAttribute("data-fee-difference");R&&(R.innerText=Q);var $=U&&U.getAttribute("data-reciver-extra-money");null!==U&&U&&(U.innerText=$),renderStrikedFxAndFee(L,I,k,E,b,B,V,j,M,q,H,K,e.currency,d,e.sendAmount,U,R,G,void 0,void 0,void 0,J);var Z=E?parseFloat(E).toFixed(2):"00.00",ee=k?parseFloat(k).toFixed(2):"00.00";K&&(K.value=Z),q&&(q.textContent=ee),void 0!==renderFxRate&&"undefined"!==renderFxRate.render&&renderFxRate.render(Z,ee);var te={currency:e.currency,country:e.country},ne={currency:d,country:e.sendToCountry};if(i){var re=o.getAttribute("data-language");if(getlimitAPI(te,ne,x,T,Y,e.country,re),r===l){var oe=document.querySelector(".receiver-Currency-flag");oe.classList.remove(N),oe.classList.add(e.sendToCountry.toLowerCase())}}if(r===l){var ie=D.getAttribute("data-receiver-Currency-fee");null===h&&ie>0?(D.setAttribute("data-receiver-Currency-fee",ie),h=ie):D.setAttribute("data-receiver-Currency-fee",h)}h&&(X.innerHTML=h+" "+d),z.hasAttribute("data-fx-toggle")&&(h?(toggleClass(z,"d-none","d-inline-flex"),toggleClass(z,"d-none","d-flex")):(toggleClass(z,"d-inline-flex","d-none"),toggleClass(z,"d-flex","d-none"))),E!==k?(K.classList.add("wu-input--is-focus"),k&&toggleClass(B,"d-none","d-flex")):(toggleClass(B,"d-flex","d-none"),null==j||j.classList.add("d-none"),null==M||M.classList.add("d-none"),null==J||J.classList.add("d-none"),null==q||q.classList.add("d-none"),q&&(null==K||K.classList.add("p-4"))),I===L&&0===I&&0===L||null===I&&0===L?(toggleClass(W,"d-flex","d-none"),toggleClass(W,"d-inline-flex","d-none"),toggleClass(V,"d-flex","d-none"),null==H||H.classList.add("d-none"),H.innerText=G):void 0===L?toggleClass(V,"d-flex","d-none"):(toggleClass(W,"d-none","d-flex"),toggleClass(W,"d-none","d-inline-flex"),null==H||H.classList.remove("d-none"));var ae=document.querySelector(".description-display");I>0&&ae&&null!==ae?ae.classList.add("d-none"):0===I&&ae&&null!==ae&&ae.classList.remove("d-none")}else{var se=h,le=Math.floor(se)===se?se.toFixed(2):se;!D||(D.textContent=le);var ue=document.querySelector(".receiver-Currency-Fee-linethrough"),ce=b,de=Math.floor(ce)===ce?ce.toFixed(2):ce;!ue||(ue.textContent=de);var pe=document.getElementById("default-receiver-currency-linethrough");pe&&(pe.textContent=d),se!==ce&&s?(ue.classList.remove("d-none"),pe.classList.remove("d-none")):se===ce&&s&&(ue.classList.add("d-none"),pe.classList.add("d-none"))}O&&(O.classList.add(e.sendToCountry.toLowerCase()),O.setAttribute("data-countrycode",e.sendToCountry.toLowerCase())),!n&&s&&o.querySelector(".receiverCurrencyDrop .wu-icon-default-global").classList.add("d-none"),o.querySelector(".receiverCurrencyDrop .wu-flag").classList.remove("d-none");var me=o.querySelector("#default-receiver-currency-code");me&&(me.textContent=d);var ve=o.querySelector(".receiver_join_now_cta");CookieService.setCookie("lastCountry",e.sendToCountry,365),CookieService.setCookie("lastCurrency",d,365),CookieService.setCookie("lastSendAmount",e.sendAmount,30),CookieService.setCookie("lastFundsIn",CloudPayIn[_],365),CookieService.setCookie("lastFundsOut",CloudPayOut[C],365);var ge=F?CloudPayOut[C]:C,ye=F?CloudPayIn[_]:_,fe="".concat(t,"?ReceiveCountry=").concat(e.sendToCountry,"&ISOCurrency=").concat(e.sendToCurrency,"&SendAmount=").concat(e.sendAmount,"&").concat(F?"FundsOut=".concat(ge,"&FundsIn=").concat(ye):"funds-out=".concat(C,"&funds-in=").concat(_));window.receiverCountry=e.sendToCountry,ve.setAttribute("href","".concat(fe))})).catch((function(e){console.error(e)}))},N=function(e){var t=e.currentTarget.closest("#currencydropdown").querySelectorAll(H),n=v.querySelector("#searchInput");n&&n.onfocus(),n&&(n.value="");for(var r=0;r<=t.length-1;r++)t[r].style.display="block"},R=CookieService.getCookie("userIdentity");R||CookieService.setCookie("userIdentity","newCustomer",365,"/",!0);var q=JSON.parse(sessionStorage.getItem("GatewayCustomer")||"{}"),U={sender_firstName:null!==(e=null!==(C=null==q||null===(S=q.name)||void 0===S?void 0:S.firstName)&&void 0!==C?C:null==q||null===(b=q.name)||void 0===b?void 0:b.firstName)&&void 0!==e?e:"",sender_lastName:null!==(_=null!==(A=null==q||null===(L=q.name)||void 0===L?void 0:L.lastName)&&void 0!==A?A:null==q||null===(I=q.name)||void 0===I?void 0:I.lastName)&&void 0!==_?_:"",sender_middleName:null!==(E=null!==(k=null==q||null===(T=q.name)||void 0===T?void 0:T.middleName)&&void 0!==k?k:null==q||null===(x=q.name)||void 0===x?void 0:x.middleName)&&void 0!==E?E:"",sender_emailAddress:null!==(P=null!==(D=null==q?void 0:q.email)&&void 0!==D?D:null==q?void 0:q.email)&&void 0!==P?P:""},F=!!(U.sender_firstName&&U.sender_lastName&&U.sender_emailAddress);!(U.sender_firstName||U.sender_lastName||!U.sender_emailAddress)&&(F=!0,sessionStorage.setItem("FirstName","Hello"),sessionStorage.setItem("LastName","User")),"registeredCustomer"!==R&&"existingCustomer"!==R||(F=!0);var M=v.querySelectorAll(".reciver-currency-select-dropdown"),B=M[0].getAttribute("data-brand-refresh"),V=""!==B&&null!=B,j=v.querySelectorAll(".wuds-dropdown__search__box"),W=V?".wuds-dropdown__search__cancel__icon":".wuds-dropdown_search_currency_cancel",H=V?".wuds-dropdown__search__list .wuds-dropdown__items":".wuds-dropdown__search__list .wuds-dropdown__item",G=v.querySelectorAll(W);if(M.length>0){var K,z,X,Y=JSON.parse(sessionStorage.getItem("app")||"{}"),J=null!==(K=null==Y||null===(z=Y.corridor)||void 0===z||null===(X=z.receiverCountry)||void 0===X?void 0:X.isoCode)&&void 0!==K?K:"",Q=null==Y?void 0:Y.senderAmountLimit;document.querySelector(".sender-amount").setAttribute("data-send-up-to-amount-limit",Q);var $="MX",Z=JSON.parse(sessionStorage.getItem("transactionHistoryResp"))||JSON.parse(sessionStorage.getItem("recentTransactionHistoryResp"));if(J)$=J;else if(Z&&Z.length>0){var ee,te,ne;$=null===(ee=Z[0])||void 0===ee||null===(te=ee.paymentDetails)||void 0===te||null===(ne=te.destination)||void 0===ne?void 0:ne.countryIsoCode}M.forEach((function(e){var t=e.querySelector(".sender-amount"),n=e.getAttribute("data-reciver-country-code"),r=!!n;n=n||$;var o=e.querySelector(".receiver_join_now_cta");o.setAttribute("data-home-page-experience",m);var i=e.getAttribute("data-language"),a={currency:e.getAttribute("data-currency"),country:e.getAttribute("data-country"),funds_in:e.getAttribute("data-fund-in"),fund_out_mnem:e.getAttribute("data-fund-out-mnem"),host:e.getAttribute("data-host"),sendAmount:t.dataset.value},s="/".concat(a.country.toLowerCase(),"/").concat(i.toLowerCase(),"/web"),l="1"===(null==o?void 0:o.getAttribute("data-navigate-to-link"))?null==o?void 0:o.getAttribute("href"):"".concat(s,"/").concat(F||"smo"===m?"send-money/start":"user/register");if(null==o||o.setAttribute("href","".concat(l)),"rodeo"===m&&(null==o||o.setAttribute("amplitude-id","button-sendmoneynow-button")),n){a.sendToCountry=n;var u=countryCurrencyDefaults.countries.find((function(e){return e.country.isoCode.toLowerCase()===n.toLowerCase()})).country.currencies.find((function(e){return e}));a.sendToCurrency=getCurrencyFromPriceCorridor(n)||u.currency,O(a,l,r,v,e,!0)}t&&t.addEventListener("blur",(function(e){var n=e.target.value.replace(/^\s+|\s+$/g,"");""==e.target.value||n.match(/^$/)||(e.target.value=parseFloat(n).toFixed(2),t.value=e.target.value);var r=t.getAttribute("data-send-up-to-amount-limit");parseFloat(n)>parseFloat(r)?(document.querySelector(".send-up-to-container").classList.remove("d-none"),document.querySelector(".amountlimit-error").innerText="Send Up to "+r+" "+a.currency):document.querySelector(".send-up-to-container").classList.add("d-none")})),t&&t.addEventListener("input",(function(e){var n,r=t.getAttribute("maxLength"),o=Math.floor(e.target.value);(null===(n=o)||void 0===n?void 0:n.length)>r&&(_readOnlyError("value"),o=o.slice(0,r))})),t&&t.addEventListener("keyup",(function(n){var r=n.target.value.replace(/^\s+|\s+$/g,""),o=t.getAttribute("data-send-up-to-amount-limit");parseFloat(r)>parseFloat(o)?(document.querySelector(".send-up-to-container").classList.remove("d-none"),document.querySelector(".amountlimit-error").innerText="Send Up to "+o+" "+a.currency):document.querySelector(".send-up-to-container").classList.add("d-none"),t.dataset.value=n.target.value,a.sendAmount=t.value,O(a,l,!1,v,e,!0)})),e.querySelector("#dropdownmenu").onclick=function(n){a.sendToCurrency=n.target.getAttribute("data-currencycode")||n.target.parentElement.getAttribute("data-currencycode"),a.sendToCountry=n.target.getAttribute("data-countrycode")||n.target.parentElement.getAttribute("data-countrycode"),t.dataset.value=t.dataset.value>0?t.dataset.value:1,t.value=parseFloat(t.dataset.value).toFixed(2),a.sendAmount=t.dataset.value,O(a,l,!1,v,e,!0),N(n)}})),j&&j.length>0&&j.forEach((function(e){e.addEventListener("keyup",(function(e){e.target&&function(e){var t=e.currentTarget.closest("#currencydropdown").querySelectorAll(H);if(e&&e.currentTarget.value.length>0?e.currentTarget.parentElement.querySelector(W).style.display="flex":e.currentTarget.parentElement.querySelector(W).style.display="none",t&&t.length>0)for(var n=0;n<t.length;n++){var r=t[n],o=r&&r.querySelector(".b-flag-select__text").innerText;e&&e.currentTarget&&o.toUpperCase().indexOf(e&&e.currentTarget.value.toUpperCase())>-1?r.style.display="block":r.style.display="none"}}(e)}))})),G&&G.length>0&&G.forEach((function(e){e.addEventListener("click",(function(e){e.target&&N(e)}))}))}g?(n&&n[0]&&n[0].classList.remove("d-none"),r&&r[0]&&(r[0].classList.add("d-none"),u.classList.add("d-none")),t&&t[0]&&t[0].classList.add("d-none"),i&&i[0]&&i[0].classList.add("d-none"),a&&a[0]&&a[0].classList.add("d-none")):y?(n&&n[0]&&n[0].classList.add("d-none"),r&&r[0]&&(r[0].classList.remove("d-none"),u.classList.remove("d-none")),t&&t[0]&&t[0].classList.add("d-none"),i&&i[0]&&i[0].classList.add("d-none"),a&&a[0]&&a[0].classList.add("d-none")):f?(n&&n[0]&&n[0].classList.add("d-none"),r&&r[0]&&(r[0].classList.add("d-none"),u.classList.add("d-none")),t&&t[0]&&t[0].classList.remove("d-none"),i&&i[0]&&i[0].classList.add("d-none"),a&&a[0]&&a[0].classList.add("d-none")):h&&(r&&r[0]&&(r[0].classList.add("d-none"),r[0].classList.remove("d-block"),u.classList.add("d-none"),u.children[1].classList.add("d-none")),o&&o&&(o.classList.remove("d-none"),p.classList.remove("d-none")))}}))}}t.length>0&&g({variation:"joinnow"}),(r.length>0||o)&&("d-block"===v&&"seasonalPriceVariantB"!==e.variation?g({variation:"priceVariantB"}):g(e)),d&&d.length>0&&g({variation:"summaryCalculator"})};function reciverCurrency(){var e=document.querySelectorAll(".reciver-currency-select-dropdown");if(e.length>0){e[0].getAttribute("data-currency");var t=e[0].getAttribute("data-country"),n=e[0].getAttribute("data-brand-refresh"),r=""!==n&&null!=n,o={country:e[0].getAttribute("data-country"),language:e[0].getAttribute("data-language"),host:e[0].getAttribute("data-host")};triggerCountryList(o),document.addEventListener("priceCorridorReady",(function(e){var n=e.detail.dcaasResponse;try{var i=n.COUNTRY_LIST,a=n.TOP_COUNTRIES,s=countryCurrencyDefaults.countries,l=[],u=[],c=[];for(var d in a)"listPath"!==d&&a[d]&&function(){var e=a[d],t=Object.values(e)[0],n=s.find((function(t){return t.country.isoCode===Object.keys(e)[0]}));n&&(u.push({value:t,code:Object.keys(e)[0],currency:n.country.currencies}),l.push(t))}();s.forEach((function(e){var n=e.country.isoCode,r=e.country.currencies,o=i[n],a=n.toLowerCase(),s=validateExceptionList(t,a);o&&s&&-1===l.indexOf(o)&&(c.push({code:n,value:o,currency:r}),flagSelectService.sortValues(c,!0))})),c.forEach((function(e){u.push({code:e.code,value:e.value,currency:e.currency})}));var p=l.length,m=u;document.querySelectorAll(".reciver-currency-list").forEach((function(e){var t=document.createDocumentFragment(),n=0;m.forEach((function(e){if(void 0!==ISO_CODES_COUNTRIES_CURRENCIES[e.code]){var o=e.code.toLowerCase();e.currency.forEach((function(i){var a=i.currency.isoCode,s=document.createElement("li");s.className=r?"wuds-dropdown__items b-flag-select__item":"wuds-dropdown__item",s.setAttribute("data-currencycode",a),s.setAttribute("data-countrycode",e.code);var l=document.createElement("a");l.className=r?"wuds-dropdown__item__text w-100 d-flex text-decoration-none":"wuds-dropdown__item__text",l.setAttribute("role","menuitem"),l.setAttribute("href","javascript:void(0)"),l.setAttribute("data-currencycode",a),l.setAttribute("data-countrycode",e.code);var u=document.createElement("span");u.className=r?"wuds-dropdown__item-text b-flag-select__text w-100 overflow-hidden font-body-01 text-black d-flex align-items-center":"b-flag-select__text w-100 overflow-hidden font-body-sm",u.setAttribute("data-countrycode",e.code),u.setAttribute("title",a),u.setAttribute("data-currencycode",a),u.innerText=a+" - "+e.value,s.appendChild(l);var c=document.createElement("i");c.className="wu-flag ".concat(o,r?" wu-flagSize--S":" flag__1x1 wu-flag__rnd wu-flag__dd wu-input--flag__icon__left bdr-clr-idel bdr-thin-all bdr-radius-cir position-absolute"),r?(l.appendChild(c),l.appendChild(u)):(l.appendChild(u),l.appendChild(c)),p-1===n&&(r?s.classList.add("wuds-dropdown__bordered-item--items"):(s.classList.add("position-static"),c.classList.add("mar-xs-lt"))),t.appendChild(s)})),n++}})),e.appendChild(t)}))}catch(e){console.log("Country list is empty fo ".concat(o.country,"-").concat(o.language)),console.error(e)}}))}}!function(){try{priceComponent({})}catch(e){console.error(e)}}();var manageHomeExperiences=function(e){var t=e.detail;switch((null==t?void 0:t.variation)||CookieService.getCookie("homePageExperience")){case"priceVariantB":case"seasonalPriceVariantB":priceComponent(t);break;case"rodeo":window.showHomePageRodeoExp&&(showHomePageRodeoExp(),showCCSendMoneyConfigure(t));break;case"registerModal":case"qrCodeModal":registerModal(t)}};document.addEventListener("evergageValidateHomeComponent",manageHomeExperiences);var spHomeExperiences=function(){var e=document.querySelector(".sp-price-component");e&&(null==e||e.classList.remove("d-none"))};document.addEventListener("evergageSPHome",spHomeExperiences);var renderStrikedFxAndFee=function(e,t,n,r,o,i,a,s,l,u,c,d,p,m,v,g,y,f,h,C,w,S,b){var _,A,L=f&&"".concat(f.split(":")[0],": "),I=null==c?void 0:c.getAttribute("data-brand-refresh");(i&&a&&s&&l||""!==I&&null!=I)&&(t=null===(_=t)||void 0===_?void 0:_.toFixed(2),e=null===(A=e)||void 0===A?void 0:A.toFixed(2),r&&n&&(r<=n||b<=o)?(null==s||s.classList.add("d-none"),null==S||S.classList.add("d-none"),null==l||l.classList.add("d-none"),null==u||u.classList.add("d-none"),u&&(null==d||d.classList.add("p-4")),toggleClass(i,"d-flex","d-none")):r&&n&&r>n&&(toggleClass(i,"d-none","d-flex"),null==s||s.classList.remove("d-none"),null==S||S.classList.remove("d-none"),null==l||l.classList.remove("d-none"),null==u||u.classList.remove("d-none"),null==d||d.classList.remove("p-4")),void 0!==e&&null!=t&&e<=t?(c.innerText="".concat(L," ").concat(t," ").concat(p),toggleClass(a,"d-flex","d-none"),void 0!==w&&void 0!==h&&(w.classList.add("d-none"),h.classList.add("d-none"))):void 0!==e&&void 0!==t&&e>t&&(toggleClass(a,"d-none","d-flex"),void 0!==w&&void 0!==h&&(w.classList.remove("d-none"),h.classList.remove("d-none")),c.innerHTML=f.replace("{{strikedFee}}",'<span class="font-body-xs font-weight-medium font-linethrough striked-fee text-red" style="text-decoration: line-through;">'.concat(e,"</span>")),c.innerHTML=c.innerHTML.replace("{{strikedFeeNotRed}}",'<span class="font-body-xs font-weight-medium font-linethrough striked-fee text-grey-04" style="text-decoration: line-through;">'.concat(e," ").concat(p,"</span>")),c.innerHTML=c.innerHTML.replace("{{fee}}",'<span class="fee font-body-xs font-weight-medium current-fee">'.concat(t," ").concat(p,"</span>"))),r||(r=0),void 0!==o&&(n=o*v),r&&n&&r>=n&&(w?null!==g&&g&&(g.innerText=g.innerText.replace("{{extraMoney}}","".concat(m," ").concat((r-n).toFixed(2)))):null!==g&&g&&(g.innerText=g.innerText.replace("{{extraMoney}}","".concat((r-n).toFixed(2)," ").concat(m))),g&&g.classList.remove("d-none")),void 0!==e&&e>0&&void 0!==h&&(h.innerText=e),void 0!==t&&t>=0&&null!==t&&void 0!==C&&(C.innerText="".concat(t," ").concat(m)),void 0!==o&&null!==l&&(f.includes("{{strikedFeeNotRed}}")?l.innerText="".concat(o," ").concat(m):l.innerText=o),void 0!==e&&void 0!==t&&e>=t&&y&&(y.innerText=w?y.innerText.replace("{{feeDifference}}","".concat(p," ").concat((e-t).toFixed(2))):y.innerText.replace("{{feeDifference}}","".concat((e-t).toFixed(2)," ").concat(p)),y.classList.remove("d-none")),void 0!==o&&u&&(u.innerText=n.toFixed(2)))},resetStrikedFeeAndEl=function(e,t,n,r,o,i,a,s,l,u){e&&(e.innerText=t),n&&(n.innerText=s),r&&(r.innerText=""),u&&toggleClass(u,"d-flex","d-none"),o.innerText=l,i&&toggleClass(i,"d-flex","d-none"),a&&toggleClass(a,"d-flex","d-none")},toggleClasses=(toggleClass=function(e,t,n){e&&(e.classList.remove(t),e.classList.add(n))},function(e,t,n,r){t&&e.classList.toggle(t,null===r),n&&e.classList.toggle(n,null!==r)}),triggerCreateSession=function(e,t,n){var r="https://".concat(n,"/wudgtsrvs/mobiliser/rest/channel/GwpCreateSession");try{return{createSessionurl:r,reqPayload:{channel:{device_identifier:"RESPONSIVE_WEB",is_responsive:"true",name:"Western Union",type:"WEB",version:"9Z00"},device:{id:"",type:"WEB"},external_reference_no:"1",locale:{country_code:e,language_code:t},security:{client_ip:"245024209201"}}}}catch(e){console.warn("Error in create session service",e)}},getCurrentDatetime=function(){var e=new Date,t=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),n=e.getTimezoneOffset();return new Date(e.getTime()-60*n*1e3).toISOString().split("T")[0]+" "+t},createSessionMethod=function(e,t,n){var r=triggerCreateSession(e,t,n),o=r.createSessionurl,i=r.reqPayload;return httpRequest.post(o,i,{"Content-type":"application/json"})},loadFeatures=function(){window.loadCurrencyDropdown&&window.loadCurrencyDropdown(),window.mobAccordionMenu&&window.mobAccordionMenu(),window.intializeTable&&window.intializeTable(),window.statFlag&&window.statFlag(),window.verifyEmail&&window.verifyEmail(),window.ocrCallback&&window.ocrCallback(),window.reciverCurrency&&window.reciverCurrency()};function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}/complete|interactive|loaded/.test(document.readyState)?loadFeatures():window.addEventListener("load",loadFeatures);var triggerPartialRegistration=function(e,t,n,r,o,i,a,s,l,u,c,d,p,m,v,g,y){var f=["MX"],h={"Content-Type":"application/json","x-wu-correlationId":"web-"+generateUniqueID(),"x-wu-externalRefId":d||"web-"+generateUniqueID(),WuCountryCode:t,WuLanguageCode:n,"x-wu-sessionId":e,"x-wu-session-version":1,accept:"application/json",applicationSource:o,"Accept-Language":"".concat(n,"-").concat(t),"x-wu-identity":"RECEIVER"};h["x-wu-redirect-mtcn"]=r;var C={customer:_objectSpread(_objectSpread({name:{givenName:l},address:{countryCode:t},phoneNumber:[{type:"CELL_PHONE",countryCode:a,number:s}],progressiveRegistration:!0},i&&{credential:{password:i}}),y&&{notification:{mail:!0}})};g&&(C.captcha={answer:null,recaptcha:g}),p&&(C.customer.notification={optInWhatsApp:!0}),v?C.customer.email=v:a&&s&&(C.customer.email="".concat(a.replace("+","")).concat(s,"@WUTEMPMAIL.COM")),function(e,n,r,o){-1!==f.indexOf(t)?e.customer.name=_objectSpread(_objectSpread(_objectSpread({},n&&{givenName:n}),r&&{maternal:r}),o&&{paternal:o}):e.customer.name=_objectSpread(_objectSpread(_objectSpread({},n&&{first:n}),r&&{middle:r}),o&&{last:o})}(C,l,u,c),C.customer.name.givenName||delete C.customer.name.givenName,u&&(C.customer.name.maternal=u),c&&(C.customer.name.paternal=c),u||c||l||delete C.customer.name;var w={method:"POST",body:JSON.stringify(C),headers:h};try{return fetchApiWu("/auth/v2/register/customer",w,"partialRegisterCustomer").then((function(e){return m&&m(!1===e.ok),e}))}catch(e){m&&m(!0),console.log(e)}};function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var FlagSelect=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this.parent=t.parent,this.section=t.parent.closest("section.overflow-hidden"),this.flag=this.parent.querySelector(".b-flag-select__flag"),this.value=this.parent.querySelector(".b-flag-select__value"),this.input=this.parent.querySelector(".b-flag-select__input"),this.arrow=this.parent.querySelector(".b-flag-select__arrow"),this.label=this.parent.querySelector(".b-flag-select__label"),this.list=this.parent.querySelector(".b-flag-select__list"),this.searchField=this.parent.querySelector(".b-flag-select__search-field"),this.isCountryRedirect=this.parent.hasAttribute("country-redirect"),this.selectedCountry=t.selectedCountry.code,this.countries=t.countries,this.optimusCountryList=t.optimusCountryList,this.listCreated=!1,this.item=null,this.index=0,this.data=[],this.countryList=t.countryList,this.indexOfFlagSelect=t.indexOfFlagSelect,this.topEntriesLength=t.topEntriesLength,this.selectedCountryCodeValue=t.selectedCountry,this.value.innerText=t.selectedCountry.value||"",this.value.setAttribute("value",t.selectedCountry.value||""),this.defaultCountryExistsInFirstList=!0,this.initialCheckForCookie=!0,this.maxLength=this.parent.getAttribute("data-flag-name-length")?parseInt(this.parent.getAttribute("data-flag-name-length")):10,this.isDropDownOpen=!1,this.optionSelected,this.liselected,this.isFooterDropDown=t.isFooterDropDown,this.onPageLoadFlagSelect=!0}return _createClass(e,[{key:"init",value:function(){var e=this;this.listener(),this.countryListAlreadyAdded={};var t=this.countryList.slice(0,20);void 0===t.find((function(t){return t.value===e.selectedCountryCodeValue.value}))&&this.selectedCountryCodeValue.value&&(this.defaultCountryExistsInFirstList=!1,t.push(this.selectedCountryCodeValue)),this.createList(!0,t)}},{key:"listener",value:function(){var e=this;this.parent&&this.parent.addEventListener("click",(function(t){e.isDropDownOpen=t.target.classList&&t.target.classList.contains("wuds-dropdown--active"),t.target.classList&&t.target.classList.contains("b-flag-select")&&(e.isDropDownOpen?e.close():e.clickHandler())})),this.flag&&this.flag.addEventListener("click",(function(t){e.clickHandler()})),this.value&&this.value.addEventListener("click",(function(t){e.clickHandler()})),this.arrow&&this.arrow.addEventListener("click",(function(t){e.clickHandler()})),this.label&&this.label.addEventListener("click",(function(t){e.clickHandler()})),window.addEventListener("click",(function(t){t.target.classList&&t.target.classList.value&&-1===t.target.classList.value.indexOf("b-flag-select")&&e.close()})),this.input.addEventListener("change",(function(t){e.close()})),this.searchField&&this.searchField.addEventListener("input",(function(t){e.value.hasAttribute("value")&&e.value.removeAttribute("value"),e.searchFilter(t.currentTarget.value)}))}},{key:"searchFilter",value:function(e){var t=!1;Array.prototype.slice.call(this.item).forEach((function(n){var r=n.innerText.normalize("NFD").replace(/[\u0300-\u036f]/g,""),o=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"");!e||r&&e&&o&&(-1!==r.toLowerCase().indexOf(o.toLowerCase())||-1!==n.innerText.toLowerCase().indexOf(e.toLowerCase()))?(n.classList.remove("d-none"),n.classList.add("d-flex"),t=!0):(n.classList.add("d-none"),n.classList.remove("d-flex"))})),t?this.list.classList.remove("d-none"):this.list.classList.add("d-none")}},{key:"closeSearchFilter",value:function(){Array.prototype.slice.call(this.item).forEach((function(e){e.classList.remove("d-none"),e.classList.add("d-flex")})),""===this.value.innerText&&this.value.setAttribute("value","")}},{key:"clickHandler",value:function(){!this.listCreated&&this.createList(),this.parent.classList.toggle("wuds-dropdown--active"),this.toggleSearch(),this.searchField.focus()}},{key:"toggleSearch",value:function(){this.parent.classList.value&&-1===this.parent.classList.value.indexOf("wuds-dropdown--active")?(this.value.classList.remove("d-none"),this.value.classList.contains("wu-footer__corridor-links__country-name")&&this.value.classList.add("d-flex"),this.searchField.classList.add("d-none"),this.section&&this.section.classList.add("overflow-hidden")):(this.value.classList.add("d-none"),this.parent.setAttribute("aria-expanded",!0),this.value.classList.contains("wu-footer__corridor-links__country-name")&&this.value.classList.remove("d-flex"),this.searchField.classList.remove("d-none"),this.section&&this.section.classList.remove("overflow-hidden"))}},{key:"close",value:function(){for(var e=document.querySelectorAll(".b-flag-select"),t=0;t<e.length;t++)e[t].classList.remove("wuds-dropdown--active"),e[t].setAttribute("aria-expanded",!1);this.toggleSearch()}},{key:"removeLiSelected",value:function(){this.liselected&&!this.defaultCountryExistsInFirstList&&(this.liselected.remove(),this.optionSelected.remove())}},{key:"setMultipleAttributes",value:function(e,t){for(var n in t)e.setAttribute(n,t[n])}},{key:"createList",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.countryList;this.removeLiSelected();var r,o=document.createDocumentFragment(),i=0,a=_createForOfIteratorHelper(n);try{for(a.s();!(r=a.n()).done;){var s=r.value,l=s.code,u=l.toLowerCase(),c=this.optimusCountryList&&this.optimusCountryList[u]?this.optimusCountryList[u]:s.value.trim();if(l&&c&&(c===this.value.innerText&&!this.defaultCountryExistsInFirstList||!this.countryListAlreadyAdded[c])){this.countryListAlreadyAdded[c]=!0;var d=document.createElement("li"),p={role:"option",id:"listboxFlagSelectList-".concat(this.indexOfFlagSelect,"-").concat(i),"data-flag-select-value":l,"data-flag-select-text":c,tabindex:"0"};this.setMultipleAttributes(d,p),d.className="wuds-dropdown__items b-flag-select__item",document.createElement("div").className="wuds-dropdown__item-text bdr-clr-idel w-100";var m=document.createElement("i");m.className="wu-flag ".concat(u," wu-flagSize--S");var v=document.createElement("span");v.className="wuds-dropdown__item-text b-flag-select__text w-100 overflow-hidden font-body-sm",v.setAttribute("title",c),v.innerText=c,d.appendChild(m),d.appendChild(v),this.topEntriesLength-1===i&&d.classList.add("position-static"),o.appendChild(d);var g=document.createElement("option");g.setAttribute("value",l),g.innerText=c,this.selectedCountry&&this.selectedCountry.toLowerCase()==u&&(g.setAttribute("selected",!0),this.index=i,this.value.innerText=c,this.optionSelected=g,this.liselected=d),this.input.appendChild(g),this.data.push({value:l,text:c}),i++}else!e&&this.countryListAlreadyAdded[c]&&i++}}catch(e){a.e(e)}finally{a.f()}this.list.appendChild(o),e||(this.listCreated=!0),this.item=this.parent.querySelectorAll(".b-flag-select__item"),this.listenerItemSelect(),this.selectedCountry&&this.start();var y=document.getElementById("listboxFlagSelectList-".concat(this.indexOfFlagSelect,"-").concat(this.index));this.selectedCountry&&y&&this.select(y),sessionStorage.setItem("userSelectedCountry",null===(t=this.selectedCountry)||void 0===t?void 0:t.toLowerCase())}},{key:"listenerItemSelect",value:function(){var e=this;Array.prototype.slice.call(this.item).forEach((function(t,n){"true"!==t.getAttribute("eventListenerAdded")&&(t.setAttribute("eventListenerAdded",!0),t.addEventListener("click",(function(r){if(e.index=n,e.select(t),e.searchField.value="",e.closeSearchFilter(),e.isCountryRedirect){var o,i=window.location.protocol,a=window.location.port,s=window.location.hostname;sessionStorage.setItem("userSelectedCountry",null===(o=e.input.value)||void 0===o?void 0:o.toLowerCase());var l=document.getElementById("quick-country-dropdown");if(l&&l.contains(r.target)&&e.input.value.toLowerCase()===e.selectedCountry)return;s="www.westernunion.ru"===s?"www.westernunion.com":s;var u="".concat(i,"//").concat(s).concat(a&&":".concat(a),"/").concat(e.input.value.toLowerCase(),"/en/home.html");window.location.href=u}})))}))}},{key:"setInnerText",value:function(e){var t,n,r;return WuAmerigoConfigs.isAmerigo()?null===(n=this.countries.find((function(t){return t.country.isoCode===e})))||void 0===n||null===(r=n.country)||void 0===r?void 0:r.name:null===(t=this.countryList.find((function(t){return t.code===e})))||void 0===t?void 0:t.value}},{key:"select",value:function(e){var t=this,n=this.initialCheckForCookie?this.checkCookieUserSelectedValue():null,r=this.checkReceiverCountryInUrl();if("string"!=typeof e){this.input.value=e.getAttribute("data-flag-select-value");var o=e.getAttribute("data-flag-select-text");this.flag.children[0].classList.remove("icon-G11-Globe-World-Country","wu-icon__md"),this.data.forEach((function(e){t.flag.children[0].classList.remove(e.value.trim().toLowerCase())})),this.onPageLoadFlagSelect&&r?(this.value.innerText=this.setInnerText(r),this.flag.children[0].classList.add(r.trim().toLowerCase()),this.onPageLoadFlagSelect=!1):n?(this.value.innerText=this.setInnerText(n.Country_Selected),this.flag.children[0].classList.add(n.Country_Selected.trim().toLowerCase())):(this.value.innerText=o,this.flag.children[0].classList.add(e.getAttribute("data-flag-select-value").trim().toLowerCase())),this.value.setAttribute("value",this.value.innerText),this.input.dispatchEvent(new CustomEvent("change")),this.flag.children[0].classList.contains("d-none")&&(this.flag.children[0].classList.remove("d-none"),this.flag.children[1]&&this.flag.children[1].classList.add("d-none")),this.toggleSearch()}else this.value.innerText=e}},{key:"start",value:function(){var e=this;this.data&&this.data[0]&&(this.input.value=this.data[0].value,this.value.innerText=this.data[0].text,this.data.forEach((function(t){t.value.trim(),e.flag.children[0].classList.remove(t.value.trim())})),this.flag.children[0].classList.add(this.data[0].value.trim()))}},{key:"checkCookieUserSelectedValue",value:function(){if(!this.isFooterDropDown){var e=CookieService.getParsedCookieValue("userSelectedValues");return this.initialCheckForCookie=!1,e}}},{key:"getParamFromUrl",value:function(){var e=window.location.search||window.location.hash;return""===e&&(e=null),e}},{key:"getURLParameter",value:function(e){var t=this.getParamFromUrl(),n=t&&decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(t)||[,""])[1].replace(/\+/g,"%20"))||null;return n&&(n=n.trim()),n}},{key:"checkReceiverCountryInUrl",value:function(){return this.getURLParameter("ReceiveCountry")}}]),e}(),countryListEvent=new CustomEvent("countrylist");function statFlag(){var e=document.querySelectorAll(".b-flag-select:not(.country-language-dropdown)");if(e.length>0){var t={country:e[0].getAttribute("data-country"),language:e[0].getAttribute("data-language"),host:e[0].getAttribute("data-host")},n=e[0].getAttribute("data-currency"),r=e[0].getAttribute("data-country"),o=triggerCountryList(t),i={"content-type":"application/JSON"};o&&httpRequest.get("".concat(getHttpRequestUrl(),"content/wucom/base/global/config/activeVersion.json")).then((function(a){httpRequest.post("".concat(o.url,"?dcaasversion=").concat(a.dcaasVersion),o.reqPayload,i).then((function(o){var i=document.querySelector(".calculator");triggerPriceCorridorList(r,n||i&&i.getAttribute("data-currency")||ISO_CODES_COUNTRIES_CURRENCIES[r.toUpperCase()]).initPriceCorridorApi().then((function(n){window.countryCurrencyDefaults=n;var r=new CustomEvent("priceCorridorReady",{detail:{versionInfo:a,countriesList:n,dcaasResponse:o}});document.dispatchEvent(r);try{for(var i=CookieService.getParsedCookieValue("userSelectedValues"),s=WuAmerigoConfigs.isAmerigo(),l=0;l<e.length;l++){var u={},c=[],d=e[l],p=d.getAttribute("id"),m=d.getAttribute("data-selected"),v=d.getAttribute("data-display-fx-rate"),g=d.getAttribute("data-initial-display-fx-rate"),y=/\/currency-converter\/.+\.html$/.test(window.location.pathname)||/\/currency-converter-v2\/.+\.html$/.test(window.location.pathname),f=sessionStorage.getItem("disableFXandFees"),h=sessionStorage.getItem("disableInitialFXandFees"),C={displayFxRate:"true"!==f,initialDisplayFxRate:h&&"true"!==h||"1"===g};y?DisplayFxRateParamsService.setDisplayParams({},{}):(DisplayFxRateParamsService.setDisplayParams({displayFxRate:"1"===v,initialDisplayFxRate:"1"===g},"disableFXandFees"in sessionStorage?C:void 0),v=DisplayFxRateParamsService.getDisplayProp("displayFxRate")),sessionStorage.removeItem("disableFXandFees"),sessionStorage.removeItem("disableInitialFXandFees");var w=[];if("footer-country-dropdown"===p||"quick-country-dropdown"===p){var S=[],b=o.sender_country_list,_=m.toUpperCase();for(var A in b)_===A.toUpperCase()&&(u.code=A,u.value=b[A]),2===A.length&&S.push({value:b[A],code:A});c=S=flagSelectService.sortValues(S,!0),flagSelectService.initiateFlagSelect(c,d,l,w,u,!0)}else if(s)!function(){var e=n.countries;e=flagSelectService.sortValues(e);var t={};e.forEach((function(e){t[e.country.isoCode]=e.country.name})),m=i?i.Country_Selected:m;var r=flagSelectService.getCountriesConfig(n.countries,t,m,WuAmerigoConfigs.getTopCountries(),w,o.COUNTRY_LIST);flagSelectService.initiateFlagSelect(r.countryListRefactored,d,l,r.topEntries,r.selectedCountry,!1,e,o.COUNTRY_LIST),document.dispatchEvent(countryListEvent)}();else{window.countryCurrencyDefaults=n;var L=flagSelectService.sortValues(countryCurrencyDefaults.countries);m=i?i.Country_Selected:m;var I=flagSelectService.getCountriesConfig(L,o.COUNTRY_LIST,m,o.TOP_COUNTRIES,w);flagSelectService.initiateFlagSelect(I.countryListRefactored,d,l,I.topEntries,I.selectedCountry),document.dispatchEvent(countryListEvent)}}window.countryCurrencyDefaults=n,-1!==window.location.pathname.indexOf("currency-converter")&&document.dispatchEvent(countryListEvent)}catch(e){console.log("Country list is empty fo ".concat(t.country,"-").concat(t.language)),console.error(e)}}),(function(){console.log("erro in price corridor")}))}),(function(){console.log("error")}))}),(function(e){console.log("active version failed")}))}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}!function(){var e=document.querySelector(".sample_gcr_form"),t=document.getElementById("rmo-form"),n=document.getElementById("carf-form"),r=document.getElementById("country-code-list"),o=document.getElementById("rc-form"),i=document.getElementById("addBank"),a=document.getElementById("whatsappOptin"),s=document.getElementById("fullRegistration"),l=document.getElementById("otpScreenContainer"),u=document.getElementById("mrBeastMain"),c=document.getElementById("mrBeastReceiver"),d=document.getElementById("mrBeastSuccess"),p=document.querySelector("#rmo-money-order"),m=document.getElementById("mexico-form-complaint");if(Boolean(n)||Boolean(t)||Boolean(e)||Boolean(r)||Boolean(o)||Boolean(i)||Boolean(a)||Boolean(s)||Boolean(u)||Boolean(c)||Boolean(d)||Boolean(p)||Boolean(m)||Boolean(l)){var v=new CustomEvent("formLoadEvent");document.dispatchEvent(v)}}(),function(){var e=document.getElementById("rewards-wunav"),t=document.getElementById("main-wunav");window.location.href.includes("/rewards/")?(null==t||t.remove(),null==e||e.classList.remove("d-none")):null==e||e.remove();var n=document.querySelector(".header-hamburger"),r=document.querySelector(".language-dropdown"),o=document.querySelector(".header-hamburger__menu"),i=n&&n.querySelector(".header-hamburger_desktop__button"),a=n&&n.querySelector(".header-hamburger_mobile__button"),s=n&&n.querySelector(".header-hamburger__background"),l=document.body,u=!1,c=function(){return window.innerWidth<1024};[r].forEach((function(e){e&&(e.addEventListener("focusin",(function(){e.setAttribute("aria-expanded",!0)})),e.addEventListener("blur",(function(){e.setAttribute("aria-expanded",!1)})))})),n&&(o&&n.addEventListener("click",(function(){c()&&(o.classList.contains("header-hamburger__menu--translate")?(u=!0,o.classList.remove("header-hamburger__menu--translate"),o.classList.add("header-hamburger__menu--translate-back"),c()&&l.classList.add("overflow-hidden"),a.classList.remove("icon-D23-Menu-Hamburger"),a.classList.add("icon-F02-Cross-Remove-Close-Cancel"),n.classList.remove("overflow-hidden"),s.classList.remove("d-none"),s.classList.add("d-block"),i.setAttribute("aria-expanded",!0)):(u=!1,o.classList.remove("header-hamburger__menu--translate-back"),o.classList.add("header-hamburger__menu--translate"),n.classList.add("overflow-hidden"),c()&&l.classList.remove("overflow-hidden"),a.classList.add("icon-D23-Menu-Hamburger"),a.classList.remove("icon-F02-Cross-Remove-Close-Cancel"),s.classList.add("d-none"),s.classList.remove("d-block"),i.setAttribute("aria-expanded",!1)))})),n.addEventListener("mouseover",(function(){c()?a.setAttribute("aria-expanded",!0):i.setAttribute("aria-expanded",!0)})),n.addEventListener("mouseout",(function(){c()?a.setAttribute("aria-expanded",!1):i.setAttribute("aria-expanded",!1)}))),window.addEventListener("resize",(function(){var e=document.body;c()?u&&e.classList.add("overflow-hidden"):e.classList.remove("overflow-hidden")}))}();var Tabv2=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.tabsTriggerParentv2=e.tabsTriggerParentv2,this.tabsContentParentv2=e.tabsContentParentv2,this.triggersv2=this.tabsTriggerParentv2.querySelectorAll(".wu-tab"),this.contentsv2=this.tabsContentParentv2.querySelectorAll(".wu-tabs__content--pane"),this.init()}return _createClass(t,[{key:"init",value:function(){this.listeners()}},{key:"listeners",value:function(){for(var t=this,n=function(n){t.triggersv2[n].addEventListener("click",(function(e){var r=e.currentTarget.getAttribute("id");t.triggersClickHandlerv2(n,r),window.dispatchEvent(new CustomEvent("scroll"))})),t.triggersv2[n].addEventListener("keyup",(function(t){if(t.preventDefault(),"13"===t.keyCode){var r=e.currentTarget.getAttribute("id");this.triggersClickHandlerv2(n,r),window.dispatchEvent(new CustomEvent("scroll"))}}))},r=0;r<this.triggersv2.length;r++)n(r)}},{key:"triggersClickHandlerv2",value:function(e,t){for(var n=0;n<this.triggersv2.length;n++)this.triggersv2[n].classList.remove("wu-tab--active","font-weight-500");this.triggersv2[e].classList.add("wu-tab--active","font-weight-500");for(var r=0;r<this.contentsv2.length;r++)this.contentsv2[r].classList.remove("wu-tabs__content--pane--active");this.tabsContentParentv2.querySelector(t).classList.add("wu-tabs__content--pane--active")}}]),t}(),tabsTriggerParentv2=document.querySelectorAll(".wu-tabs"),tabsContentParentv2=document.querySelectorAll(".wu-tabs__content");if(tabsTriggerParentv2.length>0&&tabsContentParentv2.length>0&&tabsTriggerParentv2.length===tabsContentParentv2.length)for(i=0;i<tabsTriggerParentv2.length;i++)new Tabv2({tabsTriggerParentv2:tabsTriggerParentv2[i],tabsContentParentv2:tabsContentParentv2[i]});function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var CarouselV2=function(){function e(t){_classCallCheck(this,e),this.parent=t.parent,this.dots=this.parent.querySelectorAll(".wu-carousel-dots"),this.dotwrapper=this.parent.querySelector(".dot-wrapper"),this.list=this.parent.querySelector(".tabpanel"),this.init()}return _createClass(e,[{key:"init",value:function(){this.listeners(),[].forEach.call(this.dots,(function(e){e.classList.remove("bk-grey-02")})),this.handlerWindowResize()}},{key:"listeners",value:function(){var e=this,t=0,n=0,r=0;this.dots.forEach((function(n,r){n.setAttribute("data-num",r),n.addEventListener("click",(function(n){var r=n.target.dataset.num;if(r!=t){var o,i=e.list.parentElement.clientWidth,a="rtl"===(null===(o=document)||void 0===o?void 0:o.dir)?i*r:-i*r;e.list.style.transition="transform 1s ease",e.list.style.transform="translateX("+a+"px)",e.list.style.removeProperty("left"),e.dots[t].classList.remove("wu-carousel-dots-active"),e.dots[r].classList.add("wu-carousel-dots-active"),t=r}}))})),this.list.addEventListener("touchstart",(function(e){n=e.changedTouches[0].screenX})),this.list.addEventListener("touchend",(function(t){r=t.changedTouches[0].screenX,e.activedot=e.parent.querySelector(".wu-carousel-dots-active");var o=e.activedot.dataset.num,i=0;if(r<n&&(i=parseInt(o)+1),r>n&&(i=parseInt(o)-1),!(i<0||i>=e.dots.length)){var a=e.list.parentElement.clientWidth;console.log(a);var s=-a*i;e.list.style.transition="transform 1s ease",e.list.style.transform="translateX("+s+"px)",e.dots[o].classList.remove("wu-carousel-dots-active"),e.dots[i].classList.add("wu-carousel-dots-active")}})),window.addEventListener("resize",(function(t){e.handlerWindowResize()}))}},{key:"handlerWindowResize",value:function(){var e=document.documentElement.clientWidth;if(e>=1024)if(this.col=this.list.getAttribute("data-show-cols"),Math.ceil(this.dots.length/this.col)>1&&this.dots.length>1)for(var t=0;t<this.dots.length;t++)this.dots[t].getAttribute("data-num")<Math.ceil(this.dots.length/this.col)?(this.dots[t].classList.add("d-inline-block"),this.dots[t].classList.remove("d-none")):this.dots[t].getAttribute("data-num")>=Math.ceil(this.dots.length/this.col)&&(this.dots[t].classList.remove("d-inline-block"),this.dots[t].classList.add("d-none"));else for(var n=0;n<this.dots.length;n++)this.dots[n].classList.remove("d-inline-block"),this.dots[n].classList.add("d-none");if(e>=768&&e<1024)if(this.col=this.list.getAttribute("data-show-cols-md"),Math.ceil(this.dots.length/this.col)>1&&this.dots.length>1)for(var r=0;r<this.dots.length;r++)this.dots[r].getAttribute("data-num")<Math.ceil(this.dots.length/this.col)?(this.dots[r].classList.add("d-inline-block"),this.dots[r].classList.remove("d-none")):this.dots[r].getAttribute("data-num")>=Math.ceil(this.dots.length/this.col)&&(this.dots[r].classList.remove("d-inline-block"),this.dots[r].classList.add("d-none"));else for(var o=0;o<this.dots.length;o++)this.dots[o].classList.remove("d-inline-block"),this.dots[o].classList.add("d-none");if(e<768)for(var i=0;i<this.dots.length;i++)this.dots[i].classList.add("d-inline-block"),this.dots[i].classList.remove("d-none")}}]),e}(),totSlider=document.querySelectorAll(".wu-carousel");if(totSlider.length>0)for(i=0;i<totSlider.length;i++)new CarouselV2({parent:totSlider[i]});function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var withAnimation=!0,duration=100,easing="ease-in",AccordionV2=function(){function e(t){var n,r=this;_classCallCheck(this,e),this.parent=t.parent,this.summary=this.parent.querySelector(".accordion-summary"),this.content=this.parent.querySelector(".accordion-summary + *"),this.animation=null,this.isClosing=!1,this.isExpanding=!1,null===(n=this.summary)||void 0===n||n.setAttribute("aria-expanded",!1),this.summary.addEventListener("click",(function(e){return r.onClick(e)}))}return _createClass(e,[{key:"onClick",value:function(e){e.preventDefault(),this.parent.style.overflow="hidden",this.isClosing||!this.parent.open?this.open():(this.isExpanding||this.parent.open)&&this.shrink()}},{key:"shrink",value:function(){var e=this;this.isClosing=!0,this.content.classList.add("d-none"),this.content.classList.remove("d-flex"),this.summary.setAttribute("aria-expanded",!1);var t="".concat(this.parent.offsetHeight,"px"),n="".concat(this.summary.offsetHeight,"px");this.animation&&this.animation.cancel(),this.parent.querySelector(".plus").classList.remove("d-none"),this.parent.querySelector(".minus").classList.add("d-none"),this.animation=this.parent.animate({height:[t,n]},{duration:duration,easing:easing}),this.animation.onfinish=function(){return e.onAnimationFinish(!1)},this.animation.oncancel=function(){return e.isClosing=!1}}},{key:"open",value:function(){var e=this;this.parent.style.height="".concat(this.parent.offsetHeight,"px"),this.parent.open=!0,window.requestAnimationFrame((function(){return e.expand()})),this.parent.querySelector(".plus").classList.add("d-none"),this.parent.querySelector(".minus").classList.remove("d-none"),this.content.classList.remove("d-none"),this.content.classList.add("d-flex"),this.collapse()}},{key:"expand",value:function(){var e=this;this.isExpanding=!0,this.content.classList.remove("d-none"),this.content.classList.add("d-flex"),this.parent.querySelector(".plus").classList.add("d-none"),this.parent.querySelector(".minus").classList.remove("d-none"),this.summary.setAttribute("aria-expanded",!0);var t="".concat(this.parent.offsetHeight,"px"),n="".concat(this.summary.offsetHeight+this.content.offsetHeight,"px");this.animation&&this.animation.cancel(),this.animation=this.parent.animate({height:[t,n]},{duration:duration,easing:easing}),this.animation.onfinish=function(){return e.onAnimationFinish(!0)},this.animation.oncancel=function(){return e.isExpanding=!1}}},{key:"onAnimationFinish",value:function(e){this.parent.open=e,this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.parent.style.height=this.parent.style.overflow=""}},{key:"collapse",value:function(){var e=document.querySelectorAll(".accordion-details");if((null==e?void 0:e.length)>1)for(var t=0;t<e.length;t++){var n=e[t].getAttribute("data-enable-collapse");this.allContent=e[t].querySelector(".accordion-summary + *"),this.allContent.id!==this.content.id&&n&&(this.allContent.classList.add("d-none"),this.allContent.classList.remove("d-flex"),e[t].querySelector(".minus").classList.add("d-none"),e[t].querySelector(".plus").classList.remove("d-none"),e[t].open=!1),this.isClosing=!1,this.isExpanding=!1}}}]),e}();try{var accordionv2=document.querySelectorAll(".accordion-details");if(accordionv2.length>0)for(i=0;i<accordionv2.length;i++)new AccordionV2({parent:accordionv2[i]})}catch(e){console.log(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var WuCurrencyDropdownv2=function(){function e(t){_classCallCheck(this,e),this.inputField=t.querySelector(".wu-input"),this.searchInput=t.getElementsByClassName("wuds-dropdown__search__box"),this.currencyList=t.querySelectorAll(".wuds-dropdown__search__list .wuds-dropdown__item"),this.clearButton=t.querySelector(".wuds-dropdown__search__cancel__icon"),this.curDropdown=t.querySelector(".wuds-dropdown--country"),this.moreButton=t.getElementsByClassName("icon-D11-Chevron-down"),this.buttonReceiver=t.querySelector(".receiverCurrencyDrop.wu-input_flag-currency"),this.init()}return _createClass(e,[{key:"init",value:function(){this.listeners(),this.curDropdown&&this.curDropdown.style&&(this.curDropdown.style.display="none")}},{key:"listeners",value:function(){var e=this;document.addEventListener?document.getElementsByTagName("body")[0].addEventListener("click",(function(t){e.currencyDropdownToggle(t)})):document.attachEvent&&(document.getElementsByTagName("body")[0].addEventListener("click",(function(t){e.currencyDropdownToggle()})),this.searchInput&&this.searchInput[0].addEventListener("keyup",(function(t){e.searchFilter()})),this.clearButton.addEventListener("click",(function(t){e.onClickClear()})))}},{key:"onClickClear",value:function(){this.searchInput&&this.searchInput[0].focus(),this.searchInput&&(this.searchInput[0].value="");for(var e=0;e<=this.currencyList.length-1;e++)this.currencyList[e].style.display="block"}},{key:"searchFilter",value:function(){if(this.searchInput&&this.searchInput[0].value.length>0?this.clearButton.style.display="flex":this.clearButton.style.display="none",this.currencyList&&this.currencyList.length>0)for(var e=0;e<this.currencyList.length;e++){var t=this.currencyList[e],n=t&&t.querySelector(".b-flag-select__text").innerText;this.searchInput&&this.searchInput[0]&&n.toUpperCase().indexOf(this.searchInput[0].value.toUpperCase())>-1?t.style.display="block":t.style.display="none"}}},{key:"clearSearch",value:function(){this.searchInput&&this.searchInput[0].focus(),this.searchInput&&(this.searchInput[0].value=""),this.searchFilter()}},{key:"currencyDropdownToggle",value:function(e){var t=document.querySelector(".amount");t.setAttribute("value",t.value),t.getAttribute("data-value")!=t.value?sessionStorage.setItem("currency-converter-amount",t.value):sessionStorage.removeItem("currency-converter-amount"),e.target&&e.target.classList.contains("receiverCurrencyDrop")?(this.moreButton&&this.moreButton[0].classList.toggle("down"),this.curDropdown.style.display="none"===this.curDropdown.style.display?"block":"none",this.clearSearch()):e.target&&e.target.classList.contains("b-language-dropdown")?(this.moreButton&&this.moreButton[0].classList.toggle("down"),this.curDropdown.style.display="none"===this.curDropdown.style.display?"block":"none"):!e.target.id||"searchInput"!==e.target.id&&"clear"!==e.target.id?(this.curDropdown.style.display="none",this.clearSearch(),this.moreButton&&this.moreButton.length>0&&this.moreButton[0].classList.contains("down")&&this.moreButton&&this.moreButton[0].classList.toggle("down")):this.curDropdown.style.display="block","none"===this.curDropdown.style.display?this.buttonReceiver.setAttribute("aria-expanded",!1):this.buttonReceiver.setAttribute("aria-expanded",!0)}}]),e}(),ccSelectDropdowns=document.querySelectorAll(".currency-selects-dropdown");if(ccSelectDropdowns.length>0)for(i=0;i<ccSelectDropdowns.length;i++)new WuCurrencyDropdownv2(ccSelectDropdowns[i]);function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var _document,_viewButton$textConte,WuModalv2=function(){function e(t){return _classCallCheck(this,e),this.modal=t,null!=this.modal.querySelectorAll("[data-wu-modal-trigger]")&&(this.modalTriggers=this.modal.querySelectorAll("[data-wu-modal-trigger]"),null!=this.modal.querySelector("[data-wu-modal-content]")&&(this.modalContent=this.modal.querySelector("[data-wu-modal-content]"),null!=this.modalContent.querySelector("iframe")&&(this.frame=this.modalContent.querySelector("iframe"),null!=this.frame.parentNode&&(this.frameParent=this.frame.parentNode,void this.init()))))}return _createClass(e,[{key:"init",value:function(){this.triggerListenerClick()}},{key:"triggerListenerClick",value:function(){for(var e=this,t=0;t<this.modalTriggers.length;t++)this.modalTriggers[t].addEventListener("click",(function(t){e.triggerHandlerClick(t)}))}},{key:"triggerHandlerClick",value:function(e){if(null!==this.modal.querySelector(".tabpanel")){var t=this.modal.querySelector(".tabpanel").style.transform,n=this.modal.querySelector(".tabpanel").style.left;if(t)var r=/\(([^)]*)\)/.exec(t)[1];else r=n;this.modal.querySelector(".tabpanel").removeAttribute("style"),this.modal.querySelector(".tabpanel").style.cssText="position:relative;left:".concat(r)}this.modalContent.classList.toggle("d-flex"),this.modalContent.classList.toggle("d-none"),this.frame.remove(),this.frameParent.appendChild(this.frame)}}]),e}(),allModals=document.querySelectorAll("[data-wu-modal-select]");if(allModals.length>0)for(i=0;i<allModals.length;i++)new WuModalv2(allModals[i]);var HIDDEN_MAX=6,topParent=null===(_document=document)||void 0===_document?void 0:_document.querySelector(".help-center-searchbar-section"),filterInput=null==topParent?void 0:topParent.querySelector(".help-center-input-searchbar"),buttons=null==topParent?void 0:topParent.querySelectorAll(".help-center-button-search-container .help-center-button-link"),viewButton=null==topParent?void 0:topParent.querySelector("#help-center-view--more"),textOnButton=null!==(_viewButton$textConte=null==viewButton?void 0:viewButton.textContent)&&void 0!==_viewButton$textConte?_viewButton$textConte:"",isShowingMax=!0;function init(){viewButton.textContent="".concat(textOnButton," [+]")}function toggleShowMe(){var e,t=null==topParent?void 0:topParent.querySelectorAll("[data-button-show-more]");null!==(e=null==t?void 0:t.length)&&void 0!==e&&e?viewButton&&(viewButton.style.display="block"):viewButton&&(viewButton.style.display="none")}topParent&&document.addEventListener("DOMContentLoaded",init);var filterInputData=function(){var e=filterInput?filterInput.value.toLowerCase():"",t=0;null==buttons||buttons.forEach((function(n){var r,o=null===(r=n.textContent)||void 0===r?void 0:r.toLowerCase(),i=n.parentElement;if(i)if(i.removeAttribute("data-button-show-more"),null==o?void 0:o.includes(e)){var a="block";t>=HIDDEN_MAX&&(isShowingMax&&(a="none"),i.setAttribute("data-button-show-more","true")),i.style.display=a,t++}else i.style.display="none"})),toggleShowMe()};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}null==filterInput||filterInput.addEventListener("input",filterInputData),filterInputData(),null==viewButton||viewButton.addEventListener("click",(function(){var e=null==topParent?void 0:topParent.querySelectorAll("[data-button-show-more]");isShowingMax?(isShowingMax=!1,null==e||e.forEach((function(e){return e.style.display="block"})),viewButton.textContent="".concat(textOnButton," [-]")):(isShowingMax=!0,null==e||e.forEach((function(e){return e.style.display="none"})),viewButton.textContent="".concat(textOnButton," [+]"))})),function(){var e=document.querySelector(".header__progressbar");if(e){var t=document.querySelectorAll(".header__progressbar__increment"),n=document.querySelectorAll(".header__progressbar__decrement"),r=function(){var t=parseInt((null==e?void 0:e.getAttribute("data-completed-items"))||"0");i(t+1)},o=function(){var t=parseInt((null==e?void 0:e.getAttribute("data-completed-items"))||"0"),n=t;t>0&&(n=t-1),i(n)},i=function(t){null==e||e.setAttribute("data-completed-items",t)};t.forEach((function(e){null==e||e.addEventListener("click",r)})),n.forEach((function(e){null==e||e.addEventListener("click",o)}))}}();var ScrollSliderv2=function(){function e(t){if(_classCallCheck(this,e),this.list=document.querySelector('[data-scroll-slider-lists="'.concat(t,'"]')),!this.list)throw new Error("Selector 'data-scroll-slider-lists=\"".concat(t,"\"' not found"));if(this.arrowPrev=document.querySelector('[data-scroll-slider-prev="'.concat(t,'"]')),!this.arrowPrev)throw new Error("Selector 'data-scroll-slider-prev=\"".concat(t,"\"' not found"));if(this.arrowNext=document.querySelector('[data-scroll-slider-next="'.concat(t,'"]')),!this.arrowNext)throw new Error("Selector 'data-scroll-slider-next=\"".concat(t,"\"' not found"));if(this.items=this.list.children,0===this.items.length)throw new Error("list items must not be empty");this.index=0,this.timeout=null,this.init()}return _createClass(e,[{key:"init",value:function(){this.showHideArrows(),this.listener()}},{key:"showHideArrows",value:function(){for(var e=this.list.getBoundingClientRect().width,t=0,n=0;n<this.items.length;n++)t+=this.items[n].getBoundingClientRect().width;console.log(e,t),t>e?(this.arrowPrev.style.display="block",this.arrowNext.style.display="block"):(this.arrowPrev.style.display="none",this.arrowNext.style.display="none")}},{key:"listener",value:function(){var e=this;this.arrowPrev.addEventListener("click",(function(t){e.arrowPrevHandleClick()})),this.arrowNext.addEventListener("click",(function(t){e.arrowNextHandleClick()})),this.list.addEventListener("scroll",(function(t){e.listHandleScroll()})),window.addEventListener("resize",this.showHideArrows.bind(this))}},{key:"arrowPrevHandleClick",value:function(){if(this.index>0){var e=this.items[this.index-1].getBoundingClientRect().width;this.list.scrollLeft=this.list.scrollLeft-e,this.index--}0===this.index&&(this.list.scrollLeft=0)}},{key:"arrowNextHandleClick",value:function(){if(this.index<this.items.length-1){var e=this.items[this.index].getBoundingClientRect().width;this.list.scrollLeft=this.list.scrollLeft+e,this.index++}}},{key:"listHandleScroll",value:function(){var e=this;clearTimeout(this.timeout);var t=null,n=1e4;this.timeout=setTimeout((function(){for(var r=0;r<e.items.length;r++){var o=e.list.getBoundingClientRect().left-e.items[r].getBoundingClientRect().left,i=Math.abs(o);n>i&&(n=i,t=r)}e.index=t}),250)}}]),e}(),allScrollSliderOnPage=document.querySelectorAll("[data-scroll-slider-lists]");for(i=0;i<allScrollSliderOnPage.length;i++){var name=allScrollSliderOnPage[i].getAttribute("data-scroll-slider-lists");new ScrollSliderv2(name)}var triggerValidateEmail=function(e,t,n){var r={email:e,security:{session:{id:t},client_ip:n,version:"3"}},o={method:"POST",headers:{accept:"application/json, text/plain, */*","Content-Type":"application/json","accept-language":"en-US,en;q=0.9"},body:JSON.stringify(r)};return fetchApiWu("/wudgtsrvs/mobiliser/rest/channel/GwpValidateEmail?timestamp=".concat((new Date).getTime()),o,"GwpValidateEmail")},triggerRegisterGWPApi=function(e,t,n,r,o,i){var a={external_reference_no:"1",security:{session:{id:e},client_ip:"003217201105",version:"1"},analytics:{state:null,analytic_event:[{fields:{field:[{name:"registrationPersonalTime",value:"60"},{name:"registrationSecurityTime",value:"60"},{name:"registrationTime",value:"0"},{name:"invalidEmailCount",value:"3"},{name:"registrationErrorList",value:""},{name:"infoRegUserName",value:t},{name:"infoSecQ1",value:""}]}}]},gateway_customer:{email:t,name:r,identities:{identity:[{data:n,type:"PASSWORD"}]},terms_condition_flag:o,account_preferences:{direct_mail:!1,email:!0,telephone_call:!1,message:!1,opt_out_marketing:i,thirdparty_datasharing_consent:!0}},progressive_registration:"true"},s={method:"POST",headers:{accept:"application/json, text/plain, */*","Content-Type":"application/json","accept-language":"en-US,en;q=0.9"},body:JSON.stringify(a)};return fetchApiWu("/wudgtsrvs/mobiliser/rest/channel/v2.0/GwpRegisterCustomer?timestamp=".concat((new Date).getTime()),s,"GwpRegisterCustomer")},showFileValidationMessage=(hideValidationMessage=function(e){var t;e.parentNode.classList.remove("wu-input__error"),e.parentNode.classList.remove("wu-input--error");var n=e.getAttribute("id"),r=document.querySelector("."+n+"-error")||(null==e||null===(t=e.parentNode)||void 0===t?void 0:t.querySelector(".wu-input--error"));r&&r.classList.add("d-none")},showValidationMessage=function(e,t){var n;e.parentNode.classList.add("wu-input__error"),e.parentNode.classList.add("wu-input--error");var r=e.getAttribute("id"),o=document.querySelector("."+r+"-error")||(null==e||null===(n=e.parentNode)||void 0===n?void 0:n.querySelector(".wu-input--error"));t&&(o.innerText=t),o&&o.classList.remove("d-none")},function(e,t){var n=e.parentNode;n.classList.add("bdr-color-red","text-red"),n.classList.remove("bdr-color-blue");var r=n.parentElement.querySelector(".wu-input--error");r&&(r.classList.remove("d-none"),r.innerHTML=r.getAttribute(t))}),hideFileValidationMessage=function(e){var t=e.parentNode;t.classList.remove("bdr-color-red","text-red"),t.classList.add("bdr-color-blue");var n=t.parentElement.querySelector(".wu-input--error");n&&n.classList.add("d-none")},OTPService={validateOTP:function(e,t,n,r,o,i){return new Promise((function(a,s){try{var l=r.sessionId,u=r.encryptedSessionId,c=r.clientIp,d=r.dataCenter;triggerRouterVerifyRecoveryFactor(i,e,n,l).then((function(r){var i,s;"SUCCESS"===(null==r||null===(i=r.data)||void 0===i||null===(s=i.verifyRecoveryFactor)||void 0===s?void 0:s.status)?triggerRouterSignInCustomer(l,e,n,o).then((function(r){var i,s,p,m,v,g,y;(null==r||null===(i=r.data)||void 0===i||null===(s=i.signIn)||void 0===s?void 0:s.errorCode)?a({success:!1,data:null,message:null==r||null===(p=r.data)||void 0===p||null===(m=p.signIn)||void 0===m?void 0:m.message,error:r,urlType:null}):triggerCustomerProfile(l,null==r||null===(v=r.data)||void 0===v||null===(g=v.signIn)||void 0===g||null===(y=g.token)||void 0===y?void 0:y.accessToken,e,n).then((function(i){var s,p;if(null==i||null===(s=i.data)||void 0===s||null===(p=s.customerProfile)||void 0===p?void 0:p.errorCode){var m,v;a({success:!1,data:null,message:null==i||null===(m=i.data)||void 0===m||null===(v=m.customerProfile)||void 0===v?void 0:v.message,error:i,urlType:null})}else{var g,y,f,h,C,w;setDataInStorageR4(i,r,n,o,e,l,u,c,d),StorageService.setDataInStorage(e,n,l,u,o,t,i);var S=null==i||null===(g=i.data)||void 0===g||null===(y=g.customerProfile)||void 0===y||null===(f=y.customer)||void 0===f?void 0:f.accountNumber;sessionStorage.setItem("AccountNumber",S);var b=(null==r||null===(h=r.data)||void 0===h||null===(C=h.signIn)||void 0===C||null===(w=C.token)||void 0===w?void 0:w.prepaidToken)||"";sessionStorage.setItem("prepaidToken",b);var _=sendMoneyLink.getParam();a({success:!0,data:null,message:null,error:null,urlType:_?"estimate-details":"start"})}})).catch((function(e){a({success:!1,data:null,message:null,error:e,urlType:null})}))})).catch((function(e){a({success:!1,data:null,message:null,error:e,urlType:null})})):a({success:!1,data:null,message:null,error:null,urlType:null})})).catch((function(e){a({success:!1,data:null,message:null,error:e,urlType:null})}))}catch(e){a({success:!1,data:null,message:null,error:e,urlType:null})}}))},resendTriggerOTP:function(e,t,n,r){return new Promise((function(o,i){try{var a=n.sessionId;triggerResendRecoveryFactor(e,t,a,r.emailId).then((function(){o({success:!0,data:null,message:null,error:null,urlType:null})})).catch((function(e){o({success:!1,data:null,message:null,error:e,urlType:null})}))}catch(e){console.error("error from trigger register : ",e),o({success:!1,data:null,message:null,error:e,urlType:null})}}))}},StorageService={setDataInStorage:function(e,t,n,r,o,i,a){try{var s,l,u,c,d,p,m,v,g,y,f,h,C,w,S,b=null==a||null===(s=a.data)||void 0===s||null===(l=s.customerProfile)||void 0===l||null===(u=l.customer)||void 0===u?void 0:u.accountNumber,_=null==a||null===(c=a.data)||void 0===c||null===(d=c.customerProfile)||void 0===d||null===(p=d.customer)||void 0===p?void 0:p.registrationDate;S=b?{email:o.emailId,verificationStatus:"N",termsConditionFlag:"1",myWuNumber:b,isLoggedIn:!0,address:{countryIsoCode:e.toUpperCase()},additionalPreferedAccountNumber:b,issueDate:null==_||null===(f=_.split(" ")[0])||void 0===f?void 0:f.replace(/-/g,""),mobileNumber:{},identityVerificationStatus:"N",accountPreferences:{optOutMarketing:"true",directMail:"false",message:"false",email:"true",telephoneCall:"false",optInShare:"true",thirdpartyDatasharingConsent:"true",whatsAppMsg:"false"},registrationDetails:{registrationDate:_,registrationStatus:"P"},customerLevelCode:null==a||null===(h=a.data)||void 0===h||null===(C=h.customerProfile)||void 0===C||null===(w=C.customer)||void 0===w?void 0:w.customerLevelCode}:{email:o.emailId,password:o.password};var A=window.receiverCountry||"MX",L=null===(m=countryCurrencyDefaults)||void 0===m||null===(v=m.countries)||void 0===v||null===(g=v.filter((function(e){return e.country.isCode===A}))[0])||void 0===g||null===(y=g.country)||void 0===y?void 0:y.name,I={sessionId:n,encryptedSessionId:r,sender:S,corridor:{senderCountry:{isoCode:e.toUpperCase(),name:i},receiverCountry:{isoCode:A,name:L},receiverCurrency:ISO_CODES_COUNTRIES_CURRENCIES[A],senderCurrency:ISO_CODES_COUNTRIES_CURRENCIES[e.toUpperCase()],senderCurrencyArray:[{currency:ISO_CODES_COUNTRIES_CURRENCIES[e.toUpperCase()]}],receiverCurrencyArray:[{currency:ISO_CODES_COUNTRIES_CURRENCIES[A]}]}},E=JSON.stringify(I);sessionStorage.setItem("app",E),sessionStorage.setItem("cookiestore",E),sessionStorage.setItem("sc_register_success","true"),CookieService.setCookie("SessionId",n,30,"/",!0,".westernunion.com"),CookieService.setCookie("EncryptedSessionId",r,30,"/".concat(e,"/").concat(t),!0,".westernunion.com")}catch(e){console.log(e)}}},URLService=function(){var e=function(e,t,n,r){var o=[r,sendMoneyLink.getParam()].filter(String).join("&");return"/".concat(e,"/").concat(t).concat(n).concat(o?"?".concat(o):"")},t=function(t,n){return e(t,n,"/web/send-money/start",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"")},n=function(t,n){return e(t,n,"/web/user/register-verify-email",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"")},r=function(t,n){return e(t,n,"/web/user/login",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"")},o=function(t,n){return e(t,n,"/web/user/register",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"")},i=function(t,n){return e(t,n,"/web/user/history",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"")},a=function(t,n){return e(t,n,"/web/send-money/estimate-details",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"")},s={start:t,"register-verify-email":n,login:r,register:o,history:i,"estimate-details":a};return{getStartURL:t,getRegisterVerifyEmailURL:n,getLoginURL:r,getRegisterURL:o,getHistoryURL:i,getEstimateDetailsURL:a,get:function(e,t,n){var r=s[e];return r?r(t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:""):""}}}(),SignInService=function(){var e=function(e,t,n,r){return new Promise((function(o,i){try{triggerRouterCreateSession(e,n).then((function(i){var a=i.sessionId,s=i.encryptedSessionId,l=i.clientIp,u=i.dataCenter;a&&triggerRouterSignInCustomer(a,e,n,r).then((function(i){var c,d,p,m,v;(null==i||null===(c=i.data)||void 0===c||null===(d=c.signIn)||void 0===d?void 0:d.errorCode)?o({success:!1,data:null,message:null,error:null,urlType:"login"}):triggerCustomerProfile(a,null==i||null===(p=i.data)||void 0===p||null===(m=p.signIn)||void 0===m||null===(v=m.token)||void 0===v?void 0:v.accessToken,e,n).then((function(c){var d,p;if(null==c||null===(d=c.data)||void 0===d||null===(p=d.customerProfile)||void 0===p?void 0:p.errorCode)o({success:!1,data:null,message:null,error:null,urlType:"login"});else{var m,v,g,y,f,h;setDataInStorageR4(c,i,n,r,e,a,s,l,u),StorageService.setDataInStorage(e,n,a,s,r,t,c);var C=null==c||null===(m=c.data)||void 0===m||null===(v=m.customerProfile)||void 0===v||null===(g=v.customer)||void 0===g?void 0:g.accountNumber;sessionStorage.setItem("AccountNumber",C);var w=(null==i||null===(y=i.data)||void 0===y||null===(f=y.signIn)||void 0===f||null===(h=f.token)||void 0===h?void 0:h.prepaidToken)||"";sessionStorage.setItem("prepaidToken",w),o({success:!0,data:null,message:null,error:null,urlType:"start"})}})).catch((function(e){console.error("error from trigger customerProfile : ",e),o({success:!1,data:null,message:null,error:e,urlType:null})}))})).catch((function(e){console.error("error from trigger SingIn Session : ",e),o({success:!1,data:null,message:null,error:e,urlType:null})}))})).catch((function(e){console.error("error from trigger create Session : ",e),o({success:!1,data:null,message:null,error:e,urlType:null})}))}catch(e){o({success:!1,data:null,message:null,error:e,urlType:null})}}))},t=function(e,t,n,r){return new Promise((function(o,i){try{var a=triggerCreateSession(e,t,n);httpRequest.post(a.createSessionurl,a.reqPayload,{"Content-type":"application/json"}).then((function(i){var a,s,l,u,c=(null==i||null===(a=i.security)||void 0===a?void 0:a.client_ip)?i.security.client_ip:"245024209201",d=null==i||null===(s=i.security)||void 0===s?void 0:s.session.id,p=null==i||null===(l=i.security)||void 0===l||null===(u=l.session)||void 0===u?void 0:u.encrypted_session_id;c&&d?triggerCustomerSignOn(e,t,d,c,r,n).then((function(i){var a;if(null==i||null===(a=i.error)||void 0===a?void 0:a.code)sessionStorage.setItem("quickLoginErrorResponse",JSON.stringify(i)),o({success:!1,data:null,message:null,error:null,urlType:"login"});else{var s,l,u=null==i||null===(s=i.gatewayCustomer)||void 0===s||null===(l=s.preferredCustomer)||void 0===l?void 0:l.accountNbr;triggerGetTransactionDetails(d,c,u,n).then((function(a){setR3SendeGatewayrDetails(d,p,e,t,r,i,"sc_login_success"),updateUserIdentity(i),triggerGetCustomerVerificationStatus(d,c,u,n).then((function(e){setR3CustomerVerificationStatus(e),triggerGetLoyaltycards(d,c,u,n).then((function(e){var t,n;setR3LoyalityCard(e),(null==r?void 0:r.rememberMeChecked)&&CookieService.setCookie("User_Email",null==r?void 0:r.emailId,365,"/",!0,".westernunion.com");var i=(null==a||null===(t=a.transactions)||void 0===t||null===(n=t.transaction)||void 0===n?void 0:n.length)>0?"history":"start";o({success:!0,data:null,message:null,error:null,urlType:i})})).catch((function(e){console.error(e),o({success:!1,data:null,message:null,error:e,urlType:null})}))})).catch((function(e){console.error(e),o({success:!1,data:null,message:null,error:e,urlType:null})}))})).catch((function(e){console.error(e),o({success:!1,data:null,message:null,error:e,urlType:null})}))}})).catch((function(e){console.error(e),o({success:!1,data:null,message:null,error:e,urlType:null})})):o({success:!1,data:null,message:null,error:null,urlType:null})})).catch((function(e){o({success:!1,data:null,message:null,error:e,urlType:null})}))}catch(e){console.error("error from trigger Session API  : ",e),o({success:!1,data:null,message:null,error:e,urlType:null})}}))};return{signIn:function(n,r,o,i,a){return arguments.length>5&&void 0!==arguments[5]&&arguments[5]?e(n,r,o,a):t(n,o,i,a)},r3SignIn:t,r4SignIn:e}}(),SignUpService=function(){var e=function(e,t,n){return new Promise((function(r,o){try{triggerRouterCreateSession(e,t).then((function(o){var i=o.sessionId,a=o.encryptedSessionId,s=o.clientIp,l=o.dataCenter;i?triggerRouterAddCustomer(i,e,t,n).then((function(e){var t,n,o,u,c,d,p,m;if("CREATED"===(null==e||null===(t=e.data)||void 0===t||null===(n=t.addCustomer)||void 0===n?void 0:n.status)&&"SuccessResponse"===(null==e||null===(o=e.data)||void 0===o||null===(u=o.addCustomer)||void 0===u?void 0:u.__typename)&&r({success:!0,data:null,message:null,error:null,urlType:"start"}),"EA1035"===(null==e||null===(c=e.data)||void 0===c||null===(d=c.addCustomer)||void 0===d||null===(p=d.error)||void 0===p?void 0:p.err))sessionStorage.setItem("sc_register_success","true"),r({success:!1,show_otp:!0,data:{sessionData:{sessionId:i,encryptedSessionId:a,clientIp:s,dataCenter:l}},message:null,error:null,urlType:null});else if("ErrorResponse"===(null==e||null===(m=e.data)||void 0===m?void 0:m.addCustomer.__typename)){var v,g;r({success:!1,data:null,message:null==e||null===(v=e.data)||void 0===v||null===(g=v.addCustomer)||void 0===g?void 0:g.message,error:e,urlType:null})}else r({success:!1,data:null,message:null,error:e,urlType:null})})).catch((function(e){console.error(e),r({success:!1,data:null,message:null,error:e,urlType:null})})):r({success:!1,data:null,message:null,error:null,urlType:null})})).catch((function(e){console.error(e),r({success:!1,data:null,message:null,error:e,urlType:null})}))}catch(e){console.error("error from trigger register : ",e),r({success:!1,data:null,message:null,error:e,urlType:null})}}))},t=function(e,t,n,r,o){return new Promise((function(i,a){try{var s=triggerCreateSession(e,n,r);httpRequest.post(s.createSessionurl,s.reqPayload,{"Content-type":"application/json"}).then((function(r){var a,s,l,u=(null==r||null===(a=r.security)||void 0===a?void 0:a.client_ip)?r.security.client_ip:"245024209201",c=null==r||null===(s=r.security)||void 0===s?void 0:s.session.id,d=null==r||null===(l=r.security)||void 0===l?void 0:l.session.encrypted_session_id;StorageService.setDataInStorage(e,n,c,d,o,t),u&&c?triggerValidateEmail(o.emailId,c,u).then((function(t){var r;"C6017"===(null==t||null===(r=t.error)||void 0===r?void 0:r.code)?triggerRegisterGWPApi(c,o.emailId,o.password).then((function(t){var r,a,s,l;"C6006"===(null==t||null===(r=t.error)||void 0===r?void 0:r.code)?(null==t||null===(a=t.error)||void 0===a||null===(s=a.reasons)||void 0===s||null===(l=s.reason)||void 0===l?void 0:l.filter((function(e){return"11512"===e.code})))?i({success:!1,data:null,message:null,error:null,urlType:"register-verify-email"}):i({success:!1,data:null,message:null,error:t,urlType:null}):triggerCustomerSignOn(e,n,c,u,o,location.host).then((function(t){var r,a;if(null==t||null===(r=t.gatewayCustomer)||void 0===r||null===(a=r.preferredCustomer)||void 0===a?void 0:a.accountNbr){var s,l,p=null==t||null===(s=t.gatewayCustomer)||void 0===s||null===(l=s.preferredCustomer)||void 0===l?void 0:l.accountNbr;setR3SendeGatewayrDetails(c,d,e,n,o,t),CookieService.setCookie("userIdentity","registeredCustomer",365,location.pathname),triggerGetLoyaltycards(c,u,p,location.host).then((function(e){setR3LoyalityCard(e),i({success:!0,data:null,message:null,error:null,urlType:"start"})})).catch((function(e){console.error(e),i({success:!1,data:null,message:null,error:e,urlType:null})}))}else i({success:!1,data:null,message:null,error:t,urlType:null})})).catch((function(e){console.error(e),i({success:!1,data:null,message:null,error:e,urlType:null})}))})).catch((function(e){console.error(e),i({success:!1,data:null,message:null,error:e,urlType:null})})):i({success:!1,data:null,message:null,error:t,urlType:null})})).catch((function(e){console.error(e),i({success:!1,data:null,message:null,error:e,urlType:null})})):i({success:!1,data:null,message:null,error:null,urlType:null})})).catch((function(e){console.error(e),i({success:!1,data:null,message:null,error:e,urlType:null})}))}catch(e){console.error("error from trigger register : ",e),i({success:!1,data:null,message:null,error:e,urlType:null})}}))};return{signUp:function(n,r,o,i,a){return arguments.length>5&&void 0!==arguments[5]&&arguments[5]?e(n,o,a):t(n,r,o,i,a)},r4SignUp:e,r3SignUp:t}}();function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(){var e=document.getElementById("loginAndRegisterMain"),t=document.getElementById("PriceVariantB");if(e)try{var n,r,o=location.pathname.replace("/pages/latest","").split("/"),i=o[1],a=o[2];window.sessionStorage.getItem("AccountNumber")||([{hostname:window.location.hostname,domain:!1},{hostname:".westernunion.com",domain:!0}].forEach((function(e){var t=e.hostname,n=e.domain;CookieService.deleteCookie("SessionInfoRetail","/",t,n),CookieService.deleteCookie("SessionInfo","/",t,n),CookieService.deleteCookie("SessionIdRetail","/",t,n),CookieService.deleteCookie("SessionDomainRetail","/",t,n),CookieService.deleteCookie("SessionDomain","/",t,n),CookieService.deleteCookie("sessionTimer","/",t,n),CookieService.deleteCookie("SessionId","/",t,n),CookieService.deleteCookie("EncryptedSessionId","/".concat(i,"/").concat(a),t,n),CookieService.deleteCookie("EncryptedSessionId","/",t,n),CookieService.deleteCookie("LangCode","/",t,n),CookieService.deleteCookie("UserID","/",t,n),CookieService.deleteCookie("NewUserCookie","/",t,n),CookieService.deleteCookie("loggedIn","/",t,n),CookieService.deleteCookie("CountryCode","/",t,n),CookieService.deleteCookie("userType","/",t,n),CookieService.deleteCookie("UserLocale","/",t,n)})),window.sessionStorage.clear());var s="R4"===CookieService.getCookie("rodeoRegistrationExperience"),l="R4"===CookieService.getCookie("triggerAPI"),u=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,c=/((?=.*[a-z])(?=.*[A-Z])(?=.*[0123456789])^.{8,16}$)/,d=e.querySelector(".signupEmailId-error"),p=e.querySelector(".signupPassword-error"),m=e.querySelector("#signupEmailId"),v=e.querySelector("#signupPassword"),g=e.querySelector("#btnTriggerAddCustomerApi"),y=e.querySelector("#btnTriggerSignInApi"),f=null==t?void 0:t.querySelector(".receiver_join_now_cta"),h=document.getElementById("spinnerContainer"),C=e.querySelectorAll(".input-label");Array.from(C).forEach((function(e){var t=e.querySelector("label"),n=e.querySelector("input");t.addEventListener("click",(function(){n.focus()}))})),d=d&&(null===(n=d.innerText)||void 0===n?void 0:n.trim()),p=p&&(null===(r=p.innerText)||void 0===r?void 0:r.trim());var w=function(e){var t=e.currentTarget.id,n=document.getElementById(t);hideValidationMessage(n)},S=function(e){if(e){hideValidationMessage(e);var t=e.value;if(void 0!==t)return""==t?(showValidationMessage(e,d),e.focus(),!1):!!t.match(u)||(showValidationMessage(e,d),e.focus(),!1)}},b=function(e){if(e){hideValidationMessage(e);var t=e.value;if(void 0!==t)return""==t?(showValidationMessage(e,p),e.focus(),!1):!!t.match(c)||(showValidationMessage(e,p),e.focus(),!1)}},_=function(){h&&toggleClass&&toggleClass(h,"d-flex","d-none")},A=function(){h&&toggleClass&&toggleClass(h,"d-none","d-flex")},L=function(){if(!f)return"";var e=f.getAttribute("href");return e&&"#"!=e?e.split("?")[1]:""},I=function(){var e,t=document.querySelector("#footer-country-dropdown .b-flag-select__value");return null!==(e=t&&t.innerText)&&void 0!==e?e:""};m.value&&m.setAttribute("value",m.value),v.value&&v.setAttribute("value",v.value),m.addEventListener("keypress",w),v.addEventListener("keypress",w),[m,v].forEach((function(e){e.addEventListener("input",(function(e){e.target.setAttribute("value",e.target.value)}))}));var E=function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?function(e,t){var n=null==t?void 0:t.toLowerCase();if(-1!==(null==n?void 0:n.indexOf("email")))showValidationMessage(m,t);else if(-1!==(null==n?void 0:n.indexOf("password")))showValidationMessage(v,t);else if(n)showValidationMessage(m,t);else{var r;showValidationMessage(m,null==e||null===(r=e.error)||void 0===r?void 0:r.message)}}(e,t):function(e){var t,n,r;"C1035"===(null==e||null===(t=e.error)||void 0===t?void 0:t.code)?showValidationMessage(v,null==e||null===(n=e.error)||void 0===n?void 0:n.message):showValidationMessage(m,null==e||null===(r=e.error)||void 0===r?void 0:r.message)}(e)};g&&g.addEventListener("click",(function(){var e,t,n={};m.value=null===(e=m.value)||void 0===e?void 0:e.trim(),n.emailId=null===(t=m.value)||void 0===t?void 0:t.trim(),n.password=v.value;var r=S(m),o=b(v);if(r&&o){g.setAttribute("disabled","disabled"),A();var l=I();SignUpService.signUp(i,l,a,location.host,n,s).then((function(e){if(e.urlType){var t=L(),n=URLService.get(e.urlType,i,a,t);if(n)return void(location.href=n)}e.error&&E(e.error,e.message,s)})).catch((function(e){E(e)})).finally((function(){g.removeAttribute("disabled"),_()}))}}));var k=function(e,t){var n=null==t?void 0:t.toLowerCase();if(-1!==(null==n?void 0:n.indexOf("email")))showValidationMessage(m,t);else if(-1!==(null==n?void 0:n.indexOf("password")))showValidationMessage(v,t);else if(n)showValidationMessage(m,t);else{var r;showValidationMessage(m,null==e||null===(r=e.error)||void 0===r?void 0:r.message)}};y&&y.addEventListener("click",(function(){var e,t,n={};m.value=null===(e=m.value)||void 0===e?void 0:e.trim(),n.emailId=null===(t=m.value)||void 0===t?void 0:t.trim(),n.password=v.value;var r=S(m),o=b(v);if(r&&o){y.setAttribute("disabled","disabled"),A();var s=I();SignInService.signIn(i,s,a,location.host,n,l).then((function(e){if(e.urlType){var t=L(),n=URLService.get(e.urlType,i,a,t);if(n)return void(location.href=n)}e.error&&k(e.error,e.message)})).catch((function(e){k(e)})).finally((function(){y.removeAttribute("disabled"),_()}))}}))}catch(e){console.error(e)}}(),function(){var e=document.querySelector("#newsletter");if(e){var t=e.querySelector(".blog-image"),n=e.querySelector(".blog-cat"),r=e.querySelector(".blog-title"),o=e.querySelector(".blog-auth"),i=e.querySelector(".blog-date"),a=window.pageData.language;fetch("/blogs-staticassets/".concat(a,"/similar-posts.json")).then((function(e){return e.json()})).then((function(e){var a=_slicedToArray(e,1)[0],s=a.author,l=a.date,u=a.featured_image,c=a.title,d=a.url,p=a.category_name;i.innerText=l,o.innerText=s,r.innerText=c,r.href=d,n.innerText=p[0],t.src=u,t.setAttribute("data-lazyload-mobile-desktop-src",u)}))}var s=document.querySelectorAll(".blog-read-more");null==s||s.forEach((function(e){var t,n,r,o=null==e?void 0:e.getAttribute("data-blogdate");t=new Date(o),n=new Date,Math.max(12*(n.getFullYear()-t.getFullYear())+n.getMonth()-t.getMonth(),0)<=6&&(null==e||null===(r=e.classList)||void 0===r||r.remove("d-none"))}))}(),function(){var e=function(){return window.trustPilotRatings?window.trustPilotRatings:fetchApiWu("/staticassets/app-ratings/trustpilot-ratings.json",{method:"GET"},"trustpilotRatingApi").then((function(e){return window.trustPilotRatings=e,e}))},t=function(e){null==e||e.forEach((function(e){var t;return null===(t=e.classList)||void 0===t?void 0:t.remove("d-none")}))},n=function(e,t,n){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("width",e),r.setAttribute("height",t),r.setAttribute("xmlns","http://www.w3.org/2000/svg");var o=document.createElementNS("http://www.w3.org/2000/svg","image");return o.setAttribute("width",e),o.setAttribute("height",t),o.setAttribute("href",n),r.appendChild(o),r};try{var r,o,i,a=document.querySelectorAll(".star-rating-4-2"),s=document.querySelectorAll(".star-rating-4-5"),l=document.querySelectorAll(".star-rating-5"),u=document.querySelectorAll(".rating-value"),c=document.getElementById("number_of_reviews");a&&s&&l&&e().then((function(e){var n=e.rating,r=e.numberOfReviews.total;null==u||u.forEach((function(e){e.textContent=n})),r&&c?c.innerHTML=c.innerHTML.replace("{{number_of_reviews}}",r.toLocaleString("en-US")):null==c||c.classList.add("d-none"),n<=4.2?t(a):n>4.2&&n<4.6?t(s):n>4.6&&n<=5&&t(l)}));var d=document.getElementById("trustpilot-star-svg");d&&e().then((function(e){var t=e.star_image.starSvg,r=e.trustpilot_logo.darkBackground.logoSvg;if(t&&r){var o=n(t.width,t.height,t.url);d.appendChild(o);var i=n(r.width,r.height,r.url);d.appendChild(i)}else console.warn("SVG data is missing from API response.")}));var p=null===(r=window)||void 0===r||null===(o=r.pageData)||void 0===o||null===(i=o.template)||void 0===i?void 0:i.templateName,m=document.getElementById("wuJsonLd"),v=document.querySelectorAll(".onelink_qrcode,.onelink_appstore"),g=document.querySelector(".app-dynamic-rating");if(m&&("Corridor Template"==p||"WUDS 2.0 Template"==p||(null==v?void 0:v.length)>0)){var y=window.pageData.country,f=document.querySelectorAll(".ratings-text");fetchApiWu("/staticassets/app-ratings/".concat(y,"-ratings.json"),{method:"GET"},"starRatingApi").then((function(e){var t,n,r,o,i=null==e||null===(t=e.android)||void 0===t||null===(n=t.average_rating)||void 0===n?void 0:n.toFixed(1),a=null==e||null===(r=e.ios)||void 0===r||null===(o=r.average_rating)||void 0===o?void 0:o.toFixed(1),s=i&&a&&(null==e?void 0:e.finalDate)?null==e?void 0:e.finalDate:"";i>4&&a>4?Array.from(v).forEach((function(e){var t=e.parentElement.querySelector("span.rating-dynamic"),n=e.parentElement.querySelector("[data-lazyload-mobile-desktop-class='stars-rating']")||e.parentElement.querySelector("[data-lazyload-mobile-desktop-class='stars-rating-yellow']"),r=e.querySelector("img");if(function(e){Array.from(f).forEach((function(t){e?t.innerHTML=t.innerHTML.replace("{{ratingDate}}",e):t.classList.add("d-none")}))}(s),t&&n&&r){var o,l=null===(o=r.getAttribute("data-lazyload-mobile-desktop-src"))||void 0===o?void 0:o.toLowerCase();l.includes("google")||l.includes("play")?t.innerText=i:t.innerText=a,n.setAttribute("style","width:calc(11.5px * ".concat(t.innerText,");"))}})):null==g||g.classList.remove("d-L-block","d-M-block");for(var l=JSON.parse(m.textContent),u=l["@graph"],c=0;c<u.length;c++)if("Product"==u[c]["@type"]){var d,p,y=(null==e||null===(d=e.android)||void 0===d?void 0:d.average_rating)||0,h=(null==e||null===(p=e.ios)||void 0===p?void 0:p.average_rating)||0;if(y||h){var C,w,S,b=y>h?"android":"ios";l["@graph"][c].review.reviewRating.bestRating=5,l["@graph"][c].review.reviewRating.ratingValue=null==e||null===(C=e[b])||void 0===C?void 0:C.average_rating,l["@graph"][c].aggregateRating.ratingValue=null==e||null===(w=e[b])||void 0===w?void 0:w.average_rating,l["@graph"][c].aggregateRating.ratingCount=null==e||null===(S=e[b])||void 0===S?void 0:S.total}else l["@graph"][c]=""}m.textContent=JSON.stringify(l)}));var h=document.querySelector(".trustpilot-section");h&&e().then((function(e){var t=e.rating,n=h.querySelector(".rating-count");if(n&&e>=4){var r,o,i=document.querySelector(".hide-section");n.textContent=t,null==i||null===(r=i.classList)||void 0===r||r.add("d-none"),null==h||null===(o=h.classList)||void 0===o||o.remove("d-none")}}))}}catch(e){console.log("error in one link and ratings")}}(),function(){var e=function(){var e=document.getElementById("accordion-v2")||document.querySelector(".b-accordion-list"),t=window.location.hash;if(e&&t){var n=e.querySelector("[data-accordion-trigger=".concat(t.replace("#",""),"]"))||e.querySelector("".concat(t));null==n||n.click(),null==n||n.scrollIntoView()}};window.onhashchange=e,e()}(),loadGoogleAd=function(){var e,t,n=[],r=(null===(e=window)||void 0===e?void 0:e.pageData)&&(null===(t=window.pageData)||void 0===t?void 0:t.googlead)?window.pageData.googlead:{};document.querySelectorAll(".ad-block").length>0&&document.querySelectorAll(".ad-block").forEach((function(e){var t={};t.adId=null==e?void 0:e.getAttribute("id"),t.slotId=null==e?void 0:e.getAttribute("slotId"),t.className=null==e?void 0:e.getAttribute("className"),n.push(t)})),"true"===(null==r?void 0:r.isGoogleAdEnabled)&&n.length>0&&processAdRequest(n,r)};var processAdRequest=function(e,t){try{var n=[],r="true"===(null==t?void 0:t.logKeyvalueEnabled),o="true"===(null==t?void 0:t.isAdLazyLoadingEnabled);googletag.cmd.push((function(){n&&n.length>0&&(googletag.destroySlots(n),n=[]),logAdEventsInAmplitude("adBlocker"),e.map((function(e){var i=googletag.defineSlot(null==e?void 0:e.slotId,[[728,90],[320,50]],null==e?void 0:e.adId).addService(googletag.pubads()),a=googletag.sizeMapping().addSize([990,0],[728,90]).addSize([0,0],[320,50]).build();i.defineSizeMapping(a),i?(isNonProdEnv(window.location.host)&&googletag.pubads().setTargeting("env","test"),consentForNonPersonalizedAds(t)&&googletag.pubads().setPrivacySettings({nonPersonalizedAds:!0}),r&&logKeyValueForAds(),o&&googletag.pubads().enableLazyLoad({fetchMarginPercent:200,renderMarginPercent:100,mobileScaling:2}),googletag.pubads().enableSingleRequest(),googletag.enableServices(),logAdEventsInAmplitude("init"),n.push(i),"function"==typeof PWT.requestBids?(PWT.initAdserverSet=!1,PWT.requestBids(PWT.generateConfForGPT(googletag.pubads().getSlots()),(function(t){PWT.addKeyValuePairsToGPTSlots(t),displayAd(e,!0,(null==t?void 0:t.length)>0)}))):displayAd(e,!1)):console.error("Failed to define the banner ad slot. Check your ad unit path.")}))}))}catch(e){console.error(e)}},displayAd=function(e,t,n){try{if(PWT.initAdserverSet)return;PWT.initAdserverSet=!0,(null==e?void 0:e.adId)&&(googletag.display(e.adId),PWT.initAdserverSet=!1,logAdEventsInAmplitude("load",t,n,e))}catch(e){console.error(e)}},logAdEventsInAmplitude=function(e,t,n,r){try{var o={};if(e)switch(e){case"adBlocker":var i=void 0===window.PWT;o.ad_blocker_opted=i?"Yes":"No",triggerAmplitudeLogEvent("ad_load_performance",o);break;case"init":o.ad_initialized="Yes",triggerAmplitudeLogEvent("ad_load_performance",o);break;case"click":o.ad_clicked="Yes",triggerAmplitudeLogEvent("ad_load_performance",o);break;case"load":googletag.pubads().addEventListener("slotRenderEnded",(function(e){setTimeout((function(){var i=(null==e?void 0:e.isEmpty)||1==(null==e?void 0:e.size[0])?"No":"Yes";if(window.PWT&&(o.pubmatic_request=t?"Yes":"No",o.pubmatic_response=n?"Yes":"No"),o.ad_loaded=i,triggerAmplitudeLogEvent("ad_load_performance",o),"Yes"===i){var a,s=null===(a=document.getElementsByClassName("ad-block"))||void 0===a?void 0:a[0];if(s){var l=(null==r?void 0:r.className)||"";if(""!==l){var u,c=l.split(",");(u=s.classList).add.apply(u,_toConsumableArray(c))}}registerClickEvent(null==r?void 0:r.adId)}}),1e3)}))}}catch(e){console.error(e)}},isNonPersonalizedAd=function(e){try{if(e.length>0){var t=e.split(",");return!!CookieService.getCookie("userCookieOptIn")&&!t.every((function(e){return CookieService.getCookie("userCookieOptIn").includes(e)}))}}catch(e){console.error(e)}},registerClickEvent=function(e){try{var t=document.getElementById(e);if(t&&t.getElementsByTagName("iframe")&&t.getElementsByTagName("iframe").length>0){var n=t.getElementsByTagName("iframe")[0];if(n&&n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.body){var r=n.contentWindow.document.body;if(null!=r){var o=r.querySelectorAll("div a");o&&o.length>0&&o.forEach((function(e){e&&e.addEventListener("click",(function(){logAdEventsInAmplitude("click")}))}))}}}}catch(e){console.error(e)}},logKeyValueForAds=function(){try{var e={};window&&window.location.pathname&&(e.CP=window.location.pathname.split("/").pop().split(".")[0],e.URL=window.location.pathname.replace(/\//g,"-")),CookieService.getCookie("WULanguageCookie_")&&(e.LG=CookieService.getCookie("WULanguageCookie_")),CookieService.getCookie("userIdentity")&&(e.VT=CookieService.getCookie("userIdentity")),CookieService.getCookie("utm_source")&&(e.UTMS=CookieService.getCookie("utm_source")),CookieService.getCookie("utm_campaign")&&(e.UTMC=CookieService.getCookie("utm_campaign")),CookieService.getCookie("utm_medium")&&(e.UTMM=CookieService.getCookie("utm_medium"));for(var t=0,n=Object.entries(e);t<n.length;t++){var r=_slicedToArray(n[t],2),o=r[0],i=r[1];i&&googletag.pubads().setTargeting(o,i)}}catch(e){console.error(e)}},consentForNonPersonalizedAds=function(e){return!!(null==e?void 0:e.personalizedAdCookies)&&isNonPersonalizedAd(e.personalizedAdCookies)};!function(){var e=document.getElementById("price-dc");if(e){var t=e.querySelector(".dc-sendamt"),n=e.querySelector("#country-currency-dropdown"),r=e.querySelector("#country-currency-dropdown input.b-flag-select__search-field"),o=e.querySelector("#country-currency-dropdown span.wu-input_input"),i=e.querySelector("#country-currency-dropdown i.wu-flag"),a=e.querySelector("#country-currency-dropdown ul.country-currency-list"),s=e.querySelector(".price-dc-link"),l=e.querySelector("#country-currency-input"),u=e.querySelector("#country-currency-input i.wu-flag"),c=document.getElementById("corridor_fifo"),d=e.querySelector("#country-currency-input span.wu-input_input"),p=e.querySelector(".dc-fundsout"),m=e.querySelector(".dc-fundsin"),v=e.querySelector(".dc-amtpaid"),g=e.querySelector(".dc-amtrecvd"),y=-1!==(window.pageData&&window.pageData.R4_COUNTRIES).indexOf(pageData.country.toUpperCase());if(c&&d&&u&&t&&p&&m&&v&&g){t.innerHTML=t.innerHTML.replace("{{send-amount}}","<b>".concat(t.getAttribute("data-amount")," ").concat(pageData.senderCurrencyCode,"</b>")),toggleClass(u,u.getAttribute("data-flag"),pageData.receiverCountryCode),u.setAttribute("data-flag",pageData.receiverCountryCode),d.innerText="".concat(pageData.receiverCurrencyCode," - ").concat(pageData.receiverCountryName);var f=JSON.parse(c.innerHTML),h=window.pageData.receiverCurrencies;v.setAttribute("data-amtpaid",v.innerHTML),g.setAttribute("data-amtrecvd",g.innerHTML),m.setAttribute("data-fundsin",m.innerHTML),p.setAttribute("data-fundsout",p.innerHTML);var C=t.getAttribute("data-amount")||"1.00";dropdownFeature(n,!1),h.length>1&&(i.classList.add(pageData.receiverCountryCode.toLowerCase()),l.classList.add("d-none"),l.classList.remove("d-flex"),n.classList.remove("d-none"),n.classList.add("d-block"),r.setAttribute("value","".concat(h[0]," - ").concat(pageData.receiverCountryName)),o.innerText="".concat(h[0]," - ").concat(pageData.receiverCountryName),h.forEach((function(e){var t=document.createDocumentFragment(),n=document.createElement("li");n.className="wuds-dropdown__items b-flag-select__item ",n.setAttribute("data-currency-value",e);var l=document.createElement("span");l.className="wuds-dropdown__item-text",l.innerText="".concat(e," - ").concat(pageData.receiverCountryName);var u=document.createElement("i");u.className="wu-flag ".concat(pageData.receiverCountryCode.toLowerCase()," wu-flagSize--S"),n.appendChild(u),n.appendChild(l),t.appendChild(n),a.appendChild(t),n.addEventListener("mousedown",(function(t){r.setAttribute("value","".concat(e," - ").concat(pageData.receiverCountryName)),i.classList.add(pageData.receiverCountryCode.toLowerCase()),o.innerText="".concat(e," - ").concat(pageData.receiverCountryName);var n=s.getAttribute("href"),a=new URL("https://www.westernunion.com".concat(n));a.searchParams.set("ISOCurrency",e),w(e),s.setAttribute("href","".concat(a.pathname).concat(a.search))}))})));var w=function(e){var n={currency:pageData.senderCurrencyCode,country:pageData.country,funds_in:"*",host:"".concat(window.location.origin,"/"),sendAmount:C,sendToCurrency:e||pageData.receiverCurrencyCode,sendToCountry:pageData.receiverCountryCode},r=n.sendToCountry,o=n.sendToCurrency;n.sendToCurrency=setCountryCurrencyChange(r.toUpperCase(),o);var i=triggerPriceCatalog(n,!1,!0);dataCatalogProduct(!1,window.pageData.country,window.pageData.language,{country:window.pageData.country,sendToCountry:pageData.receiverCountryCode,language:window.pageData.language,sendAmount:t.getAttribute("data-amount"),fund_in:"*"},i,!0,e).then((function(n){var r,o=y?n:i.initApi(n);console.log(o);var a=o||{fx:null,fee:null,receiveAmount:0,sendAmount:0};a.receiveAmount=null===(r=a.receiveAmount)||void 0===r?void 0:r.toFixed(2),v.innerHTML=v.getAttribute("data-amtpaid").replace("{{amount paid}}","<b>".concat(+parseFloat(C)+a.fee," ").concat(pageData.senderCurrencyCode,"</b>")),g.innerHTML=g.getAttribute("data-amtrecvd").replace("{{recvAmount}}","<b>".concat(a.receiveAmount," ").concat(e||pageData.receiverCurrencyCode,"</b>"));var l=a.payOut||a.serviceCode,u=a.fundsIn||a.selectedFundsIn;p.innerHTML=p.getAttribute("data-fundsout").replace("{{funds_out}}","<b>".concat(f.fundsOut[l]||"","</b>")),m.innerHTML=m.getAttribute("data-fundsin").replace("{{funds_in}}","<b>".concat(f.fundsIn[u.toLowerCase()]||"","</b>"));var c,d=s.getAttribute("href");for(var h in d=d.split("?")[0],CloudPayOutCodeMapping)CloudPayOutCodeMapping[h]===l&&(c=h.split("_")[0]);s.setAttribute("href","".concat(d,"?ReceiveCountry=").concat(pageData.receiverCountryCode.toUpperCase(),"&ISOCurrency=").concat(e||pageData.receiverCurrencyCode.toUpperCase(),"&SendAmount=").concat(t.getAttribute("data-amount"),"&FundsOut=").concat(c,"&FundsIn=").concat(CloudPayIn[u]))}))};w()}}}(),function(){if(document.querySelector(".overview-page-block")){var e=document.querySelector(".overview-search"),t=Array.from(document.querySelectorAll(".dc-individual-countries"));if(e&&t&&0!==t.length)try{e.addEventListener("input",(function(e){var n=e.target.value;t.forEach((function(e){!n||e.innerText.toUpperCase().includes(n.toUpperCase())?toggleClass(e,"d-none","d-block"):toggleClass(e,"d-block","d-none")}))}))}catch(e){console.error(e),console.error("error in overview search")}}}();var summaryCalculator=document.querySelectorAll(".summary-calculator");function beforeAnimation(e){setTimeout((function(){e.classList.add("opac-100")}),500)}function animateNumber(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=null;beforeAnimation(e),requestAnimationFrame((function i(a){console.log(a),o||(o=a);var s=a-o,l=Math.min(s/n,1),u=0+l*(t-0);e.textContent=t%1==0?Math.round(u).toLocaleString():u.toFixed(r).toLocaleString(),l<1?requestAnimationFrame(i):e.textContent=t.toLocaleString()}))}function initLazyLoad(){var e=document.querySelectorAll(".animated-number"),t=new IntersectionObserver((function(e,t){e.forEach((function(e){if(e.isIntersecting){var t=e.target,n=parseFloat(t.getAttribute("data-target"));isNaN(n)||t.dataset.animated||(t.dataset.animated="true",setTimeout((function(){animateNumber(t,n,400)}),100))}}))}),{threshold:.5});e.forEach((function(e){return t.observe(e)}))}(null==summaryCalculator?void 0:summaryCalculator.length)>0&&Array.from(summaryCalculator).forEach((function(e){var t=e.querySelector(".sender-amount"),n=e.querySelector(".amount-container .value"),r=e.querySelector(".reciver-currency-select-dropdown");n.innerText="".concat(t.value," ").concat(r.getAttribute("data-currency")),t&&n&&r&&t.addEventListener("input",(function(e){n.innerText="".concat(e.target.value," ").concat(r.getAttribute("data-currency"))}))})),setTimeout(initLazyLoad,500);